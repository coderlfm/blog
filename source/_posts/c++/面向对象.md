---
title: C++ 面向对象
date: 2021-11-4 15:54:38
tags:
- C++
categories:
- C++

cover: /cover-imgs/cpp3.jpg

---
C++ 面向对象

<!-- more -->

`C++`中也有面向对象(`oop`) 的概念。

通过 `class`关键字来创建一个类，类里面可以通过以下三个关键字来修饰 属性或者方法

- public 公共属性，类内部，派生类，实例都可以访问

- private 私有属性，类内部才可以访问

- protected 类内部和派生类可以访问，实例不可以访问


## 类的定义

以下定义了一个最基本的 `Person`类，并且定义了两个公共属性 

```C++
class Person {
public:
  string name;
  int age;
}
```



## 类的基本使用

```C++
class Person {
public:
  string name;
  int age;
}

int main() {

  // 类的基本使用 和 struct 使用起来差不多
  Person p1;
  p1.name = "小明";
  p1.age = 18;

}

```



## 封装

```C++
class Person2 {

// 私有的
private:
  string name;
  int age;

// 通过 get/set 来操作私有属性
public:
  void setName(string props_name) {
    name = props_name;
  }

  string getName() {
    return name;
  }

  void setAge(int props_age) {
    age = props_age;
  }

  int getAge() {
    return age;
  }
};

int main() {

  // 封装 getter 和 setter
  Person2 p2;
  p2.setName("小红");
  p2.setAge(18);
  
}
```


输出

```C++
小红
18
```



## class 和 struct 的区别

从使用的角度来看，`class` 和 `struct` 没有什么区别

```C++
// 默认的权限是 private
class Person {
  string name;
  int age;
};


struct Student {
  string name;
  int age;
};

int main() {
  Person3 p3;
  
  // 语法报错，不允许设置
  //p3.name = "小红";
  //p3.age = 18;
  
  // 相当于是 public 权限
  Student s1;
  s1.name = "小李";
  s1.age = 19;
  
  return 0;
}


```



