---
title: 计算机网络 基本
date: 2021-03-21 14:10:54
tags:
- http

categories:
- http

cover: /cover-imgs/web-1.jpg


---

计算机网络的基本概念

<!-- more -->

## 网络

电信网络

有线电视

计算机网络

## 互联网

采用 tcp/ip 协议

internet 互连网 是一个通用名词
  任意使用不同协议将 不同台计算机连接起来就算一个 互连网
Internet 互联网 是一个专用名词

isp 多层结构
isp 分级
很多大公司 是直接接入 主干 isp 或者 地区 isp

IXP 

100m 是指个人到 地区 isp 的速率，并不是指访问所有的都一样

### 互连网标准化工作
互联网协会 ISOC 
互联网体系结构研究委员会 IAB 
互联网研究部 - 多个小组  互联网工程部-

标准不能指定的过早或者过晚，例如华为5g领先，但不是说全部按照华为的标准

正式标准的阶段
+ 草案 6个月
+ 建议标准
+ 互联网标准 可以获得一个 编号 STD ，一个标准可以有多个 RFC 

### C/S 服务
大多都是这种
客户端 - 服务端


### 对等方式 p2p方式
文件下载等方式
我为人人，人人为我的方式


## 互联网的核心部分
+ 电路交换
  面向连接 电话机就是典型的 电路交换，
  不同电话通信一对一的线  -》 交换机（通先前需要建立连接） 会存在占线
  所以电话很流畅，专线
  老式的是需要人工转接，老式电视中
  长途控制需要通过多个交换机
  如果发送大量的连续的数据，使用电路交换比较快，不适合计算机
  
+ 分组交换 计算机通讯使用的是 分组交换
  采用存储转发 技术

  分段发 [地址，源数据]

优点
由于一个分组的长度往往远小于整个报文的长度，因此分组交换比报文交换的时延小，同时也具有更好的灵活性

缺点
需要排队


+ 报文交换
用的较少了

### 总结
报文交换和分组交换不需要预先分配传输带宽，在传送突发数据时可以提高整个网络的信道利用率



+ 广域网 WAN 花钱买带宽，运营商维护
+ 城域网 MAN
+ 局域网 LAN 个人维护
+ 个人区域网 PAN


+ 速率
+ 带宽 
  比如 100mbit 表示发送数据 100， 接收数据也是100
  最高速率 网卡或交换机每秒能传输最大的数据 比特
  
+ 吞吐量 
  1字节 = 8 比特

  7MB/秒
+ 时延
  发送时延4 
  从数据最后1 比特从网卡发送出去
  
  传播时延
  从数据最后1 比特从网卡发送出去
  到最后1 比特进入到路由器缓存
  处理时延
  排队时延

+ 往返时间 RTT
使用卫星通信，往返时间 rtt 相对较长 
可以使用 ping 命令来查看

+ 利用率
  - 信道利用率
    信道利用率并非越高越好，该信道的时延也就迅速增加
  - 网路利用率

 计算机网络非性能特征  

 + 费用
 + 质量
 + 标准化
 + 可靠性
 + 可扩展性和可升级型
 + 易于管理和维护
  
## 计算机网络体系结构的形成
计算机网络是个非常复杂的系统
‘分层‘ 将庞大而复杂的问题转换成若干个较小的局部问题

1974 年 IBM 系统网络体系结构 SNA
其它公司相应提出 


国际标准化组织  ISO 提出了 开发系统互连基本参考模型 osi/rm 
 例如两个省的铁路 轨道宽度

获得了理论研究成果，在市场化方面失败了，没有利益驱动
实现过分复杂，运行效率低
+ osi 的专家们在完成 osi 标准时没有商业驱动力
+ osi 协议实现过分复杂，且执行效率很低
+ osi 标准的指定周期过长，因而使得osi 标准生成的设备无法及时进入市场
+ osi 的层次划分不太合理，有些功能在多个层次充重复出现
 
## 国际上的两种标准
当前  OSI
非国际标准 TCP/IP 获得了最广泛的引用


### 协议与划分层次
《对等实体》
数据交换必须遵守事先约定好的规则
这些规则 规定了所交换的数据格式及其有关的同步问题（同步含有时序问题）
网络协议三要素
  语法：什么地方需要填什么内容
  语义：类似于传参
  同步：事件实现顺序的说明

wireshark 抓包工具

应用层协议
http 协议
smtp 协议
dns  协议
FTP  协议

解决接收
### 传输层 
为应用层 提供服务，提供可靠的传输，保证数据能够完整传输 tcp/ip 协议中 tcp 协议主要为我们提供了可靠的传输

传输层传输的 段

### 网络层 
网络层是为传输层提供服务的
段 + 网络地址 = 数据包
网络中的路由器根据 ip 地址选择出口
  
### 数据链路层
加上 其它地址 目标ip 目标 mac 
传输协议是帧
给到路由器，去掉 数据链路层的数据，重新封装，然后再一层一层传输

分层好处
各层之间是独立的
结构上可分隔开
易于实现和维护


缺点
效率低


支持ipv6 网络层和数据链路层支持就ok

层数太多 会在描述
陈述太少 会使每一层协议太复杂

#### 各个层中完成的主要功能

差错控制： 使相应层次对等方的通行更加可靠 （数据链路层检查，网络层检查，传输层检查（TCP, 重传））
流量控制：发送端的发送速率必须使接收端来得及接收，不要太快 （传输层）
分段和重装：发送端将要发送的数据块划分为更小的单位，在接收端将其还原（传输层）类似于装箱拆箱的操作
复用和分佣：发送端几个高层会话复用同一条底层的连接，在接收端再进行分用，（传输层，网络层，数据链路层）
连接建立和释放：交换数据前先建立一条逻辑连接，数据传送结束后释放连接，（传输层）




osi 参考模型 7层
+ 应用层
+ 表示层
+ 会话层
+ 传输层
+ 网络层
+ 数据链路层
+ 物理层

TCP/IP 模型是四层

tcp/ip 
+ 应用层
  - 应用层
  - 表示层
  - 会话层
+ 运输层
+ 网络层
+ 网络接口层  
  - 没有具体内容

五层协议的体系结构
+ 应用层
  - 应用层
  - 表示层
  - 会话层
+ 运输层
+ 网络层
+ 数据链路层
+ 物理层 

TCP/IP 协议分层
应用层：  HTTP FTP SMTP DNS POP3 等
传输层：  `TCP` UDP
网络层：  ARP `IP` ICMP IGMP
数据链路层：CSMA/CD PPP X.25  HDLC  帧中继   
(网络接口层)  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  