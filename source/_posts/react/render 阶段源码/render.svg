<?xml version="1.0" standalone="no"?>
<svg style="background: #FFFFFF;padding:20px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="15062px" height="15720px" viewBox="-0.5 -0.5 15042 15700"><defs><style>* {margin: 0px; padding: 0px;}</style></defs><g><path d="M 5493.08 5804.17 L 6188.67 5804.17 Q 6198.67 5804.17 6208.67 5804.17 L 6897.3 5804.17" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 6902.55 5804.17 L 6895.55 5807.67 L 6897.3 5804.17 L 6895.55 5800.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7337.83 6539.5 L 7337.83 6663.33 Q 7337.83 6673.33 7337.83 6683.33 L 7337.83 6801.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7337.83 6807.22 L 7334.33 6800.22 L 7337.83 6801.97 L 7341.33 6800.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6117 7294.17 L 6117 7345.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6117 7350.55 L 6113.5 7343.55 L 6117 7345.3 L 6120.5 7343.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6092.5,7316.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">完成阶段</div></div></foreignObject></g><path d="M 127.5 108 L 127.5 150.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 127.5 155.88 L 124 148.88 L 127.5 150.63 L 131 148.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="67.5" y="68" width="120" height="40" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(106.5,81.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="42" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 44px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">render()</div></div></foreignObject></g><path d="M 255 220 L 494.8 220" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 500.05 220 L 493.05 223.5 L 494.8 220 L 493.05 216.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="0" y="157" width="255" height="126" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2.5,171.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="233" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 234px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  return legacyRenderSubtreeIntoContainer(</div><div>    null,</div><div>    element,</div><div>    container,</div><div>    false,</div><div>    callback,</div><div>  );</div></div></div></foreignObject></g><path d="M 1011.17 837 L 1011.17 846.83 Q 1011.17 856.67 1011.17 859.65 L 1011.17 862.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1011.17 867.88 L 1007.67 860.88 L 1011.17 862.63 L 1014.67 860.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="794.12" y="790" width="434" height="47" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(799.5,800.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="422" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 424px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">root = container._reactRootContainer = legacyCreateRootFromDOMContainer()<br/>创建 fiberRoot 对象</div></div></foreignObject></g><path d="M 1011.17 917 L 1011.17 926.83 Q 1011.17 936.67 1011.17 935.15 L 1011.17 933.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1011.17 938.88 L 1007.67 931.88 L 1011.17 933.63 L 1014.67 931.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="858.24" y="869" width="305.75" height="48" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(859.5,879.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="302" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 302px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">createLegacyRoot()  -&gt;  new ReactDOMLegacyRoot(container, options);</div></div></foreignObject></g><path d="M 1011.17 980 L 1011.17 990 Q 1011.17 1000 1010.75 1000 L 1010.54 1000 Q 1010.33 1000 1010.33 1001.82 L 1010.33 1003.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1010.33 1008.88 L 1006.83 1001.88 L 1010.33 1003.63 L 1013.83 1001.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="811.12" y="940" width="400" height="40" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(828.5,953.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="364" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 366px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">this._internalRoot = createRootImpl(container, LegacyRoot, options);</div></div></foreignObject></g><path d="M 1010.33 1083 L 1010.33 1094.17 Q 1010.33 1104.17 1020.33 1104.17 L 1201.17 1104.17 Q 1211.17 1104.17 1211.17 1111.4 L 1211.17 1118.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1211.17 1123.88 L 1207.67 1116.88 L 1211.17 1118.63 L 1214.67 1116.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1010.33 1083 L 1010.33 1432.5 Q 1010.33 1442.5 1010.33 1452.5 L 1010.33 1795.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1010.33 1800.88 L 1006.83 1793.88 L 1010.33 1795.63 L 1013.83 1793.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="905.5" y="1010" width="209.62" height="73" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(906.5,1026.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="206" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 206px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const root = createContainer() -&gt; createFiberRoot()(才开始真正创建 fiberRoot)</div></div></foreignObject></g><path d="M 1211.11 1161 L 1211.11 1204.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1211.11 1209.88 L 1207.61 1202.88 L 1211.11 1204.63 L 1214.61 1202.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1110.11" y="1125" width="202" height="36" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1116.5,1136.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="188" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 188px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const root  =  new FiberRootNode()</div></div></foreignObject></g><path d="M 1351.12 1228.73 L 1379.24 1228.78" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1384.49 1228.79 L 1377.49 1232.27 L 1379.24 1228.78 L 1377.5 1225.27 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1211.17 1246 L 1211.17 1296.67 Q 1211.17 1306.67 1211.17 1316.67 L 1211.17 1347.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1211.17 1352.88 L 1207.67 1345.88 L 1211.17 1347.63 L 1214.67 1345.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1071.12" y="1211" width="280" height="35" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1081.5,1215.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="258" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 258px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>const uninitializedFiber = createHostRootFiber(<span> )</span></div><div>创建 根 fiber </div></div></div></foreignObject></g><path d="M 1515.11 1246 L 1515.11 1282.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1515.11 1287.88 L 1511.61 1280.88 L 1515.11 1282.63 L 1518.61 1280.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1385.61" y="1212" width="259" height="34" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1392.5,1222.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="245" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 245px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return createFiber(HostRoot, null, null, mode);</div></div></foreignObject></g><path d="M 1368.86 1308.33 L 1220.33 1308.33 Q 1210.33 1308.33 1210.33 1318.33 L 1210.33 1347.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1210.33 1353.05 L 1206.83 1346.05 L 1210.33 1347.8 L 1213.83 1346.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1368.86" y="1289" width="292.5" height="39" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1372.5,1302.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="285" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 287px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return new FiberNode(tag, pendingProps, key, mode);</div></div></foreignObject></g><path d="M 1210.33 1448 L 1210.33 1458.33 Q 1210.33 1468.33 1210.33 1467.08 L 1210.33 1466.46 Q 1210.33 1465.83 1210.33 1472.73 L 1210.33 1479.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1210.33 1484.88 L 1206.83 1477.88 L 1210.33 1479.63 L 1213.83 1477.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1081.11" y="1354" width="258.01" height="94" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1089.5,1366.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="240" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 240px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">root.current = uninitializedFiber<br/>将 根 fiber 挂载到 fiberRoot 身上<br/><br/>uninitializedFiber.stateNode = root;<br/>将 fiberRoot 挂载到 rootFiber.stateNode 身上</div></div></foreignObject></g><path d="M 1210.33 1532 L 1210.33 1554.17 Q 1210.33 1564.17 1209.92 1564.17 L 1209.71 1564.17 Q 1209.5 1564.17 1209.5 1574.17 L 1209.5 1589.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1209.5 1594.88 L 1206 1587.88 L 1209.5 1589.63 L 1213 1587.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1073.61" y="1486" width="273" height="46" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1085.5,1495.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="249" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 249px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">uninitializedFiber.memoizedState = initialState;<br/>启用缓存</div></div></foreignObject></g><path d="M 1339.11 1618.5 L 1379.74 1618.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1384.99 1618.5 L 1377.99 1622 L 1379.74 1618.5 L 1377.99 1615 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1209.5 1641 L 1209.5 1663.33 Q 1209.5 1673.33 1209.92 1673.33 L 1210.13 1673.33 Q 1210.33 1673.33 1210.33 1683.33 L 1210.33 1698.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1210.33 1703.88 L 1206.83 1696.88 L 1210.33 1698.63 L 1213.83 1696.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1080.11" y="1596" width="259" height="45" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1099.5,1605.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="219" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 219px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">initializeUpdateQueue(uninitializedFiber);<br/>创建更新对象</div></div></foreignObject></g><rect x="1386.11" y="1591" width="256" height="55" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1396.5,1605.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="234" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 234px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const queue: UpdateQueue&lt;State&gt; =  { ... }<br/>fiber.updateQueue = queue;</div></div></foreignObject></g><rect x="1158.11" y="1705" width="104" height="36" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1181.5,1716.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 56px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return root</div></div></foreignObject></g><path d="M 1215.71 1831.67 L 1317 1831.67 Q 1327 1831.67 1327 1832.08 L 1327 1832.29 Q 1327 1832.5 1337 1832.5 L 1431.75 1832.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1437 1832.5 L 1430 1836 L 1431.75 1832.5 L 1430 1829 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1010.3 1862 L 1010.3 1912.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1010.3 1917.88 L 1006.8 1910.88 L 1010.3 1912.63 L 1013.8 1910.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="804.9" y="1802" width="410.81" height="60" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(872.5,1818.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="275" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 275px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">listenToAllSupportedEvents(rootContainerElement);<br/>事件代理</div></div></foreignObject></g><path d="M 1636.62 1863 L 1636.62 1897.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1636.62 1902.88 L 1633.12 1895.88 L 1636.62 1897.63 L 1640.12 1895.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1438.12" y="1802" width="397" height="61" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1459.5,1826.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="353" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 355px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">listenToNativeEvent(domEventName, true, rootContainerElement);</div></div></foreignObject></g><rect x="1551.62" y="1904" width="170" height="107" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1553.5,1916.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="144" height="82"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 145px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>addTrappedEventListener(</div><div>    target,</div><div>    domEventName,</div><div>    eventSystemFlags,</div><div>    isCapturePhaseListener,</div><div>  );</div></div></div></foreignObject></g><rect x="950.3" y="1919" width="120" height="45" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(981.5,1935.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 56px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return root</div></div></foreignObject></g><path d="M 855.88 701.67 L 1001.17 701.67 Q 1011.17 701.67 1011.17 711.67 L 1011.17 783.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1011.17 788.88 L 1007.67 781.88 L 1011.17 783.63 L 1014.67 781.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 621.88 738 L 619.68 1987.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 619.67 1992.88 L 616.18 1985.88 L 619.68 1987.63 L 623.18 1985.89 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="388" y="666" width="467.88" height="72" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(390.5,674.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="432" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 433px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    root = container._reactRootContainer = legacyCreateRootFromDOMContainer(</div><div>      container,</div><div>      forceHydrate,</div><div>    );</div></div></div></foreignObject></g><path d="M 619.5 2046 L 619.5 2059.17 Q 619.5 2069.17 619.5 2077.9 L 619.5 2086.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 619.5 2091.88 L 616 2084.88 L 619.5 2086.63 L 623 2084.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="520.62" y="1994" width="198" height="52" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(538.5,2006.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="162" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 162px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">fiberRoot = root._internalRoot;<br/>记录 fiberRoot</div></div></foreignObject></g><path d="M 812.25 2141.67 L 923.67 2141.67 L 1028.97 2141.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1034.22 2141.67 L 1027.22 2145.17 L 1028.97 2141.67 L 1027.22 2138.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 619.63 2191 L 619.63 2309.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 619.63 2314.88 L 616.13 2307.88 L 619.63 2309.63 L 623.13 2307.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="427" y="2093" width="385.25" height="98" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(429.5,2107.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="370" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 371px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    unbatchedUpdates(() =&gt; {</div><div>      // &lt;App /&gt;, fiberRoot, null, undefined</div><div>      updateContainer(children, fiberRoot, parentComponent, callback);</div><div>    });</div><div>    开始更新</div></div></div></foreignObject></g><path d="M 1201.34 2183.5 L 1201.34 2238.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.34 2243.38 L 1197.84 2236.38 L 1201.34 2238.13 L 1204.84 2236.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1035.09" y="2100.5" width="332.5" height="83" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1037.5,2114.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="303" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 304px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  // 拿到当前的 fiber 节点 如果是 render 则拿到 RootFiber</div><div>  const current = container.current;</div><div>  // 获取一次时间，第一次 render 时会获取当前的时间   </div><div>  const eventTime = requestEventTime();</div></div></div></foreignObject></g><path d="M 1201.17 2285 L 1201.17 2300.83 Q 1201.17 2310.83 1201.17 2320.48 L 1201.17 2330.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.17 2335.38 L 1197.67 2328.38 L 1201.17 2330.13 L 1204.67 2328.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1082.58" y="2244.5" width="237.49" height="40.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1084.5,2258.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="222" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 223px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const lane = requestUpdateLane(current);</div></div></foreignObject></g><path d="M 1333.08 2365 L 1453.89 2365" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1459.14 2365 L 1452.14 2368.5 L 1453.89 2365 L 1452.14 2361.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.17 2393.5 L 1201.17 2440.83 Q 1201.17 2450.83 1201.17 2460.83 L 1201.17 2501.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.17 2506.38 L 1197.67 2499.38 L 1201.17 2501.13 L 1204.67 2499.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1069.57" y="2336.5" width="263.51" height="57" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1075.5,2344.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="250" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 252px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const update = createUpdate(eventTime, lane);<br/><div style="text-align: left"><span>  update.payload = {element};</span></div>创建一个更新对象</div></div></foreignObject></g><path d="M 1642.83 2365.01 L 1685.63 2365.01" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1690.88 2365.01 L 1683.88 2368.51 L 1685.63 2365.01 L 1683.88 2361.51 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1460.26" y="2275.57" width="182.57" height="178.87" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1462.5,2288.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="157" height="152"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 158px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const update: Update&lt;*&gt; = {</div><div>    eventTime,</div><div>    lane,</div><div><br/></div><div>    tag: UpdateState,</div><div>    payload: null,</div><div>    callback: null,</div><div><br/></div><div>    next: null,</div><div>  };</div><div>  return update;</div></div></div></foreignObject></g><path d="M 1321.59 2529.17 L 1541.17 2529.17 Q 1551.17 2529.17 1561.17 2529.17 L 1774.6 2529.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1779.85 2529.17 L 1772.85 2532.67 L 1774.6 2529.17 L 1772.85 2525.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.33 2551.5 L 1201.33 3110.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.33 3115.38 L 1197.83 3108.38 L 1201.33 3110.13 L 1204.83 3108.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1081.08" y="2507.5" width="240.51" height="44" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1094.5,2516.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="213" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 215px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  enqueueUpdate(current, update, lane);<br/>准备更新</div></div></foreignObject></g><path d="M 1986.17 2563 L 1986.17 2581.67 Q 1986.17 2591.67 1986.17 2601.67 L 1986.17 2613.22" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1986.17 2618.47 L 1982.67 2611.47 L 1986.17 2613.22 L 1989.67 2611.47 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1780.97" y="2496" width="410.74" height="67" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1790.5,2509.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="391" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 393px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const updateQueue = fiber.updateQueue;<br/><br/>const sharedQueue: SharedQueue&lt;State&gt; = (updateQueue: any).shared;</div></div></foreignObject></g><path d="M 1880.92 2673.33 L 1737 2673.33 Q 1727 2673.33 1727 2683.33 L 1727 2704.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1727 2709.88 L 1723.5 2702.88 L 1727 2704.63 L 1730.5 2702.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1802.5,2667.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">否</div></div></foreignObject></g><path d="M 2091.75 2673.33 L 2330.33 2673.33 Q 2340.33 2673.33 2340.33 2683.33 L 2340.33 2705.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2340.33 2710.55 L 2336.83 2703.55 L 2340.33 2705.3 L 2343.83 2703.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2198.5,2665.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">是</div></div></foreignObject></g><path d="M 1986.34 2619.5 L 2092.08 2673.5 L 1986.34 2727.5 L 1880.59 2673.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1902.5,2660.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="166" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 168px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">isInterleavedUpdate(fiber, lane)<br/>是否并发模式更新</div></div></foreignObject></g><path d="M 2292 3010 L 2292 3044.17 Q 2292 3054.17 2282 3054.17 L 1211.17 3054.17 Q 1201.17 3054.17 1201.17 3064.17 L 1201.17 3110.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.17 3115.55 L 1197.67 3108.55 L 1201.17 3110.3 L 1204.67 3108.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2111" y="2711" width="459" height="299" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2113.5,2718.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="428" height="286"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 429px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-weight: normal ; line-height: 156% ; font-size: 10px"><div><span style="color: #c678dd">const</span><span style="color: #abb2bf"> interleaved </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> sharedQueue</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">interleaved</span><span style="color: #abb2bf">;</span></div><div><span style="color: #abb2bf">    </span><span style="color: #9a989b">//这是第一次更新。创建一个循环列表。 </span></div><div><span style="color: #abb2bf">    </span><span style="color: #c678dd">if</span><span style="color: #abb2bf"> (interleaved </span><span style="color: #56b6c2">===</span><span style="color: #abb2bf"> </span><span style="color: #d19a66">null</span><span style="color: #abb2bf">) {</span></div><div><span style="color: #abb2bf">      </span><span style="color: #9a989b">// This is the first update. Create a circular list.</span></div><div><span style="color: #abb2bf">      update</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> update;</span></div><br/><div><span style="color: #abb2bf">      </span><span style="color: #9a989b">// 在当前渲染结束时，此队列的并发更新将传输到挂起队列</span></div><div><span style="color: #abb2bf">      </span><span style="color: #9a989b">// At the end of the current render, </span></div><div><span style="color: #9a989b">      // this queue's interleaved updates will </span></div><div><span style="color: #abb2bf">      </span><span style="color: #9a989b">// be transfered to the pending queue.</span></div><div><span style="color: #abb2bf">      </span><span style="color: #61afef">pushInterleavedQueue</span><span style="color: #abb2bf">(sharedQueue);</span></div><div><span style="color: #abb2bf">    } </span><span style="color: #c678dd">else</span><span style="color: #abb2bf"> {</span></div><div><span style="color: #abb2bf">      update</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> interleaved</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf">;</span></div><div><span style="color: #abb2bf">      interleaved</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> update;</span></div><div><span style="color: #abb2bf">    }</span></div><div><span style="color: #abb2bf">    sharedQueue</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">interleaved</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> update;</span></div></div></div></div></foreignObject></g><path d="M 1687 3016 L 1687 3044.17 Q 1687 3054.17 1677 3054.17 L 1211.17 3054.17 Q 1201.17 3054.17 1201.17 3064.17 L 1201.17 3110.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.17 3115.55 L 1197.67 3108.55 L 1201.17 3110.3 L 1204.67 3108.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1490" y="2711" width="445" height="305" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1492.5,2718.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="436" height="283"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 437px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-weight: normal ; line-height: 166% ; font-size: 10px"><div><span style="color: #abb2bf">    </span><span style="color: #c678dd">const</span><span style="color: #abb2bf"> pending </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> sharedQueue</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">pending</span><span style="color: #abb2bf">;</span></div><br/><div><span style="color: #abb2bf">    </span><span style="color: #9a989b">// 第一次更新的 pending 是null</span></div><div><span style="color: #abb2bf">    </span><span style="color: #c678dd">if</span><span style="color: #abb2bf"> (pending </span><span style="color: #56b6c2">===</span><span style="color: #abb2bf"> </span><span style="color: #d19a66">null</span><span style="color: #abb2bf">) {</span></div><div><span style="color: #abb2bf">      </span><span style="color: #9a989b">// This is the first update. Create a circular list. </span></div><div><span style="color: #9a989b"> </span></div><div><span style="color: #abb2bf">      update</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> update;</span></div><div><span style="color: #abb2bf">    } </span><span style="color: #c678dd">else</span><span style="color: #abb2bf"> {</span></div><div><span style="color: #abb2bf">      update</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> pending</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf">;</span></div><div><span style="color: #abb2bf">      pending</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">next</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> update;</span></div><div><span style="color: #abb2bf">    }</span></div><div><span style="color: #abb2bf">    </span></div><div><span style="color: #abb2bf">    </span><span style="color: #9a989b">// 将 pending 设置为当前更新，</span></div><div><span style="color: #abb2bf">    </span><span style="color: #9a989b">// 会同时给 fiber.updateQueue.shared 设置,该值第一次是 null</span></div><div><span style="color: #abb2bf">    sharedQueue</span><span style="color: #56b6c2">.</span><span style="color: #e06c75">pending</span><span style="color: #abb2bf"> </span><span style="color: #56b6c2">=</span><span style="color: #abb2bf"> update;</span></div></div></div></div></foreignObject></g><rect x="1692" y="2231" width="248" height="268" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><g transform="translate(1694.5,2238.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="192" height="253"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 193px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-weight: normal ; line-height: 146% ; font-size: 10px"><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">    {</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">     </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">eventTime</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">3081886.5</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">,</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">     </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">lane</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">1</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">,</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">     </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">tag</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">0</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">,</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">     </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">payload</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> {</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">         </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">element</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> {</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">             </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">key</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">null</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">,</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">             </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">ref</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">null</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">,</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">             </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">props</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> {},</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">             </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">_owner</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">null</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">          }</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">      },</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">     </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">callback</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">null</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">,</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">     </span><span style="color: rgb(152 , 195 , 121) ; font-size: 10px">next</span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">:</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(209 , 154 , 102) ; font-size: 10px">null</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">  }</span></div></div></div></div></foreignObject></g><path d="M 1395.33 3145.83 L 1599.5 3145.83 Q 1609.5 3145.83 1619.5 3145.83 L 1816.89 3145.83" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1822.14 3145.83 L 1815.14 3149.33 L 1816.89 3145.83 L 1815.14 3142.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.32 3174.5 L 1201.32 3223.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1201.32 3228.38 L 1197.82 3221.38 L 1201.32 3223.13 L 1204.82 3221.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1007" y="3116.5" width="388.64" height="58" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1032.5,3132.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="337" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 337px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const root = scheduleUpdateOnFiber(current, lane, eventTime);<br/>开始更新</div></div></foreignObject></g><path d="M 1942.26 3174.5 L 1942.26 3223.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942.26 3228.38 L 1938.76 3221.38 L 1942.26 3223.13 L 1945.76 3221.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1823.26" y="3116.5" width="238.01" height="58" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1857.5,3132.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="168" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 168px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">checkForNestedUpdates();<br/>// 校验是否有超过50次以上更新</div></div></foreignObject></g><path d="M 1942 3278.5 L 1942 3297.5 Q 1942 3307.5 1942 3317.5 L 1942 3330.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942 3335.38 L 1938.5 3328.38 L 1942 3330.13 L 1945.5 3328.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1769.26" y="3229.5" width="346.01" height="49" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1783.5,3240.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="316" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 316px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const root = markUpdateLaneFromFiberToRoot(fiber, lane);<br/>// 根节点会返回自身的真实 dom</div></div></foreignObject></g><path d="M 2064.27 3358.33 L 2116.17 3358.33 Q 2126.17 3358.33 2126.17 3358.75 L 2126.17 3358.96 Q 2126.17 3359.17 2136.17 3359.17 L 2181.9 3359.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2187.15 3359.17 L 2180.15 3362.67 L 2181.9 3359.17 L 2180.15 3355.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942 3380 L 1942 3566.67 Q 1942 3576.67 1942 3586.67 L 1942 3767.29" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942 3772.54 L 1938.5 3765.54 L 1942 3767.29 L 1945.5 3765.54 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1820.26" y="3336.5" width="244.01" height="43.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1831.5,3351.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="221" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 222px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">markRootUpdated(root, lane, eventTime);</div></div></foreignObject></g><path d="M 2298.27 3388.38 L 2298.27 3438.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2298.27 3443.38 L 2294.77 3436.38 L 2298.27 3438.13 L 2301.77 3436.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2188.27" y="3330.13" width="219.99" height="58.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2202.5,3352.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="190" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 190px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  root.pendingLanes |= updateLane;</div></div></foreignObject></g><path d="M 2298.67 3555.5 L 2298.67 3565.83 Q 2298.67 3575.83 2298.25 3575.83 L 2298.04 3575.83 Q 2297.83 3575.83 2297.83 3582.23 L 2297.83 3588.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2297.83 3593.88 L 2294.33 3586.88 L 2297.83 3588.63 L 2301.33 3586.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2142.77" y="3444.5" width="311" height="111" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2145.5,3465.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="289" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 290px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  if (updateLane !== IdleLane) {</div><div>    root.suspendedLanes = NoLanes;</div><div>    root.pingedLanes = NoLanes;</div><div>  }</div><div>//   如果这次更新等级不是空闲更新则 清空 暂停的 lane</div></div></div></foreignObject></g><path d="M 2122 3686.67 L 1952 3686.67 Q 1942 3686.67 1942 3696.67 L 1942 3766.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942 3772.22 L 1938.5 3765.22 L 1942 3766.97 L 1945.5 3765.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2122" y="3594" width="460" height="186" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2124.5,3601.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="456" height="174"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 456px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-weight: normal ; font-size: 10px ; line-height: 190%"><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">  </span><span style="color: rgb(198 , 120 , 221) ; font-size: 10px">const</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> eventTimes </span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">=</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">root.</span><span style="color: rgb(224 , 108 , 117) ; font-size: 10px">eventTimes</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">; // 长度为 31 的数组 每个值默认是 0</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">  </span><span style="color: rgb(154 , 152 , 155) ; font-size: 10px">// 根据 更新等级返回 索引</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">  </span><span style="color: rgb(198 , 120 , 221) ; font-size: 10px">const</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> index </span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">=</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> </span><span style="color: rgb(97 , 175 , 239) ; font-size: 10px">laneToIndex</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">(updateLane);</span></div><div style="font-size: 10px">  <span style="color: rgb(154 , 152 , 155) ; font-size: 10px">// 这个索引可能会被覆盖</span><br/></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">  </span><span style="color: rgb(154 , 152 , 155) ; font-size: 10px">// 我们总是可以覆盖现有时间戳，因为我们更喜欢最近的事件，并且我们假设时间在单调增加。</span></div><div style="font-size: 10px"><span style="color: rgb(171 , 178 , 191) ; font-size: 10px">  eventTimes[index] </span><span style="color: rgb(86 , 182 , 194) ; font-size: 10px">=</span><span style="color: rgb(171 , 178 , 191) ; font-size: 10px"> eventTime;</span></div></div></div></div></foreignObject></g><path d="M 2021.27 3821.5 L 2114.9 3821.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2120.15 3821.5 L 2113.15 3825 L 2114.9 3821.5 L 2113.15 3818 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2051.5,3812.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">否</div></div></foreignObject></g><path d="M 1942 3869.34 L 1942 3907.5 Q 1942 3917.5 1941.58 3917.5 L 1941.38 3917.5 Q 1941.17 3917.5 1941.17 3927.5 L 1941.17 3959.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1941.17 3964.72 L 1937.67 3957.72 L 1941.17 3959.47 L 1944.67 3957.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1936.5,3896.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">是</div></div></foreignObject></g><path d="M 1942.27 3773.5 L 2021.27 3821.5 L 1942.27 3869.5 L 1863.26 3821.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1879.5,3808.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="124" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 124px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (lane === SyncLane)<br/>此次 更新是否同步更新</div></div></foreignObject></g><rect x="2121.27" y="3788.5" width="242.99" height="66" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2130.5,3808.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="223" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 223px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">ensureRootIsScheduled(root, eventTime);<br/>在回调同步后安排其他更新。</div></div></foreignObject></g><path d="M 1941.17 4086.4 L 1941.17 4128.33 Q 1941.17 4138.33 1941.58 4138.33 L 1941.79 4138.33 Q 1942 4138.33 1942 4148.33 L 1942 4182.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942 4188.05 L 1938.5 4181.05 L 1942 4182.8 L 1945.5 4181.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1933.5,4119.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">是</div></div></foreignObject></g><path d="M 2132.72 4026.4 L 2417.6 4026.99" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2422.85 4027 L 2415.84 4030.48 L 2417.6 4026.99 L 2415.86 4023.48 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2219.5,4017.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">否</div></div></foreignObject></g><path d="M 1941.48 3965.5 L 2133.98 4026 L 1941.48 4086.5 L 1748.97 4026 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(1750.5,3991.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="381" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 381px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 12px">(executionContext &amp; LegacyUnbatchedContext) !== NoContext &amp;&amp;<br/>  <br/>      (executionContext &amp; (RenderContext | CommitContext)) === NoContext<br/>判断是否在非并发更新 并且 是否还没有渲染</font></div></div></foreignObject></g><path d="M 2588.67 4079 L 2588.67 4089.17 Q 2588.67 4099.17 2588.67 4103.18 L 2588.67 4107.2" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2588.67 4112.45 L 2585.17 4105.45 L 2588.67 4107.2 L 2592.17 4105.45 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2423.97" y="3975" width="329" height="104" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2426.5,3983.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="325" height="87"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 325px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span style="font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-size: 12px ; color: rgb(97 , 175 , 239)">ensureRootIsScheduled</span><span style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-size: 12px">(</span><span style="font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-size: 12px ; color: rgb(86 , 182 , 194)">root</span><span><font color="#abb2bf" face="fira code light, consolas, courier new, monospace"><span style="font-size: 12px">, eventTime);</span></font><br/><div><font color="#abb2bf" face="fira code light, consolas, courier new, monospace"><span style="font-size: 12px">如果是本次更新是同步的，不过当前有React更新任务正在进行，</span></font><span style="font-size: 12px ; color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace">而且因为无法打断，所以调 ensureRootIsScheduled</span><span style="font-size: 12px ; color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace"> 目的是去复用已经在更新的任务，让这个已有的任务</span><span style="font-size: 12px ; color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace">把这次更新顺便做了</span></div><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-size: 12px"><br/></div></span></div></div></foreignObject></g><path d="M 2051.77 4247.67 L 2162.63 4247.84" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2167.88 4247.85 L 2160.88 4251.34 L 2162.63 4247.84 L 2160.89 4244.34 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942 4305.5 L 1942 4341.67 L 1942 4371.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1942 4376.38 L 1938.5 4369.38 L 1942 4371.13 L 1945.5 4369.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1832.77" y="4189.5" width="219" height="116" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1835.5,4192.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="215" height="109"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 215px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace"> </span><span style="font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; color: rgb(97 , 175 , 239)">performSyncWorkOnRoot</span><span style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace">(</span><span style="font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; color: rgb(86 , 182 , 194)">root</span><span style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace">);<br/></span><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-size: 12px ; line-height: 136%"><div> <span style="color: #9a989b">如果是本次更新是同步的，并且当前还未渲染，意味着主线程空闲，并没有React的</span><span style="color: rgb(154 , 152 , 155)">更新任务在执行，那么调用performSyncWorkOnRoot开始执行同步任务</span></div><div><span style="color: #9a989b">第一次 render 会进入到这里</span></div></div></div></div></foreignObject></g><path d="M 2588.67 4192.43 L 2588.67 4202.5 Q 2588.67 4212.5 2588.67 4217.57 L 2588.67 4222.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2588.67 4227.88 L 2585.17 4220.88 L 2588.67 4222.63 L 2592.17 4220.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2588.47 4113.5 L 2705.34 4153 L 2588.47 4192.5 L 2471.59 4153 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2472.5,4132.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="230" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 230px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>if (<span>  executionContext === NoContext &amp;&amp;</span></div><div>        (fiber.mode &amp; ConcurrentMode) === NoMode<span> )</span></div></div></div></foreignObject></g><path d="M 2268.67 4270 L 2268.67 4284.17 Q 2268.67 4294.17 2268.67 4302.65 L 2268.67 4311.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2268.67 4316.38 L 2265.17 4309.38 L 2268.67 4311.13 L 2272.17 4309.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2169" y="4226" width="199" height="44" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2171.5,4227.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="195" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 195px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">let lanes = getNextLanes(root, NoLanes);<br/>获取最高的更新等级</div></div></foreignObject></g><path d="M 2374.32 4345.83 L 2493.67 4345.83 L 2841.47 4345.83" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2846.72 4345.83 L 2839.72 4349.33 L 2841.47 4345.83 L 2839.72 4342.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2162.32 4334.17 L 2107 4334.17 L 2107 4276.67 L 2058.37 4276.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2053.12 4276.67 L 2060.12 4273.17 L 2058.37 4276.67 L 2060.12 4280.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2268.67 4350.5 L 2268.67 4370.83 L 2268.67 4374.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2268.67 4379.88 L 2265.17 4372.88 L 2268.67 4374.63 L 2272.17 4372.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2162.32" y="4317.5" width="212" height="33" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2164.5,4320.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="208" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 208px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">let exitStatus = renderRootSync(root, lanes);</div></div></foreignObject></g><path d="M 3066.34 4327.74 L 3503.32 4328.68" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3508.57 4328.7 L 3501.56 4332.18 L 3503.32 4328.68 L 3501.58 4325.18 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3178.5,4323.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="153" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><span style="font-size: 10px ; text-align: left">创建  </span><font color="#0066cc" style="font-size: 10px ; text-align: left">workInProgress 双缓存</font></div></div></foreignObject></g><path d="M 2957.02 4363.5 L 2957.02 4452.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2957.02 4457.88 L 2953.52 4450.88 L 2957.02 4452.63 L 2960.52 4450.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2847.69" y="4291.5" width="218.65" height="72" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2850.5,4272.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="215" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 215px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><br/>if (workInProgressRoot !== root || workInProgressRootRenderLanes !== lanes){<br/>  // ...<br/>  prepareFreshStack(root, lanes);<br/>  <br/>}</div></div></foreignObject></g><path d="M 3787.69 4329.17 L 3824.5 4329.17 Q 3834.5 4329.17 3844.5 4329.17 L 3875.34 4329.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3880.59 4329.17 L 3873.59 4332.67 L 3875.34 4329.17 L 3873.59 4325.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3648.69 4350.5 L 3648.69 4412.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3648.69 4417.88 L 3645.19 4410.88 L 3648.69 4412.63 L 3652.19 4410.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3509.69" y="4307.5" width="278" height="43" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3512.5,4315.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="274" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 274px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">workInProgress = createWorkInProgress(root.current, null);</div></div></foreignObject></g><path d="M 3977 4344.5 L 3977 4354.33 Q 3977 4364.17 3977 4365.7 L 3977 4367.24" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3977 4372.49 L 3973.5 4365.49 L 3977 4367.24 L 3980.5 4365.49 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3881.71" y="4313.5" width="190" height="31" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3884.5,4315.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="186" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 186px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">let workInProgress = current.alternate;</div></div></foreignObject></g><path d="M 4051.23 4400 L 4245.33 4400 Q 4255.33 4400 4255.33 4410 L 4255.33 4442.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4255.33 4447.88 L 4251.83 4440.88 L 4255.33 4442.63 L 4258.83 4440.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4110.5,4393.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="53" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false 更新</div></div></foreignObject></g><g transform="translate(4214.5,4404.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">复用原来的属性</div></div></foreignObject></g><path d="M 3977 4426.4 L 3977 4441.67 Q 3977 4451.67 3977 4461.4 L 3977 4471.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3977 4476.38 L 3973.5 4469.38 L 3977 4471.13 L 3980.5 4469.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3951.5,4445.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="51" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true, 挂载</div></div></foreignObject></g><path d="M 3976.71 4373.5 L 4051.23 4400 L 3976.71 4426.5 L 3902.19 4400 Z" fill="#ffffff" stroke="#006eaf" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3903.5,4379.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="145" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; vertical-align: top; width: 145px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (workInProgress === null)<br/>是 更新阶段还是挂载阶段</div></div></foreignObject></g><path d="M 3977.83 4733 L 3977.83 4770.83 Q 3977.83 4780.83 3977.42 4780.83 L 3977.21 4780.83 Q 3977 4780.83 3977 4790.83 L 3977 4821.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3977 4826.88 L 3973.5 4819.88 L 3977 4821.63 L 3980.5 4819.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3822" y="4619" width="311" height="114" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3824.5,4634.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="295" height="82"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 296px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div><span>    workInProgress.elementType = current.elementType;</span><br/></div><div><div>    workInProgress.type = current.type;</div><div>    workInProgress.stateNode = current.stateNode;</div></div><div><br/></div><div><div>    workInProgress.alternate = current;</div><div>    current.alternate = workInProgress;</div></div></div></div></foreignObject></g><path d="M 4255.33 4596 L 4255.33 4764.17 Q 4255.33 4774.17 4245.33 4774.17 L 3987 4774.17 Q 3977 4774.17 3977 4784.17 L 3977 4821.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3977 4827.22 L 3973.5 4820.22 L 3977 4821.97 L 3980.5 4820.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4137" y="4449" width="236" height="147" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4139.5,4453.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="232" height="138"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 232px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    workInProgress.pendingProps = pendingProps;</div><div><br/></div><div>    workInProgress.type = current.type;</div><div><br/></div><div>    workInProgress.flags = NoFlags;</div><div><br/></div><div>    workInProgress.subtreeFlags = NoFlags;</div><div>    workInProgress.deletions = null;</div><div><br/></div></div></div></foreignObject></g><path d="M 3960.33 5189.17 L 3960.33 5204.17 Q 3960.33 5214.17 3960.33 5224.17 L 3960.33 5242.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3960.33 5247.88 L 3956.83 5240.88 L 3960.33 5242.63 L 3963.83 5240.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3788" y="4828" width="378" height="352" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3790.5,4829.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="374" height="348"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 374px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  workInProgress.flags = current.flags &amp; StaticMask;</div><div>  workInProgress.childLanes = current.childLanes;</div><div>  workInProgress.lanes = current.lanes;</div><div><br/></div><div>  workInProgress.child = current.child;</div><div>  workInProgress.memoizedProps = current.memoizedProps;</div><div>  workInProgress.memoizedState = current.memoizedState;</div><div>  workInProgress.updateQueue = current.updateQueue;</div><div><br/></div><div>  // Clone the dependencies object. This is mutated during the render phase, so</div><div>  // it cannot be shared with the current fiber.</div><div>  const currentDependencies = current.dependencies;</div><div>  workInProgress.dependencies =</div><div>    currentDependencies === null</div><div>      ? null</div><div>      : {</div><div>          lanes: currentDependencies.lanes,</div><div>          firstContext: currentDependencies.firstContext,</div><div>        };</div><div><br/></div><div>  // These will be overridden during the parent's reconciliation</div><div>  workInProgress.sibling = current.sibling;</div><div>  workInProgress.index = current.index;</div><div>  workInProgress.ref = current.ref;</div></div></div></foreignObject></g><rect x="3900.21" y="5249" width="120" height="33" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3902.5,5252.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="116" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 116px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return workInProgress;</div></div></foreignObject></g><path d="M 3574.2 4438.33 L 2967 4438.33 Q 2957 4438.33 2957 4445.57 L 2957 4452.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2957 4458.05 L 2953.5 4451.05 L 2957 4452.8 L 2960.5 4451.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3574.2" y="4419" width="148.98" height="39" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3576.5,4425.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="162" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 163px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">enqueueInterleavedUpdates();<br/>// 将并发更新加入队列</div></div></foreignObject></g><path d="M 2957 4614 L 2957 4652.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2957 4657.38 L 2953.5 4650.38 L 2957 4652.13 L 2960.5 4650.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3030 4536.67 L 3071.17 4536.67 L 3105.63 4536.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3110.88 4536.67 L 3103.88 4540.17 L 3105.63 4536.67 L 3103.88 4533.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2884" y="4459" width="146" height="155" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(2886.5,4467.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="142" height="138"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 142px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  do {</div><div>    try {</div><div>      workLoopSync();</div><div>      break;</div><div>    } catch (thrownValue) {</div><div>      handleError(root, thrownValue);</div><div>    }</div><div>  } while (true);</div><div>// 开启同步工循环</div></div></div></foreignObject></g><path d="M 3304.66 4554.17 L 3342.83 4554.17 Q 3352.83 4554.17 3362.83 4554.17 L 3394.63 4554.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3399.88 4554.17 L 3392.88 4557.67 L 3394.63 4554.17 L 3392.88 4550.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3112.66 4554.17 L 3071.17 4554.17 L 3036.7 4554.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3031.45 4554.17 L 3038.45 4550.67 L 3036.7 4554.17 L 3038.45 4557.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3112.66" y="4526.25" width="192" height="55.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3114.5,4526.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="199" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 199px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  while (workInProgress !== null) {</div><div>    performUnitOfWork(workInProgress);</div><div>  }</div></div></div></foreignObject></g><path d="M 3507 4582.5 L 3507 4595.83 Q 3507 4605.83 3507 4613.98 L 3507 4622.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3507 4627.38 L 3503.5 4620.38 L 3507 4622.13 L 3510.5 4620.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3401" y="4525.5" width="212" height="57" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3403.5,4547.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="203" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 204px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const current = unitOfWork.alternate;</div></div></foreignObject></g><path d="M 3651.69 4650 L 4182.83 4650 Q 4192.83 4650 4192.83 4650.83 L 4192.83 4651.25 Q 4192.83 4651.67 4202.83 4651.67 L 4728.32 4651.67" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="1 2" pointer-events="none"/><path d="M 4733.57 4651.67 L 4726.57 4655.17 L 4728.32 4651.67 L 4726.57 4648.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3677.5,4644.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="52" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">开始捕获</div></div></foreignObject></g><path d="M 3507.25 4672 L 3507.27 4682.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3507.29 4687.88 L 3503.77 4680.89 L 3507.27 4682.63 L 3510.77 4680.87 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3362.69" y="4628.5" width="289" height="43.5" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(3365.5,4636.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="285" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 285px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  next = beginWork(current, unitOfWork, subtreeRenderLanes);</div></div></foreignObject></g><path d="M 3507.32 4848 L 3507.25 4880.15" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3507.24 4885.4 L 3503.76 4878.4 L 3507.25 4880.15 L 3510.76 4878.41 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3370" y="4689" width="275" height="159" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3372.5,4699.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="271" height="138"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 271px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  // 将新的 props 设置为老的 props</div><div>  unitOfWork.memoizedProps = unitOfWork.pendingProps;</div><div>  if (next === null) {</div><div>    completeUnitOfWork(unitOfWork);</div><div>  } else {</div><div><span>    workInProgress = next;</span><br/></div><div>  }</div><div><br/></div><div>  ReactCurrentOwner.current = null;</div></div></div></foreignObject></g><path d="M 4864.5 4682.5 L 4864.5 4699.17 Q 4864.5 4709.17 4864.5 4719.17 L 4864.5 4730.21" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4864.5 4735.46 L 4861 4728.46 L 4864.5 4730.21 L 4868 4728.46 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4734.69" y="4620.25" width="260" height="62.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4737.5,4630.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="256" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 256px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const oldProps = current.memoizedProps;</div><div>    const newProps = workInProgress.pendingProps;</div></div></div></foreignObject></g><path d="M 4790.94 4768.33 L 4644.5 4768.33 Q 4634.5 4768.33 4634.5 4778.33 L 4634.5 4835.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4634.5 4840.38 L 4631 4833.38 L 4634.5 4835.13 L 4638 4833.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4643.5,4762.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="112" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">tag = 3 ，根节点类型</div></div></foreignObject></g><path d="M 4864.69 4736.5 L 4938.69 4768.44 L 4864.69 4800.38 L 4790.69 4768.44 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4793.5,4747.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="144" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 144px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  switch (workInProgress.tag)<br/><div style="text-align: center"><span>判断 fiber 节点类型</span></div></div></div></foreignObject></g><path d="M 4780.69 4864.17 L 4963.67 4864.17 Q 4973.67 4864.17 4983.67 4864.17 L 5159.8 4864.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5165.05 4864.17 L 5158.05 4867.67 L 5159.8 4864.17 L 5158.05 4860.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4487.69" y="4841.5" width="293" height="46" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4490.5,4851.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="289" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 289px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> return updateHostRoot(current, workInProgress, renderLanes);</div></div></foreignObject></g><path d="M 5292.83 4886.5 L 5292.83 4896.67 Q 5292.83 4906.67 5292.83 4909.65 L 5292.83 4912.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 4917.88 L 5289.33 4910.88 L 5292.83 4912.63 L 5296.33 4910.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5166.19" y="4841.5" width="252.5" height="45" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5168.5,4850.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="249" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 249px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span style="font-family: &quot;helvetica&quot; ; font-size: 10px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; display: inline ; float: none">const updateQueue = workInProgress.updateQueue;</span></div></div></foreignObject></g><g transform="translate(5471.5,4925.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="93" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 94px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font style="font-size: 9px ; line-height: 90%">{<br/>    "element": null,<br/>    "cache": {}<br/>}<br/>// memoizedState<br/></font></div></div></foreignObject></g><path d="M 5292.83 4993 L 5292.83 5003.33 Q 5292.83 5013.33 5292.83 5019.73 L 5292.83 5026.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 5031.38 L 5289.33 5024.38 L 5292.83 5026.13 L 5296.33 5024.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5130" y="4919" width="325" height="74" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5132.5,4935.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="313" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 314px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const nextProps = workInProgress.pendingProps;    // null</div><div>  const prevState = workInProgress.memoizedState;</div><div>  const prevChildren = prevState.element;</div></div></div></foreignObject></g><path d="M 5292.44 5120.5 L 5292.44 5167.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.44 5172.38 L 5288.94 5165.38 L 5292.44 5167.13 L 5295.94 5165.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5149.32" y="5032.5" width="286.25" height="88" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5151.5,5049.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="323" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 323px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><p>cloneUpdateQueue(current, workInProgress);<br/>// 克隆更新队列，如果 current.<span style="font-family: &quot;helvetica&quot; ; font-size: 10px">updateQueue 和 workInProgress.</span><span style="font-family: &quot;helvetica&quot; ; font-size: 10px">updateQueue 相等，则会克隆 current 中的 updateQueue</span></p></div></div></foreignObject></g><path d="M 5292.83 5221.5 L 5292.83 5246.67 Q 5292.83 5256.67 5292.83 5266.67 L 5292.83 5285.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 5290.38 L 5289.33 5283.38 L 5292.83 5285.13 L 5296.33 5283.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5485.56 5197.5 L 5812.3 5197.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5817.55 5197.5 L 5810.55 5201 L 5812.3 5197.5 L 5810.55 5194 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5099.32" y="5173.5" width="386.24" height="48" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5102.5,5183.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 379px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  processUpdateQueue(workInProgress, nextProps, null, renderLanes);<br/>  计算到新的 state</div></div></foreignObject></g><path d="M 6025.33 5342.5 L 6025.33 5361.67 Q 6025.33 5371.67 6025.33 5381.67 L 6025.33 5395.15" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 5400.4 L 6021.83 5393.4 L 6025.33 5395.15 L 6028.83 5393.4 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5818.87" y="5149.5" width="413" height="193" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5821.5,5190.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="406" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 407px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  //这在 ClassComponent 或 HostRoot 上总是非空的</div><div><span>  const queue: UpdateQueue&lt;State&gt; = (workInProgress.updateQueue: any);</span></div><div><span><br/></span></div><div><span><div>  // 都为 null</div><div>  let firstBaseUpdate = queue.firstBaseUpdate;</div><div>  let lastBaseUpdate = queue.lastBaseUpdate;</div><div><br/></div><div>  let pendingQueue = queue.shared.pending;      // 取到pending 的更新<br/></div></span></div></div></div></foreignObject></g><path d="M 6025.33 5468.98 L 6025.33 5479.17 Q 6025.33 5489.17 6025.33 5496.15 L 6025.33 5503.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 5508.38 L 6021.83 5501.38 L 6025.33 5503.13 L 6028.83 5501.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.38 5401.5 L 6108.13 5435.25 L 6025.38 5469 L 5942.63 5435.25 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5944.5,5421.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="139" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 140px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (pendingQueue !== null)<br/><div style="text-align: center"><span>是否有 pending 的更新</span></div></div></div></foreignObject></g><path d="M 6025.33 6017.5 L 6025.33 6034.17 Q 6025.33 6044.17 6025.33 6054.16 L 6025.33 6064.15" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 6069.4 L 6021.83 6062.4 L 6025.33 6064.15 L 6028.83 6062.4 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6000.5,6037.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">处理阶段</div></div></foreignObject></g><rect x="5754.69" y="5509.5" width="541.37" height="508" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5757.5,5526.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="524" height="474"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 525px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const lastPendingUpdate = pendingQueue;</div><div>    const firstPendingUpdate = lastPendingUpdate.next;  </div><div>    // 第一次 update 为 pendinQueue.next，最后一次更新为pendingQueue， </div><div>    // 设置完后，剪断这个环形链表，如果这俩是一致的话，则 两个 next都会被置空</div><div><br/></div><div>    lastPendingUpdate.next = null;  // 将 lastpending 的 next 置空  </div><div>    // 将 pending 的更新插入到基本更新队列</div><div>    if (lastBaseUpdate === null) {</div><div>      // 记录第一次 的update</div><div>      firstBaseUpdate = firstPendingUpdate;</div><div>    } else {</div><div>      lastBaseUpdate.next = firstPendingUpdate;</div><div>    }</div><div>    // 记录最后一次 update</div><div>    lastBaseUpdate = lastPendingUpdate;</div><div><br/></div><div>    // 如果有一个 current 队列，并且它与 base queue 不同，那么我们也需要将更新传输到该队列。 </div><div>    // 因为 base queue 是一个没有循环的单向链表，我们可以附加到两个列表并利用结构共享。 </div><div>    // 拷贝 workInProgress 的 base queue 单向链表<br/></div><div><br/></div><div><div>    const current = workInProgress.alternate;</div><div>    if (current !== null) {</div><div>      // This is always non-null on a ClassComponent or HostRoot</div><div>      const currentQueue: UpdateQueue&lt;State&gt; = (current.updateQueue: any);</div><div>      const currentLastBaseUpdate = currentQueue.lastBaseUpdate;</div><div>      if (currentLastBaseUpdate !== lastBaseUpdate) {</div><div>        if (currentLastBaseUpdate === null) {</div><div>          currentQueue.firstBaseUpdate = firstPendingUpdate;</div><div>        } else {</div><div>          currentLastBaseUpdate.next = firstPendingUpdate;</div><div>        }</div><div>        currentQueue.lastBaseUpdate = lastPendingUpdate;</div><div>      }</div><div>    }</div></div></div></div></foreignObject></g><path d="M 6025.33 6136.48 L 6025.33 6146.67 Q 6025.33 6156.67 6025.33 6162.4 L 6025.33 6168.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 6173.38 L 6021.83 6166.38 L 6025.33 6168.13 L 6028.83 6166.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.38 6070.5 L 6125.63 6103.5 L 6025.38 6136.5 L 5925.13 6103.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5927.5,6097.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="152" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 153px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  if (firstBaseUpdate !== null)</div></div></foreignObject></g><path d="M 6024.6 6344.5 L 6023.97 6411.77" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6023.93 6417.02 L 6020.49 6409.99 L 6023.97 6411.77 L 6027.49 6410.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5983.5,6369.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="83" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">do .. while(true)</div></div></foreignObject></g><rect x="5826.13" y="6174.5" width="398.5" height="170" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5828.5,6183.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="395" height="152"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 395px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    let newState = queue.baseState;</div><div>    // TODO: Don't need to accumulate this. Instead, we can remove renderLanes</div><div>    // from the original lanes.</div><div>    let newLanes = NoLanes;</div><div><br/></div><div>    let newBaseState = null;</div><div>    let newFirstBaseUpdate = null;</div><div>    let newLastBaseUpdate = null;</div><div><br/></div><div>    let update = firstBaseUpdate;</div></div></div></foreignObject></g><path d="M 6117.19 7513.5 L 6117.19 7567.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6117.19 7572.38 L 6113.69 7565.38 L 6117.19 7567.13 L 6120.69 7565.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5931.69" y="7351.5" width="371" height="162" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5934.5,7363.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="276" height="138"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 277px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    // 将新的 state 存下来</div><div>    if (newLastBaseUpdate === null) {</div><div>      newBaseState = newState;</div><div>    }</div><div><br/></div><div>    queue.baseState = ((newBaseState: any): State);</div><div>    queue.firstBaseUpdate = newFirstBaseUpdate;</div><div>    queue.lastBaseUpdate = newLastBaseUpdate;</div><div><br/></div><div>    const lastInterleaved = queue.shared.interleaved;</div></div></div></foreignObject></g><path d="M 5982.94 7618.33 L 5662 7618.33 Q 5652 7618.33 5652 7608.33 L 5652 5270.83 Q 5652 5260.83 5642 5260.83 L 5304.5 5260.83 Q 5294.5 5260.83 5294.5 5270.83 L 5294.5 5285.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5294.5 5290.55 L 5291 5283.55 L 5294.5 5285.3 L 5298 5283.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5982.94" y="7573.5" width="268.5" height="78" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5985.5,7584.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="250" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 251px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    markSkippedUpdateLanes(newLanes);</div><div>    workInProgress.lanes = newLanes;</div><div>    // 将新的 state 设置为 旧的 state</div><div>    workInProgress.memoizedState = newState;</div></div></div></foreignObject></g><path d="M 5292.83 5338.5 L 5292.83 5348.42 Q 5292.83 5358.33 5292.83 5353.75 L 5292.83 5351.46 Q 5292.83 5349.17 5292.83 5356.15 L 5292.83 5363.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 5368.38 L 5289.33 5361.38 L 5292.83 5363.13 L 5296.33 5361.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5141.31" y="5291.5" width="302.25" height="47" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5143.5,5301.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="277" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 278px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const nextState = workInProgress.memoizedState;<br/>  const root: FiberRoot = workInProgress.stateNode;</div></div></foreignObject></g><path d="M 5292.45 5548 L 5292.45 5651.14" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.45 5656.39 L 5288.95 5649.39 L 5292.45 5651.14 L 5295.95 5649.39 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5138.82" y="5369.5" width="307.26" height="178.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5141.5,5382.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="304" height="152"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 304px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  if (enableCache) {</div><div>    // 拿到缓存</div><div>    const nextCache: Cache = nextState.cache;</div><div>    pushRootCachePool(root);</div><div>    pushCacheProvider(workInProgress, nextCache);</div><div>    if (nextCache !== prevState.cache) {</div><div>      // The root cache refreshed.</div><div>      propagateContextChange(workInProgress, CacheContext, renderLanes);</div><div>    }</div><div>  }</div></div></div></foreignObject></g><path d="M 5292.83 5715.43 L 5292.83 5740.83 Q 5292.83 5750.83 5292.83 5760.83 L 5292.83 5779.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 5784.38 L 5289.33 5777.38 L 5292.83 5779.13 L 5296.33 5777.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5281.5,5736.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 5292.43 5657.5 L 5456.55 5686.5 L 5292.43 5715.5 L 5128.31 5686.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5130.5,5673.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="309" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 310px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  if (root.hydrate &amp;&amp; enterHydrationState(workInProgress))<br/><div style="text-align: center"><span>是否 ssr 服务端渲染</span></div></div></div></foreignObject></g><path d="M 5292.45 5823.5 L 5292.45 5871.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.45 5876.38 L 5288.95 5869.38 L 5292.45 5871.13 L 5295.95 5869.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5091.82" y="5785.5" width="401.26" height="38" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5094.5,5798.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="393" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 394px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">    reconcileChildren(current, workInProgress, nextChildren, renderLanes);</div></div></foreignObject></g><path d="M 6964.69 5833.5 L 6964.69 5873.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6964.69 5878.38 L 6961.19 5871.38 L 6964.69 5873.13 L 6968.19 5871.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6951.5,5843.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 6964.69 5775.5 L 7025.69 5804.5 L 6964.69 5833.5 L 6903.69 5804.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6910.5,5798.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 108px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  if (current === null)</div></div></foreignObject></g><path d="M 7103.44 5942.5 L 7896.47 5942.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7901.72 5942.5 L 7894.72 5946 L 7896.47 5942.5 L 7894.72 5939 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6826.17 5942.5 L 6642.83 5942.5 Q 6632.83 5942.5 6632.83 5932.5 L 6632.83 5867.5 Q 6632.83 5857.5 6622.83 5857.5 L 5302.83 5857.5 Q 5292.83 5857.5 5292.83 5864.32 L 5292.83 5871.13" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 5292.83 5876.38 L 5289.33 5869.38 L 5292.83 5871.13 L 5296.33 5869.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6825.94" y="5879.5" width="277.5" height="126" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6828.5,5887.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="274" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 274px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    workInProgress.child = reconcileChildFibers(</div><div>      workInProgress,</div><div>      current.child,</div><div>      nextChildren,</div><div>      renderLanes,</div><div>    );</div><div>  // 将 workInProgress 的 child fiber 挂载到 .child 上，如果没有子节点了这个 child 会是 null<br/></div></div></div></foreignObject></g><path d="M 8219.69 5942.5 L 8299.32 5942.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8304.57 5942.5 L 8297.57 5946 L 8299.32 5942.5 L 8297.57 5939 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8240.5,5934.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 8061.19 6025.5 L 8061.19 6101.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8061.19 6106.38 L 8057.69 6099.38 L 8061.19 6101.13 L 8064.69 6099.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8061.19 5859.5 L 8219.69 5942.5 L 8061.19 6025.5 L 7902.69 5942.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7905.5,5894.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="295" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 296px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const isUnkeyedTopLevelFragment =</div><div>      typeof newChild === 'object' &amp;&amp;</div><div>      newChild !== null &amp;&amp;</div><div>      newChild.type === REACT_FRAGMENT_TYPE &amp;&amp;</div><div>      newChild.key === null;</div><div>判断该 child 是否为 frament 类型，一般&lt;Frament&gt;</div><div style="text-align: center"><span>&lt;/Frament&gt; 或者 &lt;&gt; &lt;/&gt;</span></div></div></div></foreignObject></g><path d="M 8061.19 6204.5 L 8061.32 6206.29" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8061.19 6204.54 L 8062.52 6206.79 L 8061.32 6206.29 L 8060.19 6206.95 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8305.69" y="5924" width="223" height="37" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8308.5,5936.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="201" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 202px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  newChild = newChild.props.children;</div></div></foreignObject></g><path d="M 7999.05 6131.67 L 7340.33 6131.67 Q 7330.33 6131.67 7330.33 6141.67 L 7330.33 6200.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7330.33 6205.55 L 7326.83 6198.55 L 7330.33 6200.3 L 7333.83 6198.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7204.5,6155.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="288" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><span style="font-size: 12px ; text-align: left">if (typeof newChild === 'object' &amp;&amp; newChild !== null)  <br/></span><span style="font-size: 12px ; text-align: left">//对象类型</span></div></div></foreignObject></g><path d="M 8061.19 6156.5 L 8061.19 6222.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8061.19 6227.88 L 8057.69 6220.88 L 8061.19 6222.63 L 8064.69 6220.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7891.5,6182.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="339" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><span style="font-size: 12px ; text-align: left">if (typeof newChild === 'string' || typeof newChild === 'number')  <br/>// 普通文本类型</span></div></div></foreignObject></g><path d="M 8123.33 6131.67 L 8612 6131.67 Q 8622 6131.67 8622 6141.67 L 8622 6272.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8622 6278.05 L 8618.5 6271.05 L 8622 6272.8 L 8625.5 6271.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8440.5,6140.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="369" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><span style="font-size: 12px ; text-align: left">if (typeof newChild === 'undefined' &amp;&amp; !isUnkeyedTopLevelFragment) <br/>// 没有子节点且不是 frament 类型</span></div></div></foreignObject></g><g transform="translate(8611.5,6227.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">报错</div></div></foreignObject></g><path d="M 8061.19 6107.5 L 8124.19 6132 L 8061.19 6156.5 L 7998.19 6132 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8020.5,6125.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="80" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 80px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">判断 child 类型</div></div></foreignObject></g><rect x="7977.19" y="6229" width="168" height="121" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7979.5,6234.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="153" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 154px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  return placeSingleChild(</div><div>     reconcileSingleTextNode(</div><div>       returnFiber,</div><div>       currentFirstChild,</div><div>       '' + newChild,</div><div>       lanes,</div><div>     ),</div><div><span>  );</span></div></div></div></foreignObject></g><rect x="8510.69" y="6279" width="223" height="79" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8512.5,6298.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="219" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 219px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null</div></div></foreignObject></g><path d="M 8813.67 6426.67 L 9090.33 6426.67 Q 9100.33 6426.67 9100.33 6425.83 L 9100.33 6425.42 Q 9100.33 6425 9110.33 6425 L 9379.8 6425" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9385.05 6425 L 9378.05 6428.5 L 9379.8 6425 L 9378.05 6421.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7193.94" y="6807.93" width="287" height="46" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7196.5,6817.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="273" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 274px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  throwOnInvalidObjectType(returnFiber, newChild);<br/>  // 抛出无效的对象类型</div></div></foreignObject></g><path d="M 9471.17 6447.5 L 9471.17 6461.67 Q 9471.17 6471.67 9471.17 6480.57 L 9471.17 6489.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9471.17 6494.72 L 9467.67 6487.72 L 9471.17 6489.47 L 9474.67 6487.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9386.44" y="6398.5" width="169" height="49" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9388.5,6409.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="146" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 147px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const key = element.key;<br/>let child = currentFirstChild;</div></div></foreignObject></g><path d="M 9529.69 6515.5 L 9602.07 6515.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9607.32 6515.5 L 9600.32 6519 L 9602.07 6515.5 L 9600.32 6512 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9557.5,6509.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 9471.17 6535.42 L 9471.17 6545.83 Q 9471.17 6555.83 9471.17 6561.5 L 9471.17 6567.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9471.17 6572.42 L 9467.67 6565.42 L 9471.17 6567.17 L 9474.67 6565.42 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9457.5,6544.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 9470.94 6495.5 L 9529.69 6515.5 L 9470.94 6535.5 L 9412.19 6515.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9417.5,6509.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="106" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 108px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">while (child !== null)</div></div></foreignObject></g><rect x="9608.44" y="6497" width="101" height="37" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9652.5,6509.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="11" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 11px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">...</div></div></foreignObject></g><path d="M 9622.76 6601.67 L 9701.17 6601.67 Q 9711.17 6601.67 9711.17 6602.92 L 9711.17 6603.54 Q 9711.17 6604.17 9721.17 6604.17 L 9791.82 6604.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9797.07 6604.17 L 9790.07 6607.67 L 9791.82 6604.17 L 9790.07 6600.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9698.5,6595.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 9471.17 6630.46 L 9471.17 6658.33 Q 9471.17 6668.33 9471.17 6678.33 L 9471.17 6700.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9471.17 6705.38 L 9467.67 6698.38 L 9471.17 6700.13 L 9474.67 6698.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9470.93 6573.5 L 9624.56 6602 L 9470.93 6630.5 L 9317.31 6602 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9337.5,6595.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="266" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 268px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (element.type === REACT_FRAGMENT_TYPE)</div></div></foreignObject></g><rect x="9798.19" y="6541.5" width="264.25" height="126" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9800.5,6549.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="250" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 251px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      const created = createFiberFromFragment(</div><div>        element.props.children,</div><div>        returnFiber.mode,</div><div>        lanes,</div><div>        element.key,</div><div>      );</div><div>      created.return = returnFiber;</div><div>      return created;</div></div></div></foreignObject></g><path d="M 9691.19 6725.83 L 9734.5 6725.83 Q 9744.5 6725.83 9754.5 6725.83 L 9791.47 6725.83" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9796.72 6725.83 L 9789.72 6729.33 L 9791.47 6725.83 L 9789.72 6722.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9471.17 6745.5 L 9471.17 6773.33 Q 9471.17 6783.33 9471.17 6793.33 L 9471.17 6814.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9471.17 6819.38 L 9467.67 6812.38 L 9471.17 6814.13 L 9474.67 6812.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9250.69" y="6706.5" width="440.5" height="39" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9253.5,6712.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="426" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 427px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      // 根据 type 创建 fiber 对象</div><div>      const created = createFiberFromElement(element, returnFiber.mode, lanes);</div></div></div></foreignObject></g><g transform="translate(9380.5,6305.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="181" height="82"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>  function reconcileSingleElement(</div><div>    returnFiber: Fiber,</div><div>    currentFirstChild: Fiber | null,</div><div>    element: ReactElement,</div><div>    lanes: Lanes,</div><div>  ): Fiber </div></div></div></foreignObject></g><path d="M 9924.5 6807.93 L 9924.5 6823.33 Q 9924.5 6833.33 9924.5 6843.23 L 9924.5 6853.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9924.5 6858.38 L 9921 6851.38 L 9924.5 6853.13 L 9928 6851.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9798.19" y="6698.06" width="253" height="109.87" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9800.5,6704.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="206" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 207px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  let owner = null;</div><div>  if (__DEV__) {</div><div>    owner = element._owner;</div><div>  }</div><div>  const type = element.type;</div><div>  const key = element.key;</div><div>  const pendingProps = element.props;</div></div></div></foreignObject></g><path d="M 9471.17 6909 L 9471.17 6927.5 Q 9471.17 6937.5 9471.17 6947.5 L 9471.17 6958.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9471.17 6964.13 L 9467.67 6957.13 L 9471.17 6958.88 L 9474.67 6957.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9284.19" y="6820.5" width="373.5" height="88.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9286.5,6830.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="359" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 360px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      // 校验 ref </div><div>      created.ref = coerceRef(returnFiber, currentFirstChild, element);</div><div><br/></div><div>      // 将该 fiber 对象的 rerurn 指向 父节点</div><div>      created.return = returnFiber;</div></div></div></foreignObject></g><path d="M 9924.5 6989.13 L 9924.5 6999.17 Q 9924.5 7009.17 9924.5 7008.33 L 9924.5 7007.92 Q 9924.5 7007.5 9924.5 7014.32 L 9924.5 7021.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9924.5 7026.38 L 9921 7019.38 L 9924.5 7021.13 L 9928 7019.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10057.06 6924.17 L 10092.83 6924.17 Q 10102.83 6924.17 10112.83 6924.17 L 10142.07 6924.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10147.32 6924.17 L 10140.32 6927.67 L 10142.07 6924.17 L 10140.32 6920.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9792.31" y="6859.5" width="264.75" height="129.63" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9794.5,6868.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="247" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 248px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const fiber = createFiberFromTypeAndProps(</div><div>    type,</div><div>    key,</div><div>    pendingProps,</div><div>    owner,</div><div>    mode,</div><div>    lanes,</div><div>  );</div></div></div></foreignObject></g><path d="M 9881.31 7043.33 L 9754.5 7043.33 Q 9744.5 7043.33 9744.5 7033.33 L 9744.5 6810.83 Q 9744.5 6800.83 9734.5 6800.83 L 9481.17 6800.83 Q 9471.17 6800.83 9471.17 6807.65 L 9471.17 6814.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9471.17 6819.72 L 9467.67 6812.72 L 9471.17 6814.47 L 9474.67 6812.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9881.31" y="7027.5" width="86.75" height="30.99" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9883.5,7036.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 69px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return fiber;</div></div></foreignObject></g><path d="M 10357 6959.45 L 10357 6987.5 Q 10357 6997.5 10357 7007.5 L 10357 7029.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7034.55 L 10353.5 7027.55 L 10357 7029.3 L 10360.5 7027.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="10148.44" y="6889.18" width="417" height="70.27" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(10150.5,6903.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="397" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 398px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  let fiberTag = IndeterminateComponent;   // 表示不确定类型  值为 2<span>  </span></div>  // 如果我们知道最终类型是什么，则设置 resolved tyle, IE。这不是 lazy。 <div>  let resolvedType = type;</div></div></div></foreignObject></g><path d="M 10317.12 7056.67 L 10208.67 7056.67 Q 10198.67 7056.67 10198.67 7066.67 L 10198.67 7099.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10198.67 7104.72 L 10195.17 7097.72 L 10198.67 7099.47 L 10202.17 7097.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10123.5,7065.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="150" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">if (typeof type === 'function')<br/>自定义组件类型</div></div></foreignObject></g><path d="M 10357 7077.48 L 10357 7199.17 Q 10357 7209.17 10357 7219.17 L 10357 7335.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7340.38 L 10353.5 7333.38 L 10357 7335.13 L 10360.5 7333.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10396.76 7056.67 L 10488.67 7056.67 Q 10498.67 7056.67 10498.67 7066.67 L 10498.67 7108.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10498.67 7113.38 L 10495.17 7106.38 L 10498.67 7108.13 L 10502.17 7106.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10416.5,7066.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="163" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">else if (typeof type === 'string')<br/>原生 html 元素类型</div></div></foreignObject></g><path d="M 10397.93 7056.57 L 10699.5 7056.66 Q 10709.5 7056.67 10709.49 7066.67 L 10709.45 7099.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10709.44 7104.72 L 10705.95 7097.72 L 10709.45 7099.47 L 10712.95 7097.73 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10641.5,7059.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">else<br/>其它类型，例如 fragment</div></div></foreignObject></g><path d="M 10356.94 7035.64 L 10396.94 7056.58 L 10356.94 7077.51 L 10316.94 7056.58 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10331.5,7050.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="50" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 52px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">判断 type</div></div></foreignObject></g><path d="M 10125.12 7141.67 L 9943.67 7141.67 Q 9933.67 7141.67 9933.67 7151.67 L 9933.67 7189.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9933.67 7194.38 L 9930.17 7187.38 L 9933.67 7189.13 L 9937.17 7187.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10198.67 7176.73 L 10198.67 7186.7 Q 10198.67 7196.67 10198.67 7196.25 L 10198.67 7196.04 Q 10198.67 7195.83 10198.67 7202.48 L 10198.67 7209.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10198.67 7214.38 L 10195.17 7207.38 L 10198.67 7209.13 L 10202.17 7207.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10187.5,7190.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 10198.44 7105.84 L 10272.44 7141.34 L 10198.44 7176.84 L 10124.44 7141.34 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10130.5,7127.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="134" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 136px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (shouldConstruct(type))<br/>判断是否 class 组件</div></div></foreignObject></g><rect x="9763.44" y="7195.5" width="339.87" height="58.31" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9765.5,7204.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="321" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 322px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const prototype = Component.prototype;</div><div>  return !!(prototype &amp;&amp; prototype.isReactComponent);</div><div></div><b><font color="#9933ff">  //  react 内部判断class 组件就是 通过 isReactComponent</font></b></div></div></foreignObject></g><path d="M 10198.67 7250.5 L 10198.67 7285.83 Q 10198.67 7295.83 10208.67 7295.83 L 10347 7295.83 Q 10357 7295.83 10357 7305.83 L 10357 7335.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7340.55 L 10353.5 7333.55 L 10357 7335.3 L 10360.5 7333.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="10117.69" y="7215.5" width="161.5" height="35" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(10119.5,7219.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="156" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 156px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> fiberTag = ClassComponent;<br/>//  类组件的 tag 为 1</div></div></foreignObject></g><path d="M 10357 7381.5 L 10357 7391.67 Q 10357 7401.67 10357 7403.07 L 10357 7404.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7409.72 L 10353.5 7402.72 L 10357 7404.47 L 10360.5 7402.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7381.5 L 10357 7385.33 Q 10357 7389.17 10347 7389.17 L 9740.33 7389.17 Q 9730.33 7389.17 9730.33 7379.17 L 9730.33 4211.67 Q 9730.33 4201.67 9720.33 4201.67 L 4924.5 4201.67 Q 4914.5 4201.67 4914.5 4211.67 L 4914.5 4406.97" fill="none" stroke="#666666" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 4914.5 4412.22 L 4911 4405.22 L 4914.5 4406.97 L 4918 4405.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="10184.32" y="7341.5" width="345.25" height="40" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(10186.5,7355.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="332" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 333px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const fiber = createFiber(fiberTag, pendingProps, key, mode);</div></div></div></foreignObject></g><path d="M 10317.44 7529.17 L 10117.83 7529.17 Q 10107.83 7529.17 10107.83 7519.17 L 10107.83 7017.5 Q 10107.83 7007.5 10097.83 7007.5 L 9934.5 7007.5 Q 9924.5 7007.5 9924.5 7014.32 L 9924.5 7021.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9924.5 7026.38 L 9921 7019.38 L 9924.5 7021.13 L 9928 7019.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="10317.44" y="7516.5" width="79.5" height="26" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(10319.5,7523.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 69px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return fiber;</div></div></foreignObject></g><path d="M 10498.67 7149.51 L 10498.67 7287.5 Q 10498.67 7297.5 10488.67 7297.5 L 10367 7297.5 Q 10357 7297.5 10357 7307.5 L 10357 7335.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7340.55 L 10353.5 7333.55 L 10357 7335.3 L 10360.5 7333.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="10417.44" y="7114.5" width="162" height="35.01" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(10422.5,7125.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="150" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 150px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> fiberTag = HostComponent;</div></div></foreignObject></g><path d="M 10708.44 7154.5 L 10708.44 7209.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10708.44 7214.38 L 10704.94 7207.38 L 10708.44 7209.13 L 10711.94 7207.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10708.44 7105.84 L 10758.44 7130.17 L 10708.44 7154.5 L 10658.44 7130.17 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10673.5,7123.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 68px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">switch (type)</div></div></foreignObject></g><path d="M 10708.67 7241.17 L 10708.67 7288.33 Q 10708.67 7298.33 10698.67 7298.33 L 10367 7298.33 Q 10357 7298.33 10357 7308.33 L 10357 7335.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7340.55 L 10353.5 7333.55 L 10357 7335.3 L 10360.5 7333.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="10660.44" y="7215.5" width="96" height="25.67" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(10674.5,7221.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="66" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 68px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">fiberTag = ...</div></div></foreignObject></g><path d="M 3977.18 4582.5 L 3977.28 4612.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3977.3 4617.88 L 3973.78 4610.89 L 3977.28 4612.63 L 3980.78 4610.87 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4061 4530 L 4440.63 4530" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4445.88 4530 L 4438.88 4533.5 L 4440.63 4530 L 4438.88 4526.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3893" y="4477.5" width="168" height="105" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3895.5,4481.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="164" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 164px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="font-size: 10px">    workInProgress = createFiber(</div><div style="font-size: 10px">      current.tag,</div><div style="font-size: 10px">      pendingProps,</div><div style="font-size: 10px">      current.key,</div><div style="font-size: 10px">      current.mode,</div><div style="font-size: 10px">    );</div></div></div></foreignObject></g><rect x="4060" y="2909" width="589" height="1269" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4062.5,2949.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="513" height="1188"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 514px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>function FiberNode(</div><div>  tag: WorkTag,</div><div>  pendingProps: mixed,</div><div>  key: null | string,</div><div>  mode: TypeOfMode,</div><div>) {</div><div>  // Instance</div><div>  this.tag = tag;</div><div>  this.key = key;</div><div>  // createElement 时第一个参数 ，type</div><div>  this.elementType = null;</div><div><br/></div><div>  // 异步组件resolved之后返回的内容，一般是`function`或者`class`</div><div>  this.type = null;</div><div><br/></div><div>  // 对应的这个节点的真实 dom</div><div>  this.stateNode = null;</div><div><br/></div><div>  // Fiber</div><div>  this.return = null;   // 当前节点的 父节点</div><div>  this.child = null;    // 当前节点的 子节点</div><div>  this.sibling = null;  // 当前节点的 兄弟节点(后一个节点)</div><div>  this.index = 0;       // 当前节点的 索引(用于更新时候的复用)</div><div><br/></div><div>  this.ref = null;</div><div><br/></div><div>  this.pendingProps = pendingProps; // 新的 props</div><div>  this.memoizedProps = null;        // 旧的(上一次) props</div><div>  this.updateQueue = null;          // 当前 fiber 的更新队列</div><div>  this.memoizedState = null;        // 旧的(上一次) state 里面有缓存，react 使用的是 Map 作为缓存</div><div>  this.dependencies = null;</div><div><br/></div><div>  this.mode = mode;</div><div><br/></div><div>  // Effects</div><div>  this.flags = NoFlags;</div><div>  this.subtreeFlags = NoFlags;</div><div>  this.deletions = null;</div><div><br/></div><div>  this.lanes = NoLanes;</div><div>  this.childLanes = NoLanes;</div><div><br/></div><div>  // 记录着上一次的 fiber</div><div>  // 每次渲染结束后 会交换位置， current《====》 alternate 不需要平凡</div><div>  this.alternate = null;</div><div><br/></div><div>  if (enableProfilerTimer) {</div><div>    // Note: The following is done to avoid a v8 performance cliff.</div><div>    //</div><div>    // Initializing the fields below to smis and later updating them with</div><div>    // double values will cause Fibers to end up having separate shapes.</div><div>    // This behavior/bug has something to do with Object.preventExtension().</div><div>    // Fortunately this only impacts DEV builds.</div><div>    // Unfortunately it makes React unusably slow for some applications.</div><div>    // To work around this, initialize the fields below with doubles.</div><div>    //</div><div>    // Learn more about this here:</div><div>    // https://github.com/facebook/react/issues/14365</div><div>    // https://bugs.chromium.org/p/v8/issues/detail?id=8538</div><div>    this.actualDuration = Number.NaN;</div><div>    this.actualStartTime = Number.NaN;</div><div>    this.selfBaseDuration = Number.NaN;</div><div>    this.treeBaseDuration = Number.NaN;</div><div><br/></div><div>    // It's okay to replace the initial doubles with smis after initialization.</div><div>    // This won't trigger the performance cliff mentioned above,</div><div>    // and it simplifies other profiler code (including DevTools).</div><div>    this.actualDuration = 0;</div><div>    this.actualStartTime = -1;</div><div>    this.selfBaseDuration = 0;</div><div>    this.treeBaseDuration = 0;</div><div>  }</div><div><br/></div><div>  if (__DEV__) {</div><div>    // This isn't directly used but is handy for debugging internals:</div><div>    this._debugID = debugCounter++;</div><div>    this._debugSource = null;</div><div>    this._debugOwner = null;</div><div>    this._debugNeedsRemount = false;</div><div>    this._debugHookTypes = null;</div><div>    if (!hasBadMapPolyfill &amp;&amp; typeof Object.preventExtensions === 'function') {</div><div>      Object.preventExtensions(this);</div><div>    }</div><div>  }</div><div>}</div></div></div></foreignObject></g><path d="M 4750.69 4529.8 L 4789.32 4529.75" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4794.57 4529.74 L 4787.58 4533.25 L 4789.32 4529.75 L 4787.57 4526.25 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4446.69" y="4508.5" width="304" height="43" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4449.5,4523.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="286" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 287px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return new FiberNode(tag, pendingProps, key, mode);</div></div></foreignObject></g><rect x="4795.69" y="4501.25" width="549" height="56.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4798.5,4515.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="531" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 532px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">https://github.com/facebook/react/blob/v17.0.2/packages/react-reconciler/src/ReactFiber.old.js#L116<br/>fiber 节点属性</div></div></foreignObject></g><path d="M 4435.69 4449.5 L 4435.69 4413.5 L 5392.69 4413.5 L 5392.69 4449.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 4435.69 4449.5 L 4435.69 4596.5 L 5392.69 4596.5 L 5392.69 4449.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 4435.69 4449.5 L 5392.69 4449.5" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="13px"><text x="4913.69" y="4436.33">createFiber 创建 fiber 节点</text></g><path d="M 10357 7473.5 L 10357 7485 Q 10357 7495 10357 7502.57 L 10357 7510.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10357 7515.38 L 10353.5 7508.38 L 10357 7510.13 L 10360.5 7508.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="10274.44" y="7410.5" width="165" height="63" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(10284.5,7421.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="143" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 145px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="font-size: 12px ; text-align: left">  fiber.elementType = type;</div><div style="font-size: 12px ; text-align: left">  fiber.type = resolvedType;</div><div style="font-size: 12px ; text-align: left">  fiber.lanes = lanes;</div></div></div></foreignObject></g><path d="M 9413.19 6980.83 L 8967.83 6980.83 Q 8957.83 6980.83 8957.83 6970.83 L 8957.83 6436.67 Q 8957.83 6426.67 8947.83 6426.67 L 8820.03 6426.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8814.78 6426.67 L 8821.78 6423.17 L 8820.03 6426.67 L 8821.78 6430.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9413.19" y="6965.25" width="115.5" height="31.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9415.5,6974.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="98" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 99px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span>      return created;</span></div></div></foreignObject></g><rect x="8430.69" y="6398.5" width="383" height="112" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8433.5,6402.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="359" height="103"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 360px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  // placeSingleChild<br/><div>  function placeSingleChild(newFiber: Fiber): Fiber {</div><div>    if (shouldTrackSideEffects &amp;&amp; newFiber.alternate === null) {</div><div>      newFiber.flags |= Placement;</div><div>    }</div><div>    return newFiber;</div><div>  }</div></div></div></foreignObject></g><path d="M 7168.69 6425.83 L 7789.5 6425.83 Q 7799.5 6425.83 7799.5 6426.25 L 7799.5 6426.46 Q 7799.5 6426.67 7809.5 6426.67 L 8430.33 6426.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 5910.5 L 5292.83 5980 Q 5292.83 5990 5292.83 6000 L 5292.83 6063.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 6068.38 L 5289.33 6061.38 L 5292.83 6063.13 L 5296.33 6061.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5362.55 5894.17 L 5517 5894.17 Q 5527 5894.17 5527 5904.15 L 5527 5914.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5527 5919.38 L 5523.5 5912.38 L 5527 5914.13 L 5530.5 5912.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5222.31" y="5877.5" width="140.24" height="33" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5224.5,5887.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="117" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 118px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">resetHydrationState();</div></div></foreignObject></g><path d="M 5208.3 6088.33 L 5004.5 6088.33 Q 4994.5 6088.33 4994.5 6078.33 L 4994.5 4874.17 Q 4994.5 4864.17 4984.5 4864.17 L 4786.7 4864.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4781.45 4864.17 L 4788.45 4860.67 L 4786.7 4864.17 L 4788.45 4867.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5208.3" y="6069.5" width="168.26" height="37.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5210.5,6081.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="156" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 157px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return workInProgress.child;</div></div></foreignObject></g><path d="M 5418.69 5973.33 L 5292.83 5973.33 L 5292.83 6062.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5292.83 6068.05 L 5289.33 6061.05 L 5292.83 6062.8 L 5296.33 6061.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5418.69" y="5920.5" width="216" height="105.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5421.5,5924.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="168" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 169px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  if (!supportsHydration) {</div><div>    return;</div><div>  }</div><div><br/></div><div>  hydrationParentFiber = null;</div><div>  nextHydratableInstance = null;</div><div>  isHydrating = false;</div></div></div></foreignObject></g><path d="M 3507.19 4930.5 L 3507.19 4976.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3507.19 4981.38 L 3503.69 4974.38 L 3507.19 4976.13 L 3510.69 4974.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3493.5,4950.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="27" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 3555.82 4908.33 L 3655.33 4908.33 Q 3665.33 4908.33 3665.33 4918.33 L 3665.33 4981.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3665.33 4986.88 L 3661.83 4979.88 L 3665.33 4981.63 L 3668.83 4979.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3653.5,4939.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="22" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><g transform="translate(3637.5,4955.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">开始 冒泡</div></div></foreignObject></g><path d="M 3507.19 4886.5 L 3556.19 4908.5 L 3507.19 4930.5 L 3458.19 4908.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3459.5,4895.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="94" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 94px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  if (next === null)<br/>是否 递归到底了</div></div></foreignObject></g><path d="M 3422 5087.5 L 3353.67 5087.5 Q 3343.67 5087.5 3343.67 5077.5 L 3343.67 4577.5 Q 3343.67 4567.5 3333.67 4567.5 L 3310.87 4567.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3305.62 4567.5 L 3312.62 4564 L 3310.87 4567.5 L 3312.62 4571 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3331.5,5041.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">递归</div></div></foreignObject></g><path d="M 3507.19 5019.5 L 3507.19 5065.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3507.19 5070.38 L 3503.69 5063.38 L 3507.19 5065.13 L 3510.69 5063.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3448.69" y="4982.5" width="117" height="37" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3450.5,4987.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="113" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 113px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  workInProgress = next;</div></div></foreignObject></g><path d="M 3677.83 5020 L 3677.83 5034.17 Q 3677.83 5044.17 3667.83 5044.17 L 3517 5044.17 Q 3507 5044.17 3507 5054.17 L 3507 5065.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3507 5070.55 L 3503.5 5063.55 L 3507 5065.3 L 3510.5 5063.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3570" y="4988" width="190" height="32" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3572.5,4997.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="184" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 186px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> completeUnitOfWork(unitOfWork);</div></div></foreignObject></g><rect x="3421.94" y="5071.5" width="170.5" height="31.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3423.5,5073.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="167" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 167px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> ReactCurrentOwner.current = null;</div></div></foreignObject></g><path d="M 4384.94 5905.83 L 8122.83 5905.83 Q 8132.83 5905.83 8132.83 5895.83 L 8132.83 5389.17 Q 8132.83 5379.17 8142.83 5379.17 L 11873.97 5379.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 11879.22 5379.17 L 11872.22 5382.67 L 11873.97 5379.17 L 11872.22 5375.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5895.88" y="6422.5" width="883" height="872" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><rect x="5916.26" y="6435.5" width="218.25" height="140" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5918.5,6443.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="206" height="124"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 207px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>        newState = getStateFromUpdate(</div><div>          workInProgress,</div><div>          queue,</div><div>          update,</div><div>          newState,</div><div>          props,</div><div>          instance,</div><div>        );</div><div>        const callback = update.callback;<br/></div></div></div></foreignObject></g><path d="M 6349.26 6472.5 L 6414.88 6505.5 L 6349.26 6538.5 L 6283.64 6505.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6285.5,6499.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 109px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  switch (update.tag)</div></div></foreignObject></g><path d="M 6134.51 6505.5 L 6277.27 6505.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6282.52 6505.5 L 6275.52 6509 L 6277.27 6505.5 L 6275.52 6502 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6247.79" y="6617.5" width="202.93" height="56" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6250.5,6632.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="193" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 194px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      const payload = update.payload;</div><div>      let partialState;</div></div></div></foreignObject></g><path d="M 6349.5 6538.38 L 6349.5 6568.33 Q 6349.5 6578.33 6349.5 6588.33 L 6349.5 6611.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6349.5 6616.38 L 6346 6609.38 L 6349.5 6611.13 L 6353 6609.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6301.5,6571.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="95" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">case UpdateState</div></div></foreignObject></g><path d="M 6349.26 6719.5 L 6454.58 6750 L 6349.26 6780.5 L 6243.95 6750 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6246.5,6743.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="183" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 184px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   if (typeof payload === 'function') </div></div></foreignObject></g><path d="M 6349.5 6673.5 L 6349.5 6686.67 Q 6349.5 6696.67 6349.5 6704.93 L 6349.5 6713.2" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6349.5 6718.45 L 6346 6711.45 L 6349.5 6713.2 L 6353 6711.45 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6167.55" y="6819.5" width="363.43" height="33" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6169.5,6829.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="319" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 320px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  partialState = payload.call(instance, prevState, nextProps);</div></div></foreignObject></g><path d="M 6349.5 6780.43 L 6349.5 6790.83 Q 6349.5 6800.83 6349.5 6806.98 L 6349.5 6813.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6349.5 6818.38 L 6346 6811.38 L 6349.5 6813.13 L 6353 6811.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6338.5,6788.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><rect x="6209.09" y="6914.5" width="280.33" height="39" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6211.5,6927.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="259" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 260px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return Object.assign({}, prevState, partialState);</div></div></foreignObject></g><path d="M 6349.5 6852.5 L 6349.5 6873.33 Q 6349.5 6883.33 6349.5 6893.33 L 6349.5 6908.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6349.5 6913.38 L 6346 6906.38 L 6349.5 6908.13 L 6353 6906.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6626.17 6852.5 L 6626.17 6873.33 Q 6626.17 6883.33 6616.17 6883.33 L 6359.5 6883.33 Q 6349.5 6883.33 6349.5 6893.33 L 6349.5 6907.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6349.5 6913.05 L 6346 6906.05 L 6349.5 6907.8 L 6353 6906.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6549.88" y="6822.5" width="152" height="30" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6552.5,6831.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 127px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  partialState = payload;</div></div></foreignObject></g><path d="M 6454.58 6750 L 6616.17 6750 Q 6626.17 6750 6626.17 6760 L 6626.17 6816.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6626.17 6821.38 L 6622.67 6814.38 L 6626.17 6816.13 L 6629.67 6814.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6508.5,6743.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><rect x="5929.13" y="6664.5" width="192.49" height="34" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5931.5,6675.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="176" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 177px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const callback = update.callback;</div></div></foreignObject></g><path d="M 6025.33 6575.5 L 6025.33 6610 Q 6025.33 6620 6025.33 6630 L 6025.33 6658.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 6663.38 L 6021.83 6656.38 L 6025.33 6658.13 L 6028.83 6656.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6209.09 6934.17 L 6166.17 6934.17 Q 6156.17 6934.17 6156.17 6924.17 L 6156.17 6654.17 Q 6156.17 6644.17 6146.17 6644.17 L 6035.33 6644.17 Q 6025.33 6644.17 6025.33 6650.98 L 6025.33 6657.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 6663.05 L 6021.83 6656.05 L 6025.33 6657.8 L 6028.83 6656.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.38 6728.5 L 6089.14 6760.5 L 6025.38 6792.5 L 5961.63 6760.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5963.5,6754.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="110" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 111px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  if (callback !== null)</div></div></foreignObject></g><path d="M 6025.33 6698.5 L 6025.33 6708.42 Q 6025.33 6718.33 6025.33 6713.33 L 6025.33 6710.83 Q 6025.33 6708.33 6025.33 6715.25 L 6025.33 6722.16" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 6727.41 L 6021.83 6720.41 L 6025.33 6722.16 L 6028.83 6720.41 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5922.76" y="6817.5" width="205.25" height="111" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5925.5,6824.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="188" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 189px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   workInProgress.flags |= Callback;<br/>   const effects = queue.effects;<br/>   if (effects === null) {<br/>        queue.effects = [update];<br/>   } else {<br/>        effects.push(update);<br/>   }</div></div></foreignObject></g><path d="M 6025.33 6792.47 L 6025.33 6802.5 Q 6025.33 6812.5 6025.33 6811.82 L 6025.33 6811.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 6816.38 L 6021.83 6809.38 L 6025.33 6811.13 L 6028.83 6809.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5957.25" y="6953.5" width="136.25" height="40" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5959.5,6967.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="123" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 124px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span>  update = update.next;</span></div></div></foreignObject></g><path d="M 6025.33 6928.5 L 6025.33 6938.42 Q 6025.33 6948.33 6025.33 6940.83 L 6025.33 6937.08 Q 6025.33 6933.33 6025.33 6940.23 L 6025.33 6947.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.33 6952.38 L 6021.83 6945.38 L 6025.33 6947.13 L 6028.83 6945.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.88 7024.5 L 6089.14 7048.5 L 6025.88 7072.5 L 5962.63 7048.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5964.5,7042.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="104" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 105px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (update === null)</div></div></foreignObject></g><path d="M 6025.33 6993.5 L 6025.33 7003.42 Q 6025.33 7013.33 6025.75 7013.33 L 6025.96 7013.33 Q 6026.17 7013.33 6026.17 7015.79 L 6026.17 7018.24" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6026.17 7023.49 L 6022.67 7016.49 L 6026.17 7018.24 L 6029.67 7016.49 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5904.89" y="7098.5" width="241.99" height="29" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5907.5,7106.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="225" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 226px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   pendingQueue = queue.shared.pending;</div></div></foreignObject></g><path d="M 6026.17 7072.39 L 6026.17 7082.5 Q 6026.17 7092.5 6026.17 7092.32 L 6026.17 7092.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6026.17 7097.38 L 6022.67 7090.38 L 6026.17 7092.13 L 6029.67 7090.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6025.88 7153.5 L 6108.51 7177 L 6025.88 7200.5 L 5943.26 7177 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5945.5,7170.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="149" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 150px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  if (pendingQueue === null)</div></div></foreignObject></g><path d="M 6026.17 7127.5 L 6026.17 7137.5 Q 6026.17 7147.5 6026.17 7147.36 L 6026.17 7147.21" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6026.17 7152.46 L 6022.67 7145.46 L 6026.17 7147.21 L 6029.67 7145.46 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6008.5,7238.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="33" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">break;</div></div></foreignObject></g><path d="M 6026.17 7200.42 L 6026.17 7210.83 Q 6026.17 7220.83 6026.17 7225.48 L 6026.17 7230.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6026.17 7235.38 L 6022.67 7228.38 L 6026.17 7230.13 L 6029.67 7228.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6211.88" y="7095.25" width="520.74" height="163.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6214.5,7114.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="515" height="124"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 516px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div><span>   // 更新是从 reducer 内部安排的。将新的 pending更新添加到列表的末尾并继续处理。 <br/></span></div><div><span>   const lastPendingUpdate = pendingQueue;</span><br/></div><div><br/></div><div>   // 故意不健全。待处理的更新形成一个循环列表，但我们在将它们传输到基本队列时解开它们。 </div><div>   const firstPendingUpdate = ((lastPendingUpdate.next: any): Update&lt;State&gt;);</div><div>   lastPendingUpdate.next = null;</div><div>   update = firstPendingUpdate;</div><div>   queue.lastBaseUpdate = lastPendingUpdate;</div><div>   queue.shared.pending = null;</div></div></div></foreignObject></g><path d="M 6107.34 7176.67 L 6150.33 7176.67 Q 6160.33 7176.67 6170.33 7176.67 L 6205.51 7176.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6210.76 7176.67 L 6203.76 7180.17 L 6205.51 7176.67 L 6203.76 7173.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6954.69" y="6209.5" width="777" height="555" fill="none" stroke="#000000" pointer-events="none"/><rect x="6971.69" y="6225.5" width="731.5" height="314" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><path d="M 7329.69 6243.5 L 7425.69 6270 L 7329.69 6296.5 L 7233.69 6270 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7254.5,6263.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="150" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 152px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  switch (newChild.$$typeof)</div></div></foreignObject></g><rect x="6985.69" y="6365.5" width="183" height="121" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6988.5,6370.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="169" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 170px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>          return placeSingleChild(</div><div>            reconcileSingleElement(</div><div>              returnFiber,</div><div>              currentFirstChild,</div><div>              newChild,</div><div>              lanes,</div><div>            ),</div><div>          );</div></div></div></foreignObject></g><path d="M 7233.69 6270 L 7087 6270 Q 7077 6270 7077 6280 L 7077 6359.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7077 6364.38 L 7073.5 6357.38 L 7077 6359.13 L 7080.5 6357.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6982.5,6308.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="192" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> case REACT_ELEMENT_TYPE:<br/>通过 createElement 创建的基本类型</div></div></foreignObject></g><rect x="7238.19" y="6365.5" width="183" height="121" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7240.5,6370.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="161" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 162px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>          return placeSingleChild(</div><div>            reconcileSinglePortal(</div><div>              returnFiber,</div><div>              currentFirstChild,</div><div>              newChild,</div><div>              lanes,</div><div>            ),</div><div>          );</div></div></div></foreignObject></g><path d="M 7329.5 6296.67 L 7329.5 6359.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7329.5 6364.72 L 7326 6357.72 L 7329.5 6359.47 L 7333 6357.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7223.5,6314.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="218" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> case REACT_PORTAL_TYPE：<br/>通过 ReactDOM.createPortal 创建的类型</div></div></foreignObject></g><rect x="7462.69" y="6365.5" width="183" height="121" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7465.5,6370.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="169" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 170px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>          return placeSingleChild(</div><div>            reconcileSingleElement(</div><div>              returnFiber,</div><div>              currentFirstChild,</div><div>              newChild,</div><div>              lanes,</div><div>            ),</div><div>          );</div></div></div></foreignObject></g><path d="M 7425.69 6270 L 7544.5 6270 Q 7554.5 6270 7554.5 6280 L 7554.5 6359.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7554.5 6364.72 L 7551 6357.72 L 7554.5 6359.47 L 7558 6357.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7478.5,6283.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="151" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> case REACT_LAZY_TYPE:<br/>通过 React.lazy 创建的类型</div></div></foreignObject></g><rect x="7088.69" y="6614.5" width="196" height="124" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7091.5,6621.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="187" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 188px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      if (isArray(newChild)) {</div><div>        return reconcileChildrenArray(</div><div>          returnFiber,</div><div>          currentFirstChild,</div><div>          newChild,</div><div>          lanes,</div><div>        );</div><div>      }</div></div></div></foreignObject></g><rect x="7399.69" y="6614.5" width="211" height="124" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7402.5,6621.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 197px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      if (getIteratorFn(newChild)) {</div><div>        return reconcileChildrenIterator(</div><div>          returnFiber,</div><div>          currentFirstChild,</div><div>          newChild,</div><div>          lanes,</div><div>        );</div><div>      }</div></div></div></foreignObject></g><path d="M 7337.83 6539.5 L 7337.83 6566.67 Q 7337.83 6576.67 7327.83 6576.67 L 7197 6576.67 Q 7187 6576.67 7187 6586.67 L 7187 6608.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7187 6613.38 L 7183.5 6606.38 L 7187 6608.13 L 7190.5 6606.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7126.5,6582.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="119" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">  if (isArray(newChild))</div></div></foreignObject></g><path d="M 7337.83 6539.5 L 7337.83 6566.67 Q 7337.83 6576.67 7347.83 6576.67 L 7495.33 6576.67 Q 7505.33 6576.67 7505.33 6586.67 L 7505.33 6608.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7505.33 6613.38 L 7501.83 6606.38 L 7505.33 6608.13 L 7508.83 6606.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7425.5,6581.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="147" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> if (getIteratorFn(newChild))</div></div></foreignObject></g><path d="M 7163.67 6209.5 L 7163.67 5952.5 Q 7163.67 5942.5 7153.67 5942.5 L 7110.03 5942.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7104.78 5942.5 L 7111.78 5939 L 7110.03 5942.5 L 7111.78 5946 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(11926.5,5253.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="137" height="73"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>function completeWork(</div><div>  current: Fiber | null,</div><div>  workInProgress: Fiber,</div><div>  renderLanes: Lanes,</div><div>): Fiber</div></div></div></foreignObject></g><path d="M 12030.33 5400.63 L 12030.33 5410.83 Q 12030.33 5420.83 12030.33 5415.83 L 12030.33 5413.33 Q 12030.33 5410.83 12030.33 5417.76 L 12030.33 5424.69" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12030.33 5429.94 L 12026.83 5422.94 L 12030.33 5424.69 L 12033.83 5422.94 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="11880.19" y="5357.63" width="300" height="43" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(11882.5,5372.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="292" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 293px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const newProps = workInProgress.pendingProps;</div></div></foreignObject></g><path d="M 11937.96 5465.83 L 11659.5 5465.83 Q 11649.5 5465.83 11649.5 5475.83 L 11649.5 5576.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 11649.5 5582.22 L 11646 5575.22 L 11649.5 5576.97 L 11653 5575.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(11667.5,5458.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="134" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">case ClassComponent:</div></div></foreignObject></g><path d="M 12030.33 5500.82 L 12030.33 5532.5 Q 12030.33 5542.5 12029.92 5542.5 L 12029.71 5542.5 Q 12029.5 5542.5 12029.5 5552.5 L 12029.5 5577.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12029.5 5582.38 L 12026 5575.38 L 12029.5 5577.13 L 12033 5575.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(11985.5,5506.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="89" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">case HostRoot:</div></div></foreignObject></g><g transform="translate(12013.5,5528.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="36" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">根节点</div></div></foreignObject></g><path d="M 12114.13 5469.17 L 12382 5469.17 Q 12392 5469.17 12392 5479.17 L 12392 5569.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12392 5574.72 L 12388.5 5567.72 L 12392 5569.47 L 12395.5 5567.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(12336.5,5523.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> case HostComponent:<br/>html 原生类型</div></div></foreignObject></g><path d="M 12030.19 5431 L 12122.69 5465.93 L 12030.19 5500.87 L 11937.69 5465.93 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(11940.5,5458.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="164" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 165px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> switch (workInProgress.tag)</div></div></foreignObject></g><rect x="11506.69" y="5583.5" width="285" height="105.99" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(11509.5,5591.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="269" height="88"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 270px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      const Component = workInProgress.type;</div><div>      if (isLegacyContextProvider(Component)) {</div><div>        popLegacyContext(workInProgress);</div><div>      }</div><div>      bubbleProperties(workInProgress);</div><div>      return null;</div></div></div></foreignObject></g><path d="M 12029.69 5641.5 L 12029.69 5704.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12029.69 5709.38 L 12026.19 5702.38 L 12029.69 5704.13 L 12033.19 5702.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="11854.69" y="5583.5" width="350" height="58" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(11857.5,5597.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="332" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 333px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const fiberRoot = (workInProgress.stateNode: FiberRoot);<br/> // 获取到根组件的 真实节点 #root </div></div></foreignObject></g><path d="M 12391.69 5653.5 L 12391.69 5704.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 5709.38 L 12388.19 5702.38 L 12391.69 5704.13 L 12395.19 5702.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12215.69" y="5575.5" width="352" height="78" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12218.5,5585.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="340" height="58"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 341px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      popHostContext(workInProgress);</div><div>      const rootContainerInstance = getRootHostContainer();</div><div>      // 获取 元素类型 例如 div | span </div><div>      const type = workInProgress.type;</div></div></div></foreignObject></g><path d="M 12558.46 5743.33 L 12603.67 5743.33 Q 12613.67 5743.33 12613.67 5742.92 L 12613.67 5742.71 Q 12613.67 5742.5 12623.67 5742.5 L 12661.32 5742.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12666.57 5742.5 L 12659.57 5746 L 12661.32 5742.5 L 12659.57 5739 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(12600.5,5736.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="22" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 12391.69 5775.5 L 12391.69 5837.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 5842.38 L 12388.19 5835.38 L 12391.69 5837.13 L 12395.19 5835.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 5710.5 L 12560.19 5743 L 12391.69 5775.5 L 12223.19 5743 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(12225.5,5728.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="322" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 323px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (current !== null &amp;&amp; workInProgress.stateNode != null)<br/><div style="text-align: center"><span>判断是否更新阶段</span></div></div></div></foreignObject></g><rect x="12667.69" y="5657.5" width="261" height="170" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12670.5,5660.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="250" height="163"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 251px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>        updateHostComponent(</div><div>          current,</div><div>          workInProgress,</div><div>          type,</div><div>          newProps,</div><div>          rootContainerInstance,</div><div>        );</div><div><br/></div><div>        if (current.ref !== workInProgress.ref) {</div><div>          markRef(workInProgress);</div><div>        }</div></div></div></foreignObject></g><path d="M 12508.69 5904.17 L 12669.5 5904.17 Q 12679.5 5904.17 12689.5 5904.17 L 12843.32 5904.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12848.57 5904.17 L 12841.57 5907.67 L 12843.32 5904.17 L 12841.57 5900.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12392 5964.5 L 12392 5975 Q 12392 5985 12392 5992.07 L 12392 5999.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12392 6004.38 L 12388.5 5997.38 L 12392 5999.13 L 12395.5 5997.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12274.69" y="5843.5" width="234" height="121" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12277.5,5844.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="224" height="118"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 225px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>          const instance = createInstance(</div><div>            type,</div><div>            newProps,</div><div>            rootContainerInstance,</div><div>            currentHostContext,</div><div>            workInProgress,</div><div>          );</div><div>          //  开始创建真实 dom</div></div></div></foreignObject></g><path d="M 13607.19 5936.25 L 13607.19 6011.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 13607.19 6017.13 L 13603.69 6010.13 L 13607.19 6011.88 L 13610.69 6010.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12993.69 5952 L 12993.69 6041.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12993.69 6047.13 L 12990.19 6040.13 L 12993.69 6041.88 L 12997.19 6040.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12849.69" y="5855.5" width="288" height="96.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12852.5,5859.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="274" height="88"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 275px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const domElement: Instance = createElement(</div><div>    type,</div><div>    props,</div><div>    rootContainerInstance,</div><div>    parentNamespace,</div><div>  );</div></div></div></foreignObject></g><path d="M 13607.19 6071.75 L 13607.19 6112.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 13607.19 6117.38 L 13603.69 6110.38 L 13607.19 6112.13 L 13610.69 6110.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="13443.69" y="6018.25" width="327" height="53.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(13446.5,6030.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="310" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 311px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> domElement = ownerDocument.createElement(type);<br/> // 通过 document 对象创建真实 dom 元素</div></div></foreignObject></g><rect x="13370.69" y="5871.25" width="473" height="65" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(13373.5,5874.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="452" height="58"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 453px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const ownerDocument: Document = getOwnerDocumentFromRootContainer(</div><div>    rootContainerElement,</div><div>  );</div><div>   //  获取到真实 document 对象</div></div></div></foreignObject></g><path d="M 13137.69 5903.75 L 13370.69 5903.75" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 13539.44 6136.67 L 13350.33 6136.67 L 13350.33 5924.17 L 13145.03 5924.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 13139.78 5924.17 L 13146.78 5920.67 L 13145.03 5924.17 L 13146.78 5927.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="13539.44" y="6118.5" width="135.5" height="35.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(13541.5,6129.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="121" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 122px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return domElement;</div></div></foreignObject></g><path d="M 13172 6072.5 L 13220.33 6072.5 Q 13230.33 6072.5 13230.33 6082.5 L 13230.33 6138.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 13230.33 6144.13 L 13226.83 6137.13 L 13230.33 6138.88 L 13233.83 6137.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(13139.5,6103.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="182" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">给真实 dom 身上记录 fiber 对象</div></div></foreignObject></g><path d="M 12993.69 6096.25 L 12993.69 6203.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12993.69 6209.13 L 12990.19 6202.13 L 12993.69 6203.88 L 12997.19 6202.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12815.69" y="6048.25" width="356" height="48" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12818.5,6065.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="347" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 348px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  precacheFiberNode(internalInstanceHandle, domElement);</div></div></foreignObject></g><rect x="13099.69" y="6145.25" width="262" height="50" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(13102.5,6163.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="251" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 252px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">(node: any)[internalInstanceKey] = hostInst;</div></div></foreignObject></g><path d="M 13132.83 6238.33 L 13220.33 6238.33 Q 13230.33 6238.33 13230.33 6248.33 L 13230.33 6296.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 13230.33 6302.13 L 13226.83 6295.13 L 13230.33 6296.88 L 13233.83 6295.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(13134.5,6270.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="189" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">给真实 dom 身上记录 props 属性</div></div></foreignObject></g><path d="M 12993.69 6266.25 L 12993.69 6314.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12993.69 6320.13 L 12990.19 6313.13 L 12993.69 6314.88 L 12997.19 6313.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12854.19" y="6210.25" width="279" height="56" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12856.5,6231.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="236" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 237px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  updateFiberProps(domElement, props);</div></div></foreignObject></g><rect x="13107.69" y="6303.25" width="246" height="49" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(13110.5,6320.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="223" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 224px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">(node: any)[internalPropsKey] = props;</div></div></foreignObject></g><path d="M 12922.19 6345 L 12630.33 6345 L 12630.33 5941.67 L 12516.7 5941.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12511.45 5941.67 L 12518.45 5938.17 L 12516.7 5941.67 L 12518.45 5945.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12922.19" y="6321.25" width="143" height="47" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12924.5,6337.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="121" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 122px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return domElement;</div></div></foreignObject></g><path d="M 12571.69 6025 L 13460.33 6025 L 13460.33 6023.33 L 14342.3 6023.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14347.55 6023.33 L 14340.55 6026.83 L 14342.3 6023.33 L 14340.55 6019.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 6044 L 12391.69 6080.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 6085.38 L 12388.19 6078.38 L 12391.69 6080.13 L 12395.19 6078.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12211.69" y="6005.5" width="360" height="38.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12214.5,6010.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="355" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 356px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">appendAllChildren(instance, workInProgress, false, false);<br/>将当前元素的子元素全部 插入进去，如果没有，则什么都不做</div></div></foreignObject></g><path d="M 14422 6133.75 L 14422 6154.17 L 14422 6169.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14422 6174.72 L 14418.5 6167.72 L 14422 6169.47 L 14425.5 6167.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="14305.2" y="6089" width="233" height="44.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(14307.5,6104.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="200" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 201px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">    let node = workInProgress.child;</div></div></foreignObject></g><path d="M 14422 6054.66 L 14422 6075 L 14422 6082.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14422 6087.88 L 14418.5 6080.88 L 14422 6082.63 L 14425.5 6080.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14422.19 5989.12 L 14495.44 6021.93 L 14422.19 6054.75 L 14348.94 6021.93 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14363.5,6014.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="117" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 119px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">while (node !== null)</div></div></foreignObject></g><path d="M 12392 6139.5 L 12392 6159.17 L 12392 6159.34" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12392 6164.59 L 12388.5 6157.59 L 12392 6159.34 L 12395.5 6157.59 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12268.69" y="6086.5" width="246" height="53" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12271.5,6098.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="227" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 228px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> workInProgress.stateNode = instance; <br/><div style="text-align: center"><span>记录自己的真实 node</span></div></div></div></foreignObject></g><path d="M 12391.69 6457 L 12391.69 6490.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 6495.88 L 12388.19 6488.88 L 12391.69 6490.63 L 12395.19 6488.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 6380.5 L 12510.69 6418.75 L 12391.69 6457 L 12272.69 6418.75 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(12275.5,6389.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="189" height="58"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 190px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  if (workInProgress.ref !== null) {</div><div>      markRef(workInProgress);</div><div>   }</div><div>// 是否有ref</div></div></div></foreignObject></g><path d="M 12392 6347.29 L 12392 6367.5 L 12392 6374.23" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12392 6379.48 L 12388.5 6372.48 L 12392 6374.23 L 12395.5 6372.48 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12391.69 6165.5 L 12526.19 6256.5 L 12391.69 6347.5 L 12257.19 6256.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(12259.5,6173.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="200" height="166"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 201px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>      if (</div><div>            finalizeInitialChildren(</div><div>              instance,</div><div>              type,</div><div>              newProps,</div><div>              rootContainerInstance,</div><div>              currentHostContext,</div><div>            )</div><div>          ) {</div><div>            markUpdate(workInProgress);</div><div>          }</div><div>        // 是否需要自动聚焦</div></div></div></foreignObject></g><path d="M 12392 6551.25 L 12392 6576.67 L 12392 6595.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12392 6600.38 L 12388.5 6593.38 L 12392 6595.13 L 12395.5 6593.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12284.19" y="6497" width="215" height="54.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12286.5,6517.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="204" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 205px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> bubbleProperties(workInProgress);</div></div></foreignObject></g><path d="M 12338.19 6620 L 11217 6620 L 11217 5905.83 L 4391.7 5905.83" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4386.45 5905.83 L 4393.45 5902.33 L 4391.7 5905.83 L 4393.45 5909.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="12338.19" y="6601.5" width="107" height="37.13" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(12362.5,6613.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 59px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return null</div></div></foreignObject></g><g transform="translate(4244.5,6540.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="168" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">while (completedWork !== null);</div></div></foreignObject></g><path d="M 3760 5005.83 L 3770.33 5005.83 Q 3780.33 5005.83 3780.33 5015.83 L 3780.33 5516.67 Q 3780.33 5526.67 3790.33 5526.67 L 4059.8 5526.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4065.05 5526.67 L 4058.05 5530.17 L 4059.8 5526.67 L 4058.05 5523.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4002 6321.67 L 3735.33 6321.67 L 3735.33 5039.17 L 3734.77 5025.53" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3734.55 5020.28 L 3738.33 5027.13 L 3734.77 5025.53 L 3731.34 5027.42 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3958.5,6315.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 4091.17 6022.5 L 4092.83 6022.5 L 4092.83 6019.17 L 3752.83 6019.17 L 3752.83 5025.53" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3752.83 5020.28 L 3756.33 5027.28 L 3752.83 5025.53 L 3749.33 5027.28 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4013.5,6013.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 14385.19 6196 L 14118.67 6195.83 L 14118.69 6281.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14118.69 6286.38 L 14115.19 6279.38 L 14118.69 6281.13 L 14122.19 6279.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(13962.5,6256.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="312" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">if (node.tag === HostComponent || node.tag === HostText)</div></div></foreignObject></g><g transform="translate(14079.5,6226.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="78" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">原生 dom 元素</div></div></foreignObject></g><path d="M 14421.38 6229.03 L 14529.5 6229.17 L 14529.5 6281.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14529.5 6287.22 L 14526 6280.22 L 14529.5 6281.97 L 14533 6280.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14442.5,6222.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="173" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">else if (node.tag === HostPortal)</div></div></foreignObject></g><path d="M 14463.88 6195.83 L 14756.17 6195.83 L 14756.17 6272.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14756.17 6277.88 L 14752.67 6270.88 L 14756.17 6272.63 L 14759.67 6270.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14685.5,6222.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">else if (node.child !== null)</div></div></foreignObject></g><path d="M 14422 6216.32 L 14422 7130 L 14170.03 7130" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14164.78 7130 L 14171.78 7126.5 L 14170.03 7130 L 14171.78 7133.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14344.5,6251.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="155" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">if (node === workInProgress)</div></div></foreignObject></g><path d="M 14424.19 6174.5 L 14464.19 6196 L 14424.19 6217.5 L 14384.19 6196 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14386.5,6189.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 73px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">判断节点类型</div></div></foreignObject></g><path d="M 14124.5 6325.75 L 14124.5 6514.17 L 14124.5 6696.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14124.5 6701.38 L 14121 6694.38 L 14124.5 6696.13 L 14128 6694.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="13999.19" y="6283.5" width="249.99" height="42.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(14001.5,6298.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="236" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 237px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> appendInitialChild(parent, node.stateNode);</div></div></foreignObject></g><rect x="14459.95" y="6289" width="141.5" height="38" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(14462.5,6301.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="129" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 130px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">portal 类型则什么都不做</div></div></foreignObject></g><g transform="translate(14560.5,6310.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="22" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: black; line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Text</div></div></foreignObject></g><rect x="14647.84" y="6279" width="216" height="59" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(14650.5,6288.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="143" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 144px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   node.child.return = node;</div><div>   node = node.child;</div><div>   continue;</div></div></div></foreignObject></g><path d="M 14124.5 6757.29 L 14124.5 6790 L 14124.5 6815.99" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14124.5 6821.24 L 14121 6814.24 L 14124.5 6815.99 L 14128 6814.24 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14052.5,6783.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="144" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">所有子元素都已经挂载完毕</div></div></foreignObject></g><path d="M 14124.19 6702.81 L 14216.19 6730.1 L 14124.19 6757.38 L 14032.19 6730.1 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14039.5,6723.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="168" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 170px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> while (node.sibling === null) </div></div></foreignObject></g><path d="M 14124.5 6884.19 L 14124.5 6999.17 L 14124.5 7108.35" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14124.5 7113.6 L 14121 7106.6 L 14124.5 7108.35 L 14128 7106.6 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14113.5,6992.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 14312 6853.33 L 14388.67 6853.33 L 14388.67 6924.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14388.67 6929.72 L 14385.17 6922.72 L 14388.67 6924.47 L 14392.17 6922.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14346.5,6888.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">继续递归父元素</div></div></foreignObject></g><g transform="translate(14338.5,6854.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 14124.19 6822.31 L 14311.69 6853.27 L 14124.19 6884.24 L 13936.69 6853.27 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(13955.5,6846.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="337" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 337px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (node.return === null || node.return === workInProgress)</div></div></foreignObject></g><path d="M 14084.69 7133.33 L 13917.83 7133.33 L 13917.83 6023.33 L 12572 6023.33 L 12572 6018.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 12572 6023.88 L 12568.5 6016.88 L 12572 6018.63 L 12575.5 6016.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="14084.69" y="7114.72" width="79" height="31.1" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(14107.5,7123.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="33" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 35px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return</div></div></foreignObject></g><path d="M 14392.83 6970.17 L 14392.83 6999.17 L 14392 6999.17 L 14392 7023.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14392 7028.88 L 14388.5 7021.88 L 14392 7023.63 L 14395.5 7021.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(14344.5,6986.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">继续递归兄弟节点</div></div></foreignObject></g><rect x="14319.19" y="6929.18" width="147" height="40.99" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(14333.5,6942.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="117" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 119px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> node = node.return;</div></div></foreignObject></g><path d="M 14299.5 7060.83 L 13960.33 7060.83 L 13960.33 6020.83 L 14340.63 6020.83" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 14345.88 6020.83 L 14338.88 6024.33 L 14340.63 6020.83 L 14338.88 6017.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="14300.19" y="7028.82" width="198" height="50" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(14302.5,7040.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="177" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 178px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">node.sibling.return = node.return;<br/>node = node.sibling;</div></div></foreignObject></g><g transform="translate(14501.5,6945.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="511" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 512px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">      // 因为 fiber 节点的数据结构是 child sibling retun <br/>      // 所以每个 fiber 节点都只有一个 child，当 追加完 child 的时候，要继续把 sibling 也追加进去<br/>      // 如果还有兄弟节点，则把当前兄弟节点的 return 赋值一份给 兄弟节点的 return，<br/>      // 并且将 sibling 赋值给 node，继续循环<br/>      // 将 sibling 也追加到父节点身上</div></div></foreignObject></g><g transform="translate(6260.5,5122.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="538" height="191"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 538px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><p class="code-line code-line" style="margin-top: 0px ; margin-bottom: 0.7em ; position: relative ; color: rgb(171 , 178 , 191) ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px">主要是做一些赋值和优先级标记的工作。</p><ul style="margin-top: 0px ; margin-bottom: 0.7em ; color: rgb(171 , 178 , 191) ; font-size: 16px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px"><li class="code-line code-line" style="position: relative">赋值updateQueue.baseState。若此次render没有更新被跳过，那么赋值为新计算的state，否则赋值为第一个被跳过的更新之前的update。</li><li class="code-line code-line" style="position: relative">赋值updateQueue 的 firstBaseUpdate 和 lastBaseUpdate，也就是如果本次有更新被跳过，则将被截取的队列赋值给updateQueue的baseUpdate链表。</li><li class="code-line code-line" style="position: relative">更新workInProgress节点的lanes。更新策略为如果没有优先级被跳过，则意味着本次将update都处理完了，lanes清空。否则将低优先级update的优先级放入lanes。之前说过， 此处是再发起一次调度重做低优先级任务的关键。</li><li class="code-line code-line" style="position: relative">更新workInProgress节点上的memoizedState。</li></ul></div></div></foreignObject></g><rect x="11883.69" y="5710.5" width="292" height="40" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(11886.5,5723.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="284" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 285px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   updateHostContainer(current, workInProgress);</div></div></foreignObject></g><path d="M 4196.57 6747.5 L 3700.33 6747.5 L 3700.33 5087.5 L 3599.2 5087.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3593.95 5087.5 L 3600.95 5084 L 3599.2 5087.5 L 3600.95 5091 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2957.01 4705.94 L 2957.01 4740.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2957.01 4745.38 L 2953.51 4738.38 L 2957.01 4740.13 L 2960.51 4738.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2825" y="4658.5" width="264.02" height="47.44" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2827.5,4668.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="252" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 253px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  workInProgressRoot = null;<br/>  workInProgressRootRenderLanes = NoLanes;</div></div></foreignObject></g><path d="M 2841 4765 L 2740.33 4765 L 2740.33 4342.5 L 2380.87 4342.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2375.62 4342.5 L 2382.62 4339 L 2380.87 4342.5 L 2382.62 4346 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2841" y="4746.5" width="232.01" height="37" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2843.5,4758.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="207" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 208px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return workInProgressRootExitStatus;</div></div></foreignObject></g><path d="M 2268.67 4440 L 2268.67 4460 L 2267.83 4460 L 2267.83 4468.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2267.83 4474.13 L 2264.33 4467.13 L 2267.83 4468.88 L 2271.33 4467.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2244.5,4451.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">开始提交</div></div></foreignObject></g><rect x="2134" y="4381" width="269" height="59" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2136.5,4383.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="265" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 265px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const finishedWork: Fiber = (root.current.alternate: any);</div><div>  root.finishedWork = finishedWork;</div><div>  root.finishedLanes = lanes;</div></div></div></foreignObject></g><path d="M 2314.89 4491.67 L 2575.33 4491.67 L 2575 8106.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2575 8111.38 L 2571.5 8104.38 L 2575 8106.13 L 2578.5 8104.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2220.5" y="4475.25" width="94.39" height="33.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2222.5,4478.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="97" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 97px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  commitRoot(root);</div></div></foreignObject></g><path d="M 4333.69 6553 L 4333.69 6606.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4333.69 6611.88 L 4330.19 6604.88 L 4333.69 6606.63 L 4337.19 6604.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4287.5,6576.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">是否到了根节点</div></div></foreignObject></g><rect x="3952.19" y="5469" width="763" height="1084" fill="none" stroke="#000000" pointer-events="none"/><rect x="4066.19" y="5506" width="215" height="46" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4075.5,5522.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="195" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 195px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> let completedWork = unitOfWork;</div></div></foreignObject></g><rect x="4040.44" y="5626.5" width="266.5" height="53" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4042.5,5638.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="259" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 260px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const current = completedWork.alternate;</div><div>    const returnFiber = completedWork.return;</div></div></div></foreignObject></g><path d="M 4173.69 5552 L 4173.69 5620.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.69 5625.38 L 4170.19 5618.38 L 4173.69 5620.13 L 4177.19 5618.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4026.5,5591.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="230" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">do { ... } while (completedWork !== null);</div></div></foreignObject></g><path d="M 4173.69 5716 L 4331.44 5748.5 L 4173.69 5781 L 4015.94 5748.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4018.5,5741.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="306" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 307px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((completedWork.flags &amp; Incomplete) === NoFlags)</div></div></foreignObject></g><path d="M 4173.67 5679.5 L 4173.67 5689.33 Q 4173.67 5699.17 4173.67 5697.5 L 4173.67 5696.67 Q 4173.67 5695.83 4173.67 5702.74 L 4173.67 5709.64" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.67 5714.89 L 4170.17 5707.89 L 4173.67 5709.64 L 4177.17 5707.89 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4142.44" y="5811" width="62.5" height="31.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4144.5,5819.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="49" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 50px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> let next;</div></div></foreignObject></g><path d="M 4173.67 5781 L 4173.67 5790.91 Q 4173.67 5800.83 4173.67 5795.83 L 4173.67 5793.33 Q 4173.67 5790.83 4173.67 5797.73 L 4173.67 5804.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.67 5809.88 L 4170.17 5802.88 L 4173.67 5804.63 L 4177.17 5802.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4162.5,5788.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="22" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><rect x="3962.44" y="5887.25" width="422.5" height="37.75" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(3964.5,5899.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="405" height="13"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 13px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 406px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> next = completeWork(current, completedWork, subtreeRenderLanes);</div></div></foreignObject></g><path d="M 4173.69 5842.5 L 4173.69 5880.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.69 5886.13 L 4170.19 5879.13 L 4173.69 5880.88 L 4177.19 5879.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.69 5988 L 4256.19 6022.5 L 4173.69 6057 L 4091.19 6022.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4093.5,5995.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="156" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 157px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div> if (next !== null) {</div><div>   <span>  workInProgress = next;</span></div><div>     return;</div><div>  } // 如果还有子元素继续递归</div></div></div></foreignObject></g><path d="M 4173.69 5925 L 4173.69 5981.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.69 5986.88 L 4170.19 5979.88 L 4173.69 5981.63 L 4177.19 5979.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4509.19" y="5718.5" width="120" height="60" fill="none" stroke="#000000" pointer-events="none"/><path d="M 4331.44 5748.5 L 4502.82 5748.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4508.07 5748.5 L 4501.07 5752 L 4502.82 5748.5 L 4501.07 5745 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4407.5,5742.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><rect x="4041.44" y="6184" width="265.5" height="48.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4043.5,6201.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="231" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 232px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const siblingFiber = completedWork.sibling;</div></div></foreignObject></g><path d="M 4173.67 6056.99 L 4173.67 6120.83 L 4174.5 6120.83 L 4174.5 6177.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4174.5 6182.88 L 4171 6175.88 L 4174.5 6177.63 L 4178 6175.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4161.5,6113.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 4569.5 5778.5 L 4569.5 6129.17 L 4174.5 6129.17 L 4174.5 6177.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4174.5 6183.05 L 4171 6176.05 L 4174.5 6177.8 L 4178 6176.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.69 6277 L 4352.19 6321.63 L 4173.69 6366.25 L 3995.19 6321.63 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3997.5,6287.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="337" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 338px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    if (siblingFiber !== null) {</div><div>      // If there is more work to do in this returnFiber, do that next.</div><div>      workInProgress = siblingFiber;</div><div>      return;</div><div>    }    // 如果还有兄弟元素继续递归</div></div></div></foreignObject></g><path d="M 4174.08 6232.5 L 4173.91 6270.68" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4173.89 6275.93 L 4170.42 6268.92 L 4173.91 6270.68 L 4177.42 6268.95 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3984.69" y="6426" width="379" height="86.13" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3987.5,6434.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="373" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 374px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    // 如果 兄弟节点也没有了，则表示当前父节点下的所有 child </div><div>    // 都生成了 真实 dom，返回父级的fiber<br/></div><div>    completedWork = returnFiber;   </div><div>    // Update the next thing we're working on in case something throws.</div><div>    workInProgress = completedWork;</div></div></div></foreignObject></g><path d="M 4173.67 6366.24 L 4173.67 6395.83 L 4174.5 6395.83 L 4174.5 6419.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4174.5 6424.88 L 4171 6417.88 L 4174.5 6419.63 L 4178 6417.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4161.5,6389.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 4333.67 6676 L 4333.67 6697.5 L 4333.67 6712.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4333.67 6717.88 L 4330.17 6710.88 L 4333.67 6712.63 L 4337.17 6710.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4333.69 6613 L 4490.94 6644.5 L 4333.69 6676 L 4176.44 6644.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4183.5,6631.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="299" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 299px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (workInProgressRootExitStatus === RootIncomplete) <br/>  0 === 0</div></div></foreignObject></g><rect x="4196.57" y="6719" width="274.25" height="57" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4198.5,6741.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="263" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 264px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">workInProgressRootExitStatus = RootCompleted;</div></div></foreignObject></g><path d="M 2608 8352.5 L 2461.17 8352.5 L 2461.17 4500 L 2320.87 4500" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2315.62 4500 L 2322.62 4496.5 L 2320.87 4500 L 2322.62 4503.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2608" y="8338.5" width="96" height="28.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2627.5,8345.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 58px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return null;</div></div></foreignObject></g><path d="M 1914.78 4393.33 L 1655.33 4393.33 L 1655.33 3160 L 1401.7 3160" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 1396.45 3160 L 1403.45 3156.5 L 1401.7 3160 L 1403.45 3163.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1914.78" y="4377.5" width="54.99" height="32.38" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1917.5,4380.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="51" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 51px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return null</div></div></foreignObject></g><path d="M 1159.5 3247.5 L 896.17 3247.5 L 896.17 2166.67 L 818.37 2166.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 813.12 2166.67 L 820.12 2163.17 L 818.37 2166.67 L 820.12 2170.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="1159.5" y="3229.5" width="83.68" height="36" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(1166.5,3241.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 68px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return lane;</div></div></foreignObject></g><path d="M 738.31 2336.67 L 1830.33 2336.67 L 1830.33 2337.5 L 2918.13 2337.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2923.38 2337.5 L 2916.38 2341 L 2918.13 2337.5 L 2916.38 2334 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 501.17 2347.5 L 323.67 2347.5 L 323.67 251.67 L 261.7 251.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 256.45 251.67 L 263.45 248.17 L 261.7 251.67 L 263.45 255.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="500.93" y="2316" width="237.38" height="42" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(503.5,2323.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="218" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 219px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> // 返回 fiber 根的真实 dom<br/> return getPublicRootInstance(fiberRoot);</div></div></foreignObject></g><path d="M 3047 2358.01 L 3047 2383.33 L 3047 2402.68" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3047 2407.93 L 3043.5 2400.93 L 3047 2402.68 L 3050.5 2400.93 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2922.75" y="2317.01" width="248" height="41" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2937.5,2331.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="218" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 220px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const containerFiber = container.current;</div></div></foreignObject></g><path d="M 3047 2462.96 L 3047 2485.83 L 3047 2501.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3047 2506.88 L 3043.5 2499.88 L 3047 2501.63 L 3050.5 2499.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3036.5,2478.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 3133.94 2435.83 L 3172.83 2435.83 L 3172.83 2565.83 L 3045.33 2565.83 L 3045.33 2615.83 L 3045.59 2618.66" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3046.07 2623.89 L 3041.95 2617.23 L 3045.59 2618.66 L 3048.92 2616.6 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3159.5,2480.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 3046.88 2409.01 L 3134.5 2436.01 L 3046.88 2463 L 2959.25 2436.01 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2982.5,2429.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="128" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 130px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (!containerFiber.child) </div></div></foreignObject></g><rect x="3007.21" y="2508" width="78.63" height="31.51" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(3019.5,2517.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="53" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 55px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return null</div></div></foreignObject></g><path d="M 2947.64 2660.83 L 2865.33 2660.83 L 2865.33 2774.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 2865.33 2779.72 L 2861.83 2772.72 L 2865.33 2774.47 L 2868.83 2772.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2803.5,2709.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="122" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> case HostComponent:</div></div></foreignObject></g><path d="M 3145.41 2660.83 L 3194.5 2660.83 L 3194.5 2774.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3194.5 2779.88 L 3191 2772.88 L 3194.5 2774.63 L 3198 2772.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3176.5,2700.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="39" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">default:</div></div></foreignObject></g><path d="M 3046.53 2625 L 3146.35 2660.5 L 3046.53 2696 L 2946.7 2660.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2962.5,2654.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="168" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 170px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">switch (containerFiber.child.tag)</div></div></foreignObject></g><rect x="2700.02" y="2781" width="329.82" height="37" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(2711.5,2793.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="306" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 308px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> return getPublicInstance(containerFiber.child.stateNode);</div></div></foreignObject></g><path d="M 3195.33 2817 L 3195.33 2849.17 L 2630.33 2849.17 L 2630.33 2347.5 L 745.03 2347.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 739.78 2347.5 L 746.78 2344 L 745.03 2347.5 L 746.78 2351 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3072.5" y="2781" width="243.01" height="36" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(3092.5,2792.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="203" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 205px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> return containerFiber.child.stateNode;</div></div></foreignObject></g><g transform="translate(447.5,59.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="237" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 238px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">function legacyRenderSubtreeIntoContainer(<br/>  parentComponent: ?React$Component,<br/>  children: ReactNodeList,<br/>  container: Container,<br/>  forceHydrate: boolean,<br/>  callback: ?Function,<br/>)</div></div></foreignObject></g><path d="M 623.67 249.5 L 623.67 269.17 L 623.67 272.73" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 623.67 277.98 L 620.17 270.98 L 623.67 272.73 L 627.17 270.98 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="501" y="190.5" width="245" height="59" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(503.5,206.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="223" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 224px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span>  let root = container._reactRootContainer;</span><br/><span>  let fiberRoot: FiberRoot;</span></div></div></foreignObject></g><path d="M 623.42 317.96 L 622.1 659.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 622.08 664.88 L 618.61 657.87 L 622.1 659.63 L 625.61 657.9 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 657 298.33 L 694.5 298.33 L 726.63 298.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 731.88 298.33 L 724.88 301.83 L 726.63 298.33 L 724.88 294.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 623.5 279 L 656.75 298.5 L 623.5 318 L 590.25 298.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(602.5,292.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="41" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 43px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (!root)</div></div></foreignObject></g><path d="M 834 319.25 L 834 397.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 834 403.13 L 830.5 396.13 L 834 397.88 L 837.5 396.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="733" y="277.75" width="202" height="41.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(751.5,292.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="164" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 166px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> fiberRoot = root._internalRoot;</div></div></foreignObject></g><path d="M 652 423.33 L 341.17 423.33 L 341.17 2336.67 L 494.8 2336.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 500.05 2336.67 L 493.05 2340.17 L 494.8 2336.67 L 493.05 2333.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="652" y="404.25" width="364" height="38" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(656.5,416.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="354" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 354px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> updateContainer(children, fiberRoot, parentComponent, callback);</div></div></foreignObject></g><path d="M 127.83 34 L 127.83 54.17 L 127.83 61.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 127.83 66.88 L 124.33 59.88 L 127.83 61.63 L 131.33 59.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="28.5" y="0" width="198" height="34" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(38.5,10.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="178" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 180px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">ReactDOM.render(&lt;App /&gt;, root);</div></div></foreignObject></g><g transform="translate(2627.5,8345.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 58px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return null;</div></div></foreignObject></g><g transform="translate(3006.5,8106.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="296" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> 在执行本次 mutation 前先看一下是否还有未完成的操作</div></div></foreignObject></g><g transform="translate(2555.5,7963.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="146" height="28"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 147px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="color: rgb(171 , 178 , 191) ; background-color: rgb(22 , 27 , 34) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-weight: normal ; font-size: 17px ; line-height: 30px"><div><span style="color: #61afef">commitRootImpl</span></div></div></div></div></foreignObject></g><rect x="3014" y="8163.13" width="175.99" height="32.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3043.5,8170.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="116" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 116px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">flushPassiveEffects();</div></div></foreignObject></g><g transform="translate(3024.5,8123.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="61" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">do  ... while</div></div></foreignObject></g><g transform="translate(3018.5,8231.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="245" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">while(rootWithPendingPassiveEffects !== null)</div></div></foreignObject></g><path d="M 3276.25 9041.5 L 3311.75 9041.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3317 9041.5 L 3310 9045 L 3311.75 9041.5 L 3310 9038 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 9087 L 3063.67 9109.17 L 3063.67 9124.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 9129.88 L 3060.17 9122.88 L 3063.67 9124.63 L 3067.17 9122.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2851" y="8996" width="425.25" height="91" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2853.5,9003.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="400" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 401px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    // 第一步</div><div>    const shouldFireAfterActiveInstanceBlur = commitBeforeMutationEffects(</div><div>      root,</div><div>      finishedWork,</div><div>    );</div></div></div></foreignObject></g><path d="M 3063.67 8852 L 3063.67 8871.67 L 3063.67 8879.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 8884.72 L 3060.17 8877.72 L 3063.67 8879.47 L 3067.17 8877.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2939.12" y="8806" width="249" height="46" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2941.5,8813.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="218" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 219px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const finishedWork = root.finishedWork;</div><div>  const lanes = root.finishedLanes;</div></div></div></foreignObject></g><path d="M 3063.67 8930 L 3063.67 8963.33 L 3063.67 8989.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 8994.72 L 3060.17 8987.72 L 3063.67 8989.47 L 3067.17 8987.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2965.12" y="8886" width="197" height="44" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2967.5,8893.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="170" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 171px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  root.finishedWork = null;</div><div>  root.finishedLanes = NoLanes;</div></div></div></foreignObject></g><path d="M 3499.5 9058.25 L 3499.5 9080.83 L 3499.5 9097.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3499.5 9102.88 L 3496 9095.88 L 3499.5 9097.63 L 3503 9095.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3318.12" y="9024.75" width="363.01" height="33.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3320.5,9032.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="345" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 346px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">focusedInstanceHandle = prepareForCommit(root.containerInfo);</div></div></foreignObject></g><path d="M 3616.37 9125 L 3785.75 9125" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3791 9125 L 3784 9128.5 L 3785.75 9125 L 3784 9121.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3441.17 9145.83 L 3441.17 9166.67 L 3443.67 9166.67 L 3443.67 9181.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3443.67 9186.88 L 3440.17 9179.88 L 3443.67 9181.63 L 3447.17 9179.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3382.88" y="9104" width="233.49" height="42" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3385.5,9111.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="211" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 212px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  nextEffect = firstChild;</div><div>  commitBeforeMutationEffects_begin();</div></div></div></foreignObject></g><path d="M 3885.12 9143.75 L 3885.12 9217.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3885.12 9222.88 L 3881.62 9215.88 L 3885.12 9217.63 L 3888.62 9215.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3842.5,9163.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">判断是否有删除</div></div></foreignObject></g><rect x="3792.12" y="9106.25" width="186" height="37.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3794.5,9113.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="178" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 179px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const fiber = nextEffect;<br/>  const deletions = fiber.deletions;</div></div></foreignObject></g><g transform="translate(3808.5,9089.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="138" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">while (nextEffect !== null )</div></div></foreignObject></g><path d="M 3885.33 9366 L 3885.33 9385.83 L 3885.33 9381.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3885.33 9386.88 L 3881.83 9379.88 L 3885.33 9381.63 L 3888.83 9379.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3649.62" y="9224" width="471" height="142" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3651.5,9231.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="465" height="124"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 466px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="color: rgb(171 , 178 , 191) ; background-color: rgb(22 , 27 , 34) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-size: 14px ; line-height: 156%"><div>    <span style="color: #c678dd">if</span> (deletions <span style="color: #56b6c2">!==</span> <span style="color: #d19a66">null</span>) {</div><div>      <span style="color: #c678dd">for</span> (<span style="color: #c678dd">let</span> i <span style="color: #56b6c2">=</span> <span style="color: #d19a66">0</span>; i <span style="color: #56b6c2">&lt;</span> deletions<span style="color: #56b6c2">.</span><span style="color: #e06c75">length</span>; i<span style="color: #56b6c2">++</span>) {</div><div>        <span style="color: #c678dd">const</span> deletion <span style="color: #56b6c2">=</span> deletions[i];</div><div>        <span style="color: #61afef">commitBeforeMutationEffectsDeletion</span>(deletion);</div><div>      }</div><div>    }</div></div></div></div></foreignObject></g><path d="M 3885.33 9417 L 3885.33 9436.67 L 3885.33 9425 L 3885.33 9438.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3885.33 9443.92 L 3881.83 9436.92 L 3885.33 9438.67 L 3888.83 9436.92 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3810.62" y="9388" width="149" height="29" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3812.5,9395.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="138" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 139px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">    const child = fiber.child;</div></div></foreignObject></g><path d="M 3885.33 9520.96 L 3885.33 9540.83 L 3885.33 9538.33 L 3885.33 9551.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3885.33 9556.88 L 3881.83 9549.88 L 3885.33 9551.63 L 3888.83 9549.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3874.5,9530.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 4090.33 9483.33 L 4137.83 9483.33 L 4137.83 9551.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4137.83 9556.88 L 4134.33 9549.88 L 4137.83 9551.63 L 4141.33 9549.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3885.12 9445 L 4090.12 9483 L 3885.12 9521 L 3680.12 9483 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3682.5,9452.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="336" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 337px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div> if (</div><div>      (fiber.subtreeFlags &amp; BeforeMutationMask) !== NoFlags &amp;&amp;</div><div>      child !== null</div><div>    )</div></div></div></foreignObject></g><rect x="3766.87" y="9558" width="236.5" height="41" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3769.5,9565.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="223" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 224px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  ensureCorrectReturnPointer(child, fiber);</div><div>  nextEffect = child;</div></div></div></foreignObject></g><path d="M 4259.43 9575 L 4419.55 9575" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4424.8 9575 L 4417.8 9578.5 L 4419.55 9575 L 4417.8 9571.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4137.83 9592 L 4137.83 9621.67 L 3630.33 9621.67 L 3630.33 9135.83 L 3622.53 9135.83" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3617.28 9135.83 L 3624.28 9132.33 L 3622.53 9135.83 L 3624.28 9139.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4016.12" y="9558" width="243.31" height="34" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4018.5,9565.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="227" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 228px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> commitBeforeMutationEffects_complete();</div></div></foreignObject></g><path d="M 4501.17 9589.5 L 4501.17 9621.67 L 4501.17 9647.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4501.17 9652.88 L 4497.67 9645.88 L 4501.17 9647.63 L 4504.67 9645.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4425.92" y="9560.5" width="150.82" height="29" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4428.5,9567.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="129" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 130px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const fiber = nextEffect;</div></div></foreignObject></g><path d="M 4362.83 9558.33 L 4362.83 9611.67 L 4171.17 9611.67 L 4171.17 9598.03" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4171.17 9592.78 L 4174.67 9599.78 L 4171.17 9598.03 L 4167.67 9599.78 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4325.5,9537.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 136px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">while (nextEffect !== null)</div></div></foreignObject></g><path d="M 4656.12 9697 L 4693.44 9697" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4698.69 9697 L 4691.69 9700.5 L 4693.44 9697 L 4691.69 9693.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4501.17 9740 L 4501.17 9760 L 4501.17 9772.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4501.17 9777.88 L 4497.67 9770.88 L 4501.17 9772.63 L 4504.67 9770.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4346.53" y="9654" width="309.59" height="86" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4348.5,9661.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="289" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 290px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   try {</div><div>     commitBeforeMutationEffectsOnFiber(fiber);</div><div>   } catch (error) {</div><div>     captureCommitPhaseError(fiber, fiber.return, error);</div><div>   }</div></div></div></foreignObject></g><path d="M 4820.33 9720 L 4820.33 9755 L 5028.67 9755 L 5028.67 9783.65" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5028.67 9788.9 L 5025.17 9781.9 L 5028.67 9783.65 L 5032.17 9781.9 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4948.5,9757.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="159" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">判断 元素是否在 Suspense 中</div></div></foreignObject></g><path d="M 4820.33 9720 L 4820.33 9871.67 L 5026.17 9871.67 L 5026.17 9895.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5026.17 9900.55 L 5022.67 9893.55 L 5026.17 9895.3 L 5029.67 9893.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4699.81" y="9674" width="241.3" height="46" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4702.5,9681.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="212" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 213px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const current = finishedWork.alternate;</div><div>  const flags = finishedWork.flags;</div><div><br/></div></div></div></foreignObject></g><path d="M 5028.6 9790 L 5129.43 9813 L 5028.6 9836 L 4927.77 9813 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4930.5,9797.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="198" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 198px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (!shouldFireAfterActiveInstanceBlur &amp;&amp; focusedInstanceHandle !== null)</div></div></foreignObject></g><path d="M 5026.12 9944 L 5026.12 9981.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5026.12 9986.88 L 5022.62 9979.88 L 5026.12 9981.63 L 5029.62 9979.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5026.12 9902 L 5133.12 9923 L 5026.12 9944 L 4919.12 9923 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4933.5,9916.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="184" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 186px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((flags &amp; Snapshot) !== NoFlags)</div></div></foreignObject></g><path d="M 5026.17 10029.99 L 5026.17 10044.17 L 4917 10044.17 L 4917 10096.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4917 10101.88 L 4913.5 10094.88 L 4917 10096.63 L 4920.5 10094.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4875.5,10053.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="82" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">case HostRoot:</div></div></foreignObject></g><path d="M 5026.12 9988 L 5111.62 10009 L 5026.12 10030 L 4940.62 10009 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4959.5,10002.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="133" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 135px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">switch (finishedWork.tag)</div></div></foreignObject></g><path d="M 5023.12 10125 L 5075.3 10125" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5080.55 10125 L 5073.55 10128.5 L 5075.3 10125 L 5073.55 10121.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4919.5 10147 L 4919.5 10166.67 L 4919.5 10176.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4919.5 10181.88 L 4916 10174.88 L 4919.5 10176.63 L 4923 10174.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4816.12" y="10103" width="207" height="44" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4818.5,10111.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="200" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 201px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div> const root = finishedWork.stateNode;</div><div> clearContainer(root.containerInfo);</div></div></div></foreignObject></g><path d="M 5082 10143.33 L 5052 10143.33 L 5052 10135.83 L 5029.49 10135.96" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5024.24 10135.99 L 5031.22 10132.45 L 5029.49 10135.96 L 5031.26 10139.45 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5081.67" y="10089" width="269" height="72" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5084.5,10097.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="255" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 256px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>if (container.nodeType === ELEMENT_NODE) {</div><div>    // 先将元素清空</div><div>    ((container: any): Element).textContent = '';</div><div>  }</div></div></div></foreignObject></g><path d="M 4896.87 10192.5 L 4685.33 10192.5 L 4685.33 9718.33 L 4662.53 9718.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4657.28 9718.33 L 4664.28 9714.83 L 4662.53 9718.33 L 4664.28 9721.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4896.87" y="10183" width="45.5" height="19" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4899.5,10186.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="30" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 31px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">break</div></div></foreignObject></g><path d="M 4501.17 9807 L 4501.17 9826.67 L 4501.17 9835.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4501.17 9840.92 L 4497.67 9833.92 L 4501.17 9835.67 L 4504.67 9833.92 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4423.42" y="9779" width="155.8" height="28" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4425.5,9786.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="143" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 144px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const sibling = fiber.sibling;</div></div></foreignObject></g><path d="M 4501.17 9868.96 L 4501.17 9889.17 L 4502 9889.17 L 4502 9891.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4502 9896.38 L 4498.5 9889.38 L 4502 9891.13 L 4505.5 9889.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4490.5,9877.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 4445.82 9855.83 L 4352 9855.83 L 4352 10038.33 L 4501.17 10038.33 L 4501.17 10065.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4501.17 10070.55 L 4497.67 10063.55 L 4501.17 10065.3 L 4504.67 10063.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4396.5,9849.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 4501.32 9842 L 4558.22 9855.5 L 4501.32 9869 L 4444.42 9855.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4446.5,9849.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="97" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (sibling !== null) </div></div></foreignObject></g><path d="M 4502 9944 L 4502 9965.83 L 4502 9981.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4502 9986.88 L 4498.5 9979.88 L 4502 9981.63 L 4505.5 9979.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4362.62" y="9897.5" width="278.8" height="46.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4364.5,9904.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="266" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 267px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  ensureCorrectReturnPointer(sibling, fiber.return);</div><div>  nextEffect = sibling;</div></div></div></foreignObject></g><rect x="4478.12" y="9988" width="47.79" height="24.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4480.5,9995.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="31" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 32px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return</div></div></foreignObject></g><path d="M 4430.82 10091.67 L 4304.5 10091.67 L 4304.5 9544.17 L 4318.13 9544.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4323.38 9544.17 L 4316.38 9547.67 L 4318.13 9544.17 L 4316.38 9540.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4430.82" y="10072" width="141" height="39" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4433.5,10085.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="128" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 129px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">nextEffect = fiber.return;</div></div></foreignObject></g><path d="M 3389.62 9293.33 L 3300.33 9293.33 L 3300.33 9064.17 L 3282.53 9064.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3277.28 9064.17 L 3284.28 9060.67 L 3282.53 9064.17 L 3284.28 9067.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3208.87 9152.5 L 4400.33 9152.5 L 5584.8 9152.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5590.05 9152.5 L 5583.05 9156 L 5584.8 9152.5 L 5583.05 9149 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 9174.5 L 3063.67 9194.17 L 3063.67 9190 L 3063.67 9203.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 9208.88 L 3060.17 9201.88 L 3063.67 9203.63 L 3067.17 9201.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2918.38" y="9131" width="290.49" height="43.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2920.5,9138.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="274" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 275px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   // 第二步<br/>   commitMutationEffects(root, finishedWork, lanes);</div></div></foreignObject></g><path d="M 5702.83 9184.25 L 5702.83 9206.67 L 5702.83 9222.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5702.83 9227.88 L 5699.33 9220.88 L 5702.83 9222.63 L 5706.33 9220.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5591.25" y="9121.25" width="223" height="63" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5593.5,9132.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="202" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 203px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  inProgressLanes = committedLanes;</div><div>  inProgressRoot = root;</div><div>  nextEffect = firstChild;</div></div></div></foreignObject></g><path d="M 5805.44 9251.67 L 5856.17 9251.67 L 5899.75 9251.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5905 9251.67 L 5898 9255.17 L 5899.75 9251.67 L 5898 9248.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5702.83 9274.25 L 5702.83 9300 L 5702.83 9318.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5702.83 9323.88 L 5699.33 9316.88 L 5702.83 9318.63 L 5706.33 9316.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5600.07" y="9229" width="205.37" height="45.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5602.5,9245.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="189" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 190px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">commitMutationEffects_begin(root);</div></div></foreignObject></g><path d="M 5977 9269.81 L 5977 9292.5 L 5977 9308.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5977 9313.88 L 5973.5 9306.88 L 5977 9308.63 L 5980.5 9306.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5906.12" y="9233.43" width="141.99" height="36.38" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5908.5,9245.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="129" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 130px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const fiber = nextEffect;</div></div></foreignObject></g><g transform="translate(5892.5,9186.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 136px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">while (nextEffect !== null)</div></div></foreignObject></g><path d="M 5977 9349 L 5977 9369.17 L 5977 9383.68" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5977 9388.93 L 5973.5 9381.93 L 5977 9383.68 L 5980.5 9381.93 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5888.11" y="9315" width="178.01" height="34" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5890.5,9325.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="171" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 172px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const deletions = fiber.deletions;</div></div></foreignObject></g><path d="M 5977.11 9439 L 5977.11 9477.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5977.11 9482.88 L 5973.61 9475.88 L 5977.11 9477.63 L 5980.61 9475.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5966.5,9455.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 6033.84 9414.17 L 6242.83 9414.17 L 6242.83 9477.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6242.83 9483.05 L 6239.33 9476.05 L 6242.83 9477.8 L 6246.33 9476.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6142.5,9406.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 5977.11 9390 L 6034.62 9414.5 L 5977.11 9439 L 5919.61 9414.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5921.5,9408.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 109px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (deletions !== null)</div></div></foreignObject></g><rect x="5819.62" y="9484" width="315" height="87.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5821.5,9493.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="303" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 304px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  try {</div><div>     commitDeletion(root, childToDelete, fiber);</div><div>  } catch (error) {</div><div>     captureCommitPhaseError(childToDelete, fiber, error);</div><div>  }</div></div></div></foreignObject></g><path d="M 6242.62 9527 L 6242.62 9575.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6242.62 9580.38 L 6239.12 9573.38 L 6242.62 9575.13 L 6246.12 9573.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6162.12" y="9484" width="161" height="43" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6164.5,9499.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="128" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 129px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const child = fiber.child;</div></div></foreignObject></g><path d="M 6242.83 9642.97 L 6242.83 9663.33 L 6242.83 9659.17 L 6242.83 9673.01" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6242.83 9678.26 L 6239.33 9671.26 L 6242.83 9673.01 L 6246.33 9671.26 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6231.5,9654.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 6447.19 9612.5 L 6647.83 9612.5 L 6647.83 9661.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6647.83 9667.22 L 6644.33 9660.22 L 6647.83 9661.97 L 6651.33 9660.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6242.62 9581.5 L 6448.87 9612.25 L 6242.62 9643 L 6036.37 9612.25 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6057.5,9605.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="369" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 369px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((fiber.subtreeFlags &amp; MutationMask) !== NoFlags &amp;&amp; child !== null)</div></div></foreignObject></g><path d="M 6242.83 9714.63 L 6242.83 9735 L 6242.83 9745.89" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6242.83 9751.14 L 6239.33 9744.14 L 6242.83 9745.89 L 6246.33 9744.14 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6356.17 9696.67 L 6427.83 9696.67 L 6427.83 9736.76" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6427.83 9742.01 L 6424.33 9735.01 L 6427.83 9736.76 L 6431.33 9735.01 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6128.87" y="9679.38" width="227.5" height="35.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6134.5,9690.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="216" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 218px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">ensureCorrectReturnPointer(child, fiber);</div></div></foreignObject></g><rect x="6184.87" y="9752.26" width="115.5" height="26.74" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6191.5,9759.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="102" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 102px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  nextEffect = child;</div></div></foreignObject></g><rect x="6320.12" y="9743.13" width="216" height="44.99" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6322.5,9752.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 197px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   // 给子 fiber 设置 父  <br/>   fiber.return = expectedReturnFiber;</div></div></foreignObject></g><path d="M 6762.12 9685.5 L 6857.75 9685.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6863 9685.5 L 6856 9689 L 6857.75 9685.5 L 6856 9682 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6647.83 9703 L 6647.83 9821.67 L 5805.33 9821.67 L 5805.33 9280.53" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5805.33 9275.28 L 5808.83 9282.28 L 5805.33 9280.53 L 5801.83 9282.28 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6534.12" y="9668" width="228" height="35" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6536.5,9679.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="212" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 213px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> commitMutationEffects_complete(root);</div></div></foreignObject></g><path d="M 6937.12 9702.18 L 6937.12 9736.76" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937.12 9742.01 L 6933.62 9735.01 L 6937.12 9736.76 L 6940.62 9735.01 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6864.12" y="9668.81" width="146" height="33.37" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6866.5,9678.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="126" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 127px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const fiber = nextEffect;</div></div></foreignObject></g><g transform="translate(6838.5,9639.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 136px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">while (nextEffect !== null)</div></div></foreignObject></g><path d="M 5623.58 9348.33 L 5517 9348.33 L 5517 9163.33 L 3215.03 9163.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3209.78 9163.33 L 3216.78 9159.83 L 3215.03 9163.33 L 3216.78 9166.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5623.58" y="9325" width="158.36" height="46.12" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5625.5,9334.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  inProgressLanes = null;<br/>  inProgressRoot = null;</div></div></foreignObject></g><path d="M 3063.67 9235.75 L 3063.67 9262.5 L 3063.67 9282.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 9287.88 L 3060.17 9280.88 L 3063.67 9282.63 L 3067.17 9280.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2979.38" y="9210" width="168.49" height="25.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2981.5,9217.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="151" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 152px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> root.current = finishedWork;</div></div></foreignObject></g><path d="M 3205.36 9316.67 L 5832 9316.67 L 5832 9309.17 L 8453.13 9309.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8458.38 9309.17 L 8451.38 9312.67 L 8453.13 9309.17 L 8451.38 9305.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 9332.38 L 3063.67 9355 L 3063.67 9371.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3063.67 9376.88 L 3060.17 9369.88 L 3063.67 9371.63 L 3067.17 9369.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2921.87" y="9289" width="283.49" height="43.38" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2924.5,9296.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="268" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 269px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    // 第三步</div><div>    commitLayoutEffects(finishedWork, root, lanes);</div></div></div></foreignObject></g><path d="M 8571.17 9344 L 8571.17 9365.83 L 8571.17 9381.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8571.17 9386.88 L 8567.67 9379.88 L 8571.17 9381.63 L 8574.67 9379.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8459.12" y="9274.25" width="224" height="69.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8461.5,9288.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="202" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 203px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  inProgressLanes = committedLanes;</div><div>  inProgressRoot = root;</div><div>  nextEffect = finishedWork;</div></div></div></foreignObject></g><path d="M 8757.12 9407.5 L 8792.75 9407.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8798 9407.5 L 8791 9411 L 8792.75 9407.5 L 8791 9404 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8571.12 9427 L 8571.12 9473.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8571.12 9479.13 L 8567.62 9472.13 L 8571.12 9473.88 L 8574.62 9472.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8385.12" y="9388" width="372" height="39" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8387.5,9401.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="353" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 354px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> commitLayoutEffects_begin(finishedWork, root, committedLanes);</div></div></foreignObject></g><path d="M 9213.12 9407.5 L 9264.5 9407.5 L 9308.75 9407.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9314 9407.5 L 9307 9411 L 9308.75 9407.5 L 9307 9404 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8799.5 9419.17 L 8777.83 9419.17 L 8777.83 9417.5 L 8763.37 9417.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8758.12 9417.5 L 8765.12 9414 L 8763.37 9417.5 L 8765.12 9421 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8799.12" y="9384.75" width="414" height="45.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8801.5,9400.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="402" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 403px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> commitLayoutMountEffects_complete(subtreeRoot, root, committedLanes);</div></div></foreignObject></g><path d="M 9387.83 9427 L 9387.83 9446.67 L 9387.83 9445 L 9387.83 9458.7" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9387.83 9463.95 L 9384.33 9456.95 L 9387.83 9458.7 L 9391.33 9456.95 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9315.12" y="9387.5" width="145" height="39.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9317.5,9400.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const fiber = nextEffect;</div></div></foreignObject></g><g transform="translate(9296.5,9355.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 136px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">while (nextEffect !== null)</div></div></foreignObject></g><path d="M 9387.83 9514.18 L 9387.83 9539.17 L 9387.83 9557.06" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9387.83 9562.31 L 9384.33 9555.31 L 9387.83 9557.06 L 9391.33 9555.31 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9387.62 9465 L 9464.87 9489.63 L 9387.62 9514.25 L 9310.37 9489.63 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9312.5,9483.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="137" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 138px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (fiber === subtreeRoot)</div></div></foreignObject></g><path d="M 9387.83 9593.56 L 9387.83 9616.67 L 9387.83 9633.25" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9387.83 9638.5 L 9384.33 9631.5 L 9387.83 9633.25 L 9391.33 9631.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9332.37" y="9563.43" width="110.5" height="30.13" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9334.5,9571.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="92" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 93px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> nextEffect = null;</div></div></foreignObject></g><path d="M 9362.87 9654.17 L 9287.83 9654.17 L 9287.83 9419.17 L 9219.2 9419.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9213.95 9419.17 L 9220.95 9415.67 L 9219.2 9419.17 L 9220.95 9422.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9362.87" y="9639.62" width="49.5" height="28.38" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9365.5,9647.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="31" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 32px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return</div></div></foreignObject></g><path d="M 8490.12 9505.83 L 5847.83 9505.83 L 5847.83 9321.67 L 3211.7 9321.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3206.45 9321.67 L 3213.45 9318.17 L 3211.7 9321.67 L 3213.45 9325.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8490.12" y="9480.25" width="162" height="50.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8492.5,9492.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  inProgressLanes = null;</div><div>  inProgressRoot = null;</div></div></div></foreignObject></g><path d="M 7092.83 9783.33 L 7279.5 9783.33 L 7459.75 9783.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7465 9783.33 L 7458 9786.83 L 7459.75 9783.33 L 7458 9779.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937.12 9823.26 L 6937.12 9882.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937.12 9887.88 L 6933.62 9880.88 L 6937.12 9882.63 L 6940.62 9880.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6781.62" y="9743.13" width="311" height="80.13" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6783.5,9748.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="299" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 300px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>     try {</div><div>        commitMutationEffectsOnFiber(fiber, root);</div><div>      } catch (error) {</div><div>        captureCommitPhaseError(fiber, fiber.return, error);</div><div>      }</div></div></div></foreignObject></g><path d="M 7638.62 9804.6 L 7638.62 9839.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7638.62 9844.88 L 7635.12 9837.88 L 7638.62 9839.63 L 7642.12 9837.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7466.12" y="9761.79" width="345" height="42.81" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7468.5,9776.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="333" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 334px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const primaryFlags = flags &amp; (Placement | Update | Hydrating);</div></div></foreignObject></g><path d="M 7570.87 9870 L 7429.5 9870 L 7429.5 9953.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7429.5 9958.38 L 7426 9951.38 L 7429.5 9953.13 L 7433 9951.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7384.5,9864.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="89" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">case Placement:</div></div></foreignObject></g><path d="M 7638.62 9846 L 7706.37 9870 L 7638.62 9894 L 7570.87 9870 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7581.5,9863.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="114" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 116px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">switch (primaryFlags)</div></div></foreignObject></g><path d="M 7527 9990.83 L 7832.83 9990.83 L 7832.83 9990 L 8131.75 9990" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8137 9990 L 8130 9993.5 L 8131.75 9990 L 8130 9986.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7429.5 10022 L 7429.5 10041.67 L 7429.5 10040 L 7429.5 10053.82" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7429.5 10059.07 L 7426 10052.07 L 7429.5 10053.82 L 7433 10052.07 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7331.12" y="9959.5" width="196" height="62.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7338.5,9984.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="180" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 180px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> commitPlacement(finishedWork);</div></div></foreignObject></g><path d="M 8462.12 9990 L 8504 9990" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8509.25 9990 L 8502.25 9993.5 L 8504 9990 L 8502.25 9986.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10016 L 8300.33 10035.83 L 8300.33 10036.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10042.13 L 8296.83 10035.13 L 8300.33 10036.88 L 8303.83 10035.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8138.12" y="9964" width="324" height="52" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8143.5,9976.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="312" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 314px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">// 递归向上找到父级的 元素，因为父级不一定对应真实dom<br/> const parentFiber = getHostParentFiber(finishedWork);</div></div></foreignObject></g><path d="M 8582 10011 L 8582 10030.83 L 8582 10023.33 L 8582 10036.88" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8582 10042.13 L 8578.5 10035.13 L 8582 10036.88 L 8585.5 10035.13 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8510.37" y="9969" width="143" height="42" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8515.5,9983.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="131" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  let parent = fiber.return;</div></div></foreignObject></g><path d="M 8662.62 10091.5 L 8714.75 10091.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8720 10091.5 L 8713 10095 L 8714.75 10091.5 L 8713 10088 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8501.12 10091.67 L 8481.17 10091.67 L 8481.17 10023.33 L 8482 10023.33 L 8482 10003.33 L 8468.37 10003.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8463.12 10003.33 L 8470.12 9999.83 L 8468.37 10003.33 L 8470.12 10006.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8501.12" y="10043.25" width="161.5" height="96.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8503.5,10050.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="149" height="82"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 150px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  while (parent !== null) {</div><div>    if (isHostParent(parent)) {</div><div>      return parent;</div><div>    }</div><div>    parent = parent.return;</div><div>  }</div></div></div></foreignObject></g><rect x="8721.12" y="10037.75" width="252" height="107.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8723.5,10043.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="236" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 237px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>function isHostParent(fiber: Fiber): boolean {</div><div>  return (</div><div>    fiber.tag === HostComponent ||</div><div>    fiber.tag === HostRoot ||</div><div>    fiber.tag === HostPortal</div><div>  );</div><div>}</div></div></div></foreignObject></g><path d="M 8300.33 10097.5 L 8300.33 10117.5 L 8300.33 10114.71" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10119.96 L 8296.83 10112.96 L 8300.33 10114.71 L 8303.83 10112.96 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8164.62" y="10043.25" width="271" height="54.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8166.5,10049.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="265" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 266px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  let parent;<br/>  let isContainer;<br/>  const parentStateNode = parentFiber.stateNode;</div></div></foreignObject></g><path d="M 8223.78 10150 L 8073.67 10150 L 8073.67 10232.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8073.67 10237.88 L 8070.17 10230.88 L 8073.67 10232.63 L 8077.17 10230.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8013.5,10165.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="119" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">case HostComponent:</div></div></foreignObject></g><path d="M 8300.33 10179.17 L 8300.33 10232.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10238.05 L 8296.83 10231.05 L 8300.33 10232.8 L 8303.83 10231.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8258.5,10181.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="82" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">case HostRoot:</div></div></foreignObject></g><path d="M 8376.46 10150 L 8557.83 10150 L 8557.83 10232.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8557.83 10237.88 L 8554.33 10230.88 L 8557.83 10232.63 L 8561.33 10230.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8507.5,10162.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="101" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">    case HostPortal:</div></div></foreignObject></g><path d="M 8300.12 10121 L 8376.62 10149.94 L 8300.12 10178.88 L 8223.62 10149.94 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8235.5,10143.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="129" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 129px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> switch (parentFiber.tag)</div></div></foreignObject></g><path d="M 8073.67 10293.18 L 8073.67 10331.67 L 8300.33 10331.67 L 8300.33 10382.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10388.05 L 8296.83 10381.05 L 8300.33 10382.8 L 8303.83 10381.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7995.12" y="10239" width="157" height="54.18" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8003.5,10245.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="139" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 139px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>parent = parentStateNode</div><div style="text-align: left"><span>isContainer = false;</span></div><div style="text-align: left"><span>break;</span></div></div></div></foreignObject></g><path d="M 8300.33 10294 L 8300.33 10341.67 L 8300.33 10382.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10388.05 L 8296.83 10381.05 L 8300.33 10382.8 L 8303.83 10381.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8185.62" y="10239" width="229" height="55" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8187.5,10246.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="224" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 225px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   parent = parentStateNode.containerInfo;</div><div>   isContainer = true;</div><div>   break;</div></div></div></foreignObject></g><path d="M 8557.83 10292 L 8557.83 10330.83 L 8300.33 10330.83 L 8300.33 10382.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10388.05 L 8296.83 10381.05 L 8300.33 10382.8 L 8303.83 10381.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8265.5,10348.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">判断是否插入</div></div></foreignObject></g><rect x="8443.12" y="10239" width="229" height="53" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8445.5,10245.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="224" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 225px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   parent = parentStateNode.containerInfo;<br/>   isContainer = true;<br/>   break;</div></div></foreignObject></g><path d="M 8300.33 10434.95 L 8300.33 10461.67 L 8300.33 10482.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10487.88 L 8296.83 10480.88 L 8300.33 10482.63 L 8303.83 10480.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8263.5,10457.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">先清空父元素</div></div></foreignObject></g><g transform="translate(8288.5,10438.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 8192.7 10411.67 L 8146.17 10411.67 L 8146.17 10565 L 8300.33 10565 L 8300.33 10604.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8300.33 10609.88 L 8296.83 10602.88 L 8300.33 10604.63 L 8303.83 10602.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8132.5,10425.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 8300.12 10389 L 8409.12 10412 L 8300.12 10435 L 8191.12 10412 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8202.5,10405.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="194" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 196px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (parentFiber.flags &amp; ContentReset)</div></div></foreignObject></g><rect x="8192.62" y="10489" width="215" height="45" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8194.5,10498.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="205" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 206px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   resetTextContent(parent);<br/>   parentFiber.flags &amp;= ~ContentReset;</div></div></foreignObject></g><path d="M 8306.17 10648 L 8306.17 10668.33 L 8306.17 10661.67 L 8306.17 10675.66" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8306.17 10680.91 L 8302.67 10673.91 L 8306.17 10675.66 L 8309.67 10673.91 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8176.62" y="10611" width="259" height="37" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8178.5,10616.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="244" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 245px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const before = getHostSibling(finishedWork);<br/>  // 获取兄弟节点</div></div></foreignObject></g><path d="M 8254.62 10707.5 L 8050.33 10707.5 L 8050.33 10769.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8050.33 10774.38 L 8046.83 10767.38 L 8050.33 10769.13 L 8053.83 10767.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8040.5,10717.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 8357.62 10707.5 L 8511.17 10707.5 L 8511.17 10769.38" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8511.17 10774.63 L 8507.67 10767.63 L 8511.17 10769.38 L 8514.67 10767.63 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8499.5,10725.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><g transform="translate(8446.5,10742.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="129" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">真正执行 插入 dom 元素</div></div></foreignObject></g><path d="M 8306.12 10682 L 8358.12 10707.75 L 8306.12 10733.5 L 8254.12 10707.75 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8266.5,10701.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="78" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 80px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (isContainer)</div></div></foreignObject></g><rect x="7884.12" y="10775.5" width="346" height="36.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7890.5,10787.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="332" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 332px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">insertOrAppendPlacementNode(finishedWork, before, parent);</div></div></foreignObject></g><path d="M 8682.83 10794.17 L 8883.67 10794.17 L 8883.67 10793.33 L 9077.75 10793.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9083 10793.33 L 9076 10796.83 L 9077.75 10793.33 L 9076 10789.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8469.5 10811.75 L 8469.5 10848.33 L 7604.5 10848.33 L 7604.5 10005.83 L 7547 10005.83 L 7533.36 10006.4" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7528.12 10006.62 L 7534.97 10002.83 L 7533.36 10006.4 L 7535.26 10009.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8255.12" y="10775.75" width="428" height="36" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8266.5,10787.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="404" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 404px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">insertOrAppendPlacementNodeIntoContainer(finishedWork, before, parent);</div></div></foreignObject></g><path d="M 9147.83 10811.75 L 9147.83 10832.5 L 9152 10832.5 L 9152.22 10847.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9152.29 10852.88 L 9148.69 10845.93 L 9152.22 10847.63 L 9155.69 10845.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9100.5,10826.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="99" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">校验是否 元素节点</div></div></foreignObject></g><rect x="9084.12" y="10775.5" width="128" height="36.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9095.5,10787.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="104" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 104px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const {tag} = node;</div></div></foreignObject></g><g transform="translate(8864.5,10684.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="291" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 292px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">function insertOrAppendPlacementNodeIntoContainer(<br/>  node: Fiber,<br/>  before: ?Instance,<br/>  parent: Container,<br/>): void</div></div></foreignObject></g><path d="M 9152.31 10879.88 L 9152 10900 L 9152 10899.17 L 9152 10912.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9152 10918.05 L 9148.5 10911.05 L 9152 10912.8 L 9155.5 10911.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8978.81" y="10857" width="347" height="25.88" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8989.5,10863.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="325" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 325px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const isHost = tag === HostComponent || tag === HostText;</div></div></foreignObject></g><path d="M 9192.83 10940.83 L 9309.5 10940.83 L 9309.5 10984.87" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9309.5 10990.12 L 9306 10983.12 L 9309.5 10984.87 L 9313 10983.12 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9301.5,10956.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 9112 10940.83 L 8942.83 10940.83 L 8942.83 10979.62" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8942.83 10984.87 L 8939.33 10977.87 L 8942.83 10979.62 L 8946.33 10977.87 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8906.5,10947.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">根节点会走这</div></div></foreignObject></g><g transform="translate(9005.5,10934.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 9152.31 10919 L 9192.81 10941.09 L 9152.31 10963.18 L 9111.81 10941.09 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9126.5,10934.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="51" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 51px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (isHost)</div></div></foreignObject></g><path d="M 9309.5 11026.24 L 9309.5 11046.67 L 9309.5 11059.92" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9309.5 11065.17 L 9306 11058.17 L 9309.5 11059.92 L 9313 11058.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9206.86" y="10991.24" width="205.5" height="35" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9211.5,11002.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="196" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 196px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const stateNode = node.stateNode;</div></div></foreignObject></g><path d="M 9309.5 11108.69 L 9309.5 11135 L 9309.5 11154.87" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9309.5 11160.12 L 9306 11153.12 L 9309.5 11154.87 L 9313 11153.12 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9298.5,11128.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 9356.47 11087.5 L 9467.83 11087.5 L 9467.83 11218.33 L 9309.5 11218.33 L 9309.5 11231.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9309.5 11236.38 L 9306 11229.38 L 9309.5 11231.13 L 9313 11229.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9454.5,11118.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 9309.62 11066.24 L 9356.49 11087.49 L 9309.62 11108.74 L 9262.74 11087.49 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9267.5,11073.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 85px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (before)<br/>是否有兄弟节点</div></div></foreignObject></g><rect x="9165.92" y="11161.24" width="287.38" height="39.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9172.5,11174.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="274" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 276px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">insertInContainerBefore(parent, stateNode, before);</div></div></foreignObject></g><path d="M 9440.12 11255 L 9504.5 11255 L 9562.75 11255" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9568 11255 L 9561 11258.5 L 9562.75 11255 L 9561 11251.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9309.5 11272.24 L 9309.5 11535.83 L 8695.33 11535.83 L 8695.33 10802.5 L 8689.2 10802.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8683.95 10802.5 L 8690.95 10799 L 8689.2 10802.5 L 8690.95 10806 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9179.12 11255 L 9102 11255 L 9030.87 11255" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9025.62 11255 L 9032.62 11251.5 L 9030.87 11255 L 9032.62 11258.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9039.5,11248.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">递归调用自己时会到这里</div></div></foreignObject></g><rect x="9179.12" y="11237.24" width="261" height="35" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9187.5,11248.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="243" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 243px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> appendChildToContainer(parent, stateNode);</div></div></foreignObject></g><path d="M 8942.83 11020.9 L 8942.83 11047.5 L 8942.83 11067.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8942.83 11072.75 L 8939.33 11065.75 L 8942.83 11067.5 L 8946.33 11065.75 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8861.88" y="10985.99" width="162.31" height="34.91" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8878.5,10996.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="129" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 129px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const child = node.child;</div></div></foreignObject></g><path d="M 8943.03 11117.78 L 8943.03 11155.66" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8943.03 11160.91 L 8939.53 11153.91 L 8943.03 11155.66 L 8946.53 11153.91 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8943.03 11117.78 L 8943.03 11155.66" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8943.03 11160.91 L 8939.53 11153.91 L 8943.03 11155.66 L 8946.53 11153.91 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8943.03 11073.78 L 8991.61 11095.78 L 8943.03 11117.78 L 8894.45 11095.78 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8900.5,11082.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="85" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 85px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (child !== null)<br/>是否有子节点</div></div></foreignObject></g><path d="M 8942.83 11203.03 L 8942.83 11223.33 L 8943.67 11223.33 L 8943.67 11230.24" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8943.67 11235.49 L 8940.17 11228.49 L 8943.67 11230.24 L 8947.17 11228.49 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8758.95 11200.83 L 8726.17 11200.83 L 8726.17 10698.33 L 8856.47 10698.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8861.72 10698.33 L 8854.72 10701.83 L 8856.47 10698.33 L 8854.72 10694.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8758.95" y="11162.03" width="368.16" height="41" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8761.5,11176.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="362" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 364px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> insertOrAppendPlacementNodeIntoContainer(child, before, parent);</div></div></foreignObject></g><path d="M 8943.67 11272.86 L 8943.67 11310.83 L 8943.67 11339.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8943.67 11344.72 L 8940.17 11337.72 L 8943.67 11339.47 L 8947.17 11337.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8885.5,11322.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="115" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">while (sibling !== null)</div></div></foreignObject></g><g transform="translate(8899.5,11279.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">是否有兄弟节点</div></div></foreignObject></g><rect x="8863.8" y="11236.61" width="160.39" height="36.25" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8875.5,11248.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 137px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  let sibling = child.sibling;</div></div></foreignObject></g><path d="M 8943.67 11404.78 L 8943.67 11425 L 8943.67 11438.41" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8943.67 11443.66 L 8940.17 11436.66 L 8943.67 11438.41 L 8947.17 11436.66 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8737.83 11389.17 L 8725.33 11389.17 L 8725.33 10698.33 L 8856.47 10698.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8861.72 10698.33 L 8854.72 10701.83 L 8856.47 10698.33 L 8854.72 10694.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8692.5,11169.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">递归调用自己</div></div></foreignObject></g><rect x="8747.78" y="11371.78" width="392.43" height="33" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8753.5,11381.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 379px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   insertOrAppendPlacementNodeIntoContainer(sibling, before, parent);</div></div></div></foreignObject></g><path d="M 8943.67 11478.16 L 8943.67 11536.67 L 8694.5 11536.67 L 8694.5 10802.5 L 8689.2 10802.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8683.95 10802.5 L 8690.95 10799 L 8689.2 10802.5 L 8690.95 10806 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8871.17" y="11444.78" width="145.64" height="33.38" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(8873.5,11454.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   sibling = sibling.sibling;<br/></div></div></div></foreignObject></g><path d="M 9628.67 11278.37 L 9628.67 11305.83 L 9628.67 11327.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9628.67 11332.88 L 9625.17 11325.88 L 9628.67 11327.63 L 9632.17 11325.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9569.12" y="11231.11" width="118.5" height="47.26" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(9586.5,11248.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="83" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 83px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">let parentNode;</div></div></foreignObject></g><g transform="translate(9570.5,11155.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="181" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 182px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">function appendChildToContainer(<br/>  container: Container,<br/>  child: Instance | TextInstance,<br/>): void</div></div></foreignObject></g><path d="M 9533.5 11355.83 L 9487 11355.83 L 9487 11263.33 L 9446.7 11263.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9441.45 11263.33 L 9448.45 11259.83 L 9446.7 11263.33 L 9448.45 11266.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9533.5" y="11334" width="189.75" height="44.11" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(9535.5,11342.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="179" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 180px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   parentNode = container;</div><div>   parentNode.appendChild(child);</div></div></div></foreignObject></g><g transform="translate(9683.5,11309.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="343" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">如果是注释节点则会取到父节点再 insetBefore 到注释节点的前面</div></div></foreignObject></g><path d="M 8738.12 11349 L 8738.12 11349 L 9174.12 11349 L 9174.12 11349" fill="#2a2a2a" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8738.12 11349 L 8738.12 11509 L 9174.12 11509 L 9174.12 11349" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8738.12 11349 L 9174.12 11349" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 7429.5 10103.94 L 7429.5 10124.17 L 7429.5 10115 L 7429.5 10128.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7429.5 10133.88 L 7426 10126.88 L 7429.5 10128.63 L 7433 10126.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7320.12" y="10060.19" width="218" height="43.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7322.5,10068.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="193" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 194px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  // 清空掉 placement<br/>  finishedWork.flags &amp;= ~Placement;</div></div></foreignObject></g><path d="M 7405.87 10146.67 L 7249.5 10146.67 L 7249.5 9803.33 L 7099.2 9803.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7093.95 9803.33 L 7100.95 9799.83 L 7099.2 9803.33 L 7100.95 9806.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7405.87" y="10135" width="46.5" height="23.13" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(7408.5,10140.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="37" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 38px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> break;</div></div></foreignObject></g><path d="M 6937 9930.68 L 6937 9950.83 L 6937 9964.21" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937 9969.46 L 6933.5 9962.46 L 6937 9964.21 L 6940.5 9962.46 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6859.62" y="9889" width="155" height="41.68" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6861.5,9903.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="143" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 144px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const sibling = fiber.sibling;</div></div></foreignObject></g><path d="M 6937 10021.94 L 6937 10041.67 L 6937 10052.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937 10058.05 L 6933.5 10051.05 L 6937 10052.8 L 6940.5 10051.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6926.5,10033.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 6990.27 9996.67 L 7165.33 9996.67 L 7165.33 10325.83 L 6942 10325.83 L 6942 10342.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6942 10348.05 L 6938.5 10341.05 L 6942 10342.8 L 6945.5 10341.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7036.5,9990.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 6937.12 9970.52 L 6991.12 9996.26 L 6937.12 10022 L 6883.12 9996.26 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(6885.5,9989.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="94" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 95px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (sibling !== null)</div></div></foreignObject></g><path d="M 6762.12 10059 L 6762.12 10059 L 7112.12 10059 L 7112.12 10059" fill="#2a2a2a" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 6762.12 10059 L 6762.12 10259 L 7112.12 10259 L 7112.12 10059" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 6762.12 10059 L 7112.12 10059" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937.83 10180 L 6937.83 10200 L 6937 10200 L 6937 10201.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937 10207.22 L 6933.5 10200.22 L 6937 10201.97 L 6940.5 10200.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6874.12" y="10153" width="127" height="27" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6876.5,10160.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="111" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 112px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  nextEffect = sibling;</div></div></foreignObject></g><rect x="6910.62" y="10208" width="53" height="29" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6912.5,10216.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="38" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 39px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> return;</div></div></foreignObject></g><rect x="6796.62" y="10073" width="281" height="42.26" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6798.5,10080.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="269" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 270px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   ensureCorrectReturnPointer(sibling, fiber.return);</div><div>   nextEffect = sibling;</div></div></div></foreignObject></g><path d="M 6937 10115.26 L 6937 10135 L 6937.83 10135 L 6937.83 10146.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6937.83 10152.22 L 6934.33 10145.22 L 6937.83 10146.97 L 6941.33 10145.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6864.12 10360.83 L 6705.33 10360.83 L 6705.33 9709.7" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 6705.33 9704.45 L 6708.83 9711.45 L 6705.33 9709.7 L 6701.83 9711.45 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="6864.12" y="10349" width="156" height="24" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(6866.5,10354.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="138" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 139px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   nextEffect = fiber.return;</div></div></foreignObject></g><path d="M 3063.67 9411.93 L 3063.67 9440 L 3064.5 9440 L 3064.5 9461.08" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3064.5 9466.33 L 3061 9459.33 L 3064.5 9461.08 L 3068 9459.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3033.87" y="9378" width="59.51" height="33.93" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3058.5,9385.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="10" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 12px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">...</div></div></foreignObject></g><rect x="3017.97" y="9467.45" width="92.49" height="31.1" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3037.5,9474.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="53" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 55px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return null</div></div></foreignObject></g><path d="M 2440 7979 L 2440 7979 L 13535 7979 L 13535 7979" fill="#2a2a2a" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2440 7979 L 2440 15699 L 13535 15699 L 13535 7979" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 2440 7979 L 13535 7979" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="7987" y="7983.33">function requestHostCallback(callback</text></g><path d="M 2818 8166.67 L 2913.67 8166.67 L 3002.3 8166.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3007.55 8166.67 L 3000.55 8170.17 L 3002.3 8166.67 L 3000.55 8163.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="2496" y="8106.01" width="322" height="121" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2498.5,8113.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="305" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 306px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  try {</div><div>    // 最主要调用了 commitRootImpl</div><div>    setCurrentUpdatePriority(DiscreteEventPriority);</div><div>    commitRootImpl(root, previousUpdateLanePriority);</div><div>  } finally {</div><div>    setCurrentUpdatePriority(previousUpdateLanePriority);</div><div>  }</div><div><br/></div></div></div></foreignObject></g><rect x="3010" y="8129" width="210" height="80" fill="none" stroke="#000000" pointer-events="none"/><path d="M 3120 8249 L 3302 8287.75 L 3120 8326.5 L 2938 8287.75 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(2940.5,8256.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="327" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 328px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div> if (</div><div>    (finishedWork.subtreeFlags &amp; PassiveMask) !== NoFlags ||</div><div>    (finishedWork.flags &amp; PassiveMask) !== NoFlags</div><div>  )</div></div></div></foreignObject></g><path d="M 3115.33 8209 L 3115.33 8229.17 L 3120.33 8229.17 L 3120.33 8242.7" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3120.33 8247.95 L 3116.83 8240.95 L 3120.33 8242.7 L 3123.83 8240.95 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3120 8371.5 L 3225 8388 L 3120 8404.5 L 3015 8388 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3017.5,8378.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="176" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 177px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (!rootDoesHavePassiveEffects)<br/>没有未完成的 effect了</div></div></foreignObject></g><path d="M 3120.33 8326.43 L 3120.33 8349.17 L 3120.33 8365.18" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3120.33 8370.43 L 3116.83 8363.43 L 3120.33 8365.18 L 3123.83 8363.43 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3109.5,8342.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><rect x="3015.75" y="8440" width="209.25" height="30.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3018.5,8447.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="200" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 201px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  rootDoesHavePassiveEffects = true;</div></div></foreignObject></g><path d="M 3120.33 8404.45 L 3120.33 8424.17 L 3120.33 8433.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3120.33 8438.88 L 3116.83 8431.88 L 3120.33 8433.63 L 3123.83 8431.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3109.5,8415.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><rect x="2976.69" y="8513" width="286.62" height="78.25" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(2979.5,8520.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="267" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 268px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>scheduleCallback(NormalSchedulerPriority, () =&gt; {</div><div>    flushPassiveEffects();</div><div>    return null;</div><div>  });</div><div>// 添加 effect 执行回调</div></div></div></foreignObject></g><path d="M 3120.33 8470.5 L 3120.33 8491.67 L 3120.33 8506.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3120.33 8511.88 L 3116.83 8504.88 L 3120.33 8506.63 L 3123.83 8504.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3740" y="10871.49" width="167" height="131.51" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3742.5,10878.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="121" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 122px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  var newTask = {</div><div>    id: taskIdCounter++,</div><div>    callback,</div><div>    priorityLevel,</div><div>    startTime,</div><div>    expirationTime,</div><div>    sortIndex: -1,</div><div>  };</div></div></div></foreignObject></g><path d="M 3263.31 8552.5 L 3823.67 8552.5 L 3823.67 10865.12" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3823.67 10870.37 L 3820.17 10863.37 L 3823.67 10865.12 L 3827.17 10863.37 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3775.5,9425.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="96" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">会在挂载之后执行</div></div></foreignObject></g><g transform="translate(3309.5,8543.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="94" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><span style="font-size: 12px ; text-align: left">scheduleCallback</span></div></div></foreignObject></g><path d="M 3823.5 11066.5 L 3915.75 11082.37 L 3823.5 11098.24 L 3731.25 11082.37 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3749.5,11073.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="147" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 149px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (startTime &gt; currentTime)</div></div></foreignObject></g><path d="M 3823.5 11003 L 3823.5 11060.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3823.5 11065.38 L 3820 11058.38 L 3823.5 11060.13 L 3827 11058.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3584" y="11148.5" width="217.5" height="42.89" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3586.5,11155.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="198" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 199px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> newTask.sortIndex = expirationTime;<br/> push(taskQueue, newTask);</div></div></foreignObject></g><path d="M 3732.01 11082.5 L 3692.83 11082.5 L 3692.83 11142.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3692.83 11147.38 L 3689.33 11140.38 L 3692.83 11142.13 L 3696.33 11140.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3679.5,11089.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 3692.75 11233.89 L 3748 11247.42 L 3692.75 11260.94 L 3637.5 11247.42 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3639.5,11241.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="97" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (enableProfiling)</div></div></foreignObject></g><path d="M 3692.83 11191.39 L 3692.83 11212.5 L 3692.83 11227.54" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3692.83 11232.79 L 3689.33 11225.79 L 3692.83 11227.54 L 3696.33 11225.79 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3583.12" y="11314" width="219.25" height="44.03" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3585.5,11321.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="212" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 213px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  markTaskStart(newTask, currentTime);</div><div>  newTask.isQueued = true;</div></div></div></foreignObject></g><path d="M 3692.83 11260.92 L 3692.83 11287.5 L 3692.83 11307.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3692.83 11312.88 L 3689.33 11305.88 L 3692.83 11307.63 L 3696.33 11305.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3681.5,11281.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><rect x="3597.79" y="11496" width="191.89" height="57" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(3600.5,11503.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="182" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 183px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  isHostCallbackScheduled = true;</div><div>  requestHostCallback(flushWork);</div><div>  // flushWork 是另外一个函数</div></div></div></foreignObject></g><g transform="translate(3821.5,11487.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="207" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">function requestHostCallback(callback)</div></div></foreignObject></g><path d="M 3998.82 11579 L 4087.66 11593.5 L 3998.82 11608 L 3909.98 11593.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3912.5,11586.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="159" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 160px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font color="#000000">  if (!isMessageLoopRunning) </font></div></div></foreignObject></g><rect x="4230" y="11632.11" width="254" height="56.59" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4232.5,11639.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="243" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 244px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div><font color="#000000">  schedulePerformWorkUntilDeadline = () =&gt; {</font></div><div><font color="#000000">    port.postMessage(null);</font></div><div><font color="#000000">  };</font></div></div></div></foreignObject></g><rect x="4249" y="11496" width="348" height="115" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(4251.5,11505.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="335" height="96"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 336px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const channel = new MessageChannel();</div><div>  const port = channel.port2;</div><div>  channel.port1.onmessage = <b>performWorkUntilDeadline</b>;</div><div>  schedulePerformWorkUntilDeadline = () =&gt; {</div><div>    port.postMessage(null);</div><div>  };</div><div>  // port 相当于 port2 ，port2 发出的message 会被 port1 接收到</div></div></div></foreignObject></g><path d="M 3693.74 11425 L 3854.87 11440.48 L 3693.74 11455.96 L 3532.61 11440.48 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3534.5,11432.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="185" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 186px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">callback(didUserCallbackTimeout);</div></div></foreignObject></g><path d="M 3692.83 11358.03 L 3692.83 11391.67 L 3693.67 11391.67 L 3693.67 11418.64" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3693.67 11423.89 L 3690.17 11416.89 L 3693.67 11418.64 L 3697.17 11416.89 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3693.67 11455.95 L 3693.67 11475.83 L 3693.67 11489.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3693.67 11494.88 L 3690.17 11487.88 L 3693.67 11489.63 L 3697.17 11487.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3682.5,11469.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><rect x="3642.1" y="11604" width="103.27" height="27.66" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3644.5,11611.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="91" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 92px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return newTask;</div></div></foreignObject></g><path d="M 3693.67 11553 L 3693.67 11578.33 L 3693.67 11597.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3693.67 11602.88 L 3690.17 11595.88 L 3693.67 11597.63 L 3697.17 11595.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4799.5 11631.66 L 4903 11659.16 L 4799.5 11686.66 L 4696 11659.16 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4698.5,11652.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="189" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 190px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (scheduledHostCallback !== null)</div></div></foreignObject></g><path d="M 4484 11660 L 4590.33 11660 L 4590.33 11659.17 L 4689.8 11659.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4695.05 11659.17 L 4688.05 11662.67 L 4689.8 11659.17 L 4688.05 11655.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(4513.5,11625.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="152" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><br/><br/><b style="color: rgb(240 , 240 , 240) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; letter-spacing: normal ; text-align: left ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(42 , 42 , 42)">performWorkUntilDeadline</b><div><br/></div><div><br/></div></div></div></foreignObject></g><rect x="4691.75" y="11722" width="215.5" height="38.84" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4694.5,11734.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="207" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 208px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const currentTime = getCurrentTime();</div></div></foreignObject></g><path d="M 4799.5 11686.66 L 4799.5 11706.67 L 4799.5 11701.67 L 4799.5 11715.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4799.5 11720.88 L 4796 11713.88 L 4799.5 11715.63 L 4803 11713.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4578.25" y="11986" width="442.5" height="173.92" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4580.5,11996.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="428" height="152"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 429px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    try {</div><div>      hasMoreWork = <b>scheduledHostCallback</b>(hasTimeRemaining, currentTime);</div><div>    } finally {</div><div>      if (hasMoreWork) {</div><div>        // If there's more work, schedule the next message event at the end</div><div>        // of the preceding one.</div><div>        schedulePerformWorkUntilDeadline();</div><div>      } else {</div><div>        isMessageLoopRunning = false;</div><div>        scheduledHostCallback = null;</div><div>      }</div></div></div></foreignObject></g><rect x="4678.75" y="11809" width="241.5" height="45.74" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4681.5,11818.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="217" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 218px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    deadline = currentTime + yieldInterval;</div><div>    const hasTimeRemaining = true;</div></div></div></foreignObject></g><path d="M 4799.5 11760.84 L 4799.5 11802.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4799.5 11807.88 L 4796 11800.88 L 4799.5 11802.63 L 4803 11800.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="4719.25" y="11897" width="160.5" height="31.39" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(4721.5,11906.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="142" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 143px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">    let hasMoreWork = true;</div></div></foreignObject></g><path d="M 4799.5 11928.39 L 4799.5 11979.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4799.5 11984.88 L 4796 11977.88 L 4799.5 11979.63 L 4803 11977.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4799.5 11854.74 L 4799.5 11890.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4799.5 11895.88 L 4796 11888.88 L 4799.5 11890.63 L 4803 11888.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5139" y="12056.44" width="194" height="33.04" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5141.5,12066.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="185" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 186px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  isHostCallbackScheduled = false;</div></div></foreignObject></g><path d="M 5020.75 12073.33 L 5079.5 12073.33 L 5132.63 12073.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5137.88 12073.33 L 5130.88 12076.83 L 5132.63 12073.33 L 5130.88 12069.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5158.5" y="12124" width="155" height="33" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5160.5,12134.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="140" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 141px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  isPerformingWork = true;</div></div></foreignObject></g><path d="M 5236.17 12089.48 L 5236.17 12109.17 L 5236.17 12104.17 L 5236.17 12117.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5236.17 12122.88 L 5232.67 12115.88 L 5236.17 12117.63 L 5239.67 12115.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5040.75 12226 L 5040.75 12226 L 5431.25 12226 L 5431.25 12226" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5040.75 12226 L 5040.75 12889 L 5431.25 12889 L 5431.25 12226" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5040.75 12226 L 5431.25 12226" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5114.5 12294.91 L 5114.5 12315 L 5114.5 12314.17 L 5114.33 12327.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5114.26 12332.88 L 5110.85 12325.84 L 5114.33 12327.63 L 5117.85 12325.93 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5114.25 12253 L 5171.75 12274 L 5114.25 12295 L 5056.75 12274 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5065.5,12267.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="97" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 97px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (enableProfiling)</div></div></foreignObject></g><g transform="translate(5066.5,12236.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">try { </div></div></foreignObject></g><path d="M 5065.25 12334 L 5065.25 12334 L 5383.75 12334 L 5383.75 12334" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5065.25 12334 L 5065.25 12836 L 5383.75 12836 L 5383.75 12334" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5065.25 12334 L 5383.75 12334" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5077.5,12423.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="65" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">catch (error)</div></div></foreignObject></g><rect x="5078" y="12444" width="288" height="118" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5080.5,12447.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="268" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 269px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>     {</div><div>        if (currentTask !== null) {</div><div>          const currentTime = getCurrentTime();</div><div>          markTaskErrored(currentTask, currentTime);</div><div>          currentTask.isQueued = false;</div><div>        }</div><div>        throw error;</div><div>      }</div></div></div></foreignObject></g><rect x="5078" y="12379" width="276" height="33" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(5081.5,12389.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="268" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 268px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return workLoop(hasTimeRemaining, initialTime);</div></div></foreignObject></g><g transform="translate(5076.5,12354.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">try {</div></div></foreignObject></g><g transform="translate(5077.5,12599.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="41" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">finally  {</div></div></foreignObject></g><g transform="translate(5137.5,12600.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="156" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">暂时看到这里，挂载已经结束</div></div></foreignObject></g><rect x="5080" y="12627" width="257" height="152" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5082.5,12640.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="245" height="124"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 246px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>{</div><div>    currentTask = null;</div><div>    currentPriorityLevel = previousPriorityLevel;</div><div>    isPerformingWork = false;</div><div>    if (enableProfiling) {</div><div>      const currentTime = getCurrentTime();</div><div>      markSchedulerSuspended(currentTime);</div><div>    }</div><div>  }</div></div></div></foreignObject></g><path d="M 5236.17 12157 L 5236.17 12191.67 L 5236.17 12219.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5236.17 12224.72 L 5232.67 12217.72 L 5236.17 12219.47 L 5239.67 12217.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3271" y="9188" width="345.49" height="54" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3273.5,9195.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="338" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 339px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const shouldFire = shouldFireAfterActiveInstanceBlur;   // false</div><div>  shouldFireAfterActiveInstanceBlur = false;</div><div>  focusedInstanceHandle = null;</div></div></div></foreignObject></g><rect x="3389.62" y="9267" width="108.26" height="27" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3391.5,9274.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="101" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 102px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return shouldFire;</div></div></foreignObject></g><path d="M 3443.67 9242 L 3443.67 9261.67 L 3443.67 9260.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3443.67 9265.88 L 3440.17 9258.88 L 3443.67 9260.63 L 3447.17 9258.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7373.85 11221.67 L 7540.33 11221.67 L 7540.33 11317.66" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7540.33 11322.91 L 7536.83 11315.91 L 7540.33 11317.66 L 7543.83 11315.91 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7417.5,11213.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 7250 11191.39 L 7375 11221.39 L 7250 11251.39 L 7125 11221.39 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7135.5,11214.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="228" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 228px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (rootWithPendingPassiveEffects !== null)</div></div></foreignObject></g><path d="M 3263.31 8526.67 L 7252.83 8526.67 L 7252.83 11156.67 L 7250.33 11156.67 L 7250.33 11185.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7250.33 11190.55 L 7246.83 11183.55 L 7250.33 11185.3 L 7253.83 11183.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(3305.5,8518.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="115" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><span style="font-size: 12px ; text-align: left">flushPassiveEffects();</span></div></div></foreignObject></g><path d="M 7250 11358.03 L 7250 11395.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7250 11400.88 L 7246.5 11393.88 L 7250 11395.63 L 7253.5 11393.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7042.5" y="11298.03" width="415" height="60" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7044.5,11307.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="406" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 407px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const renderPriority = lanesToEventPriority(pendingPassiveEffectsLanes);</div><div>    const priority = lowerEventPriority(DefaultEventPriority, renderPriority);</div><div>    const previousPriority = getCurrentUpdatePriority();</div></div></div></foreignObject></g><path d="M 7250 11251.39 L 7250 11291.66" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7250 11296.91 L 7246.5 11289.91 L 7250 11291.66 L 7253.5 11289.91 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7239.5,11268.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><rect x="7490" y="11324.03" width="100" height="34" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7504.5,11334.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="70" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 72px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return false;</div></div></foreignObject></g><path d="M 7080 11402 L 7080 11402 L 7420 11402 L 7420 11402" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 7080 11402 L 7080 11647 L 7420 11647 L 7420 11402" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 7080 11402 L 7420 11402" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="7130" y="11453.96" width="200" height="38.04" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7132.5,11466.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="179" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 180px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">setCurrentUpdatePriority(priority);</div></div></foreignObject></g><rect x="7135" y="11521.5" width="190" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7137.5,11530.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="173" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 174px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return flushPassiveEffectsImpl();</div></div></foreignObject></g><path d="M 7230.33 11492 L 7230.33 11511.67 L 7230.33 11501.67 L 7230.33 11515.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7230.33 11520.38 L 7226.83 11513.38 L 7230.33 11515.13 L 7233.83 11513.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7119.5,11560.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="31" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">finally</div></div></foreignObject></g><path d="M 7325 11536.67 L 7432.83 11536.67 L 7533.97 11536.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7539.22 11536.67 L 7532.22 11540.17 L 7533.97 11536.67 L 7532.22 11533.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670 11501.5 L 7800 11536.5 L 7670 11571.5 L 7540 11536.5 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7542.5,11530.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="234" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 235px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (rootWithPendingPassiveEffects === null)</div></div></foreignObject></g><rect x="7630" y="11631.66" width="80" height="32" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7632.5,11641.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="67" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 68px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> return false;</div></div></foreignObject></g><path d="M 7670 11571.5 L 7670 11625.29" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670 11630.54 L 7666.5 11623.54 L 7670 11625.29 L 7673.5 11623.54 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7659.5,11595.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><rect x="7545" y="11760.84" width="250" height="68.16" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7547.5,11767.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="244" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 245px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const root = rootWithPendingPassiveEffects;</div><div>  const lanes = pendingPassiveEffectsLanes;</div><div>  rootWithPendingPassiveEffects = null;</div><div>  pendingPassiveEffectsLanes = NoLanes;<br/></div></div></div></foreignObject></g><path d="M 7800.33 11536.67 L 7830.33 11536.67 L 7830.33 11719.17 L 7670.33 11719.17 L 7670.33 11754.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670.33 11759.72 L 7666.83 11752.72 L 7670.33 11754.47 L 7673.83 11752.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7817.5,11586.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">false</div></div></foreignObject></g><rect x="7535" y="11869" width="270" height="45.92" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7537.5,11878.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="266" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 266px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const prevExecutionContext = executionContext;</div><div>  executionContext |= CommitContext;</div></div></div></foreignObject></g><path d="M 7670 11829 L 7670 11862.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670 11867.88 L 7666.5 11860.88 L 7670 11862.63 L 7673.5 11860.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7525" y="11979" width="290" height="51.12" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(7527.5,11991.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="245" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 246px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  // 执行 卸载函数 </div><div>  commitPassiveUnmountEffects(root.current);</div></div></div></foreignObject></g><path d="M 7670 11914.92 L 7670 11972.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670 11977.88 L 7666.5 11970.88 L 7670 11972.63 L 7673.5 11970.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7815 13404.17 L 7872.83 13404.17 L 7923.97 13404.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7929.22 13404.17 L 7922.22 13407.67 L 7923.97 13404.17 L 7922.22 13400.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670 13430.12 L 7670 13617.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670 13622.88 L 7666.5 13615.88 L 7670 13617.63 L 7673.5 13615.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7525" y="13379" width="290" height="51.12" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(7527.5,13391.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="257" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 258px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  // 执行 挂载函数</div><div>  commitPassiveMountEffects(root, root.current);</div></div></div></foreignObject></g><path d="M 7670 12030.12 L 7670 13372.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670 13377.88 L 7666.5 13370.88 L 7670 13372.63 L 7673.5 13370.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7932.5 12075 L 7890.33 12075 L 7890.33 12017.5 L 7821.7 12017.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7816.45 12017.5 L 7823.45 12014 L 7821.7 12017.5 L 7823.45 12021 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7932.5" y="12056.44" width="225" height="37.78" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7934.5,12068.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="213" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 214px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">commitPassiveUnmountEffects_begin();</div></div></foreignObject></g><rect x="7980" y="11982.34" width="130" height="44.44" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7982.5,11998.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="124" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 125px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  nextEffect = firstChild;</div></div></foreignObject></g><path d="M 7815 12004.56 L 7973.63 12004.56" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7978.88 12004.56 L 7971.88 12008.06 L 7973.63 12004.56 L 7971.88 12001.06 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8045.33 12026.78 L 8045.33 12046.67 L 8045.33 12036.67 L 8045.33 12050.07" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8045.33 12055.32 L 8041.83 12048.32 L 8045.33 12050.07 L 8048.83 12048.32 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7887.5,11962.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="335" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> function commitPassiveUnmountEffects(firstChild: Fiber): void </div></div></foreignObject></g><path d="M 8236 12053 L 8236 12053 L 8950 12053 L 8950 12053" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8236 12053 L 8236 13389 L 8950 13389 L 8950 12053" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8236 12053 L 8950 12053" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8421.17 12119 L 8421.17 12139.17 L 8421.17 12152.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8421.17 12158.05 L 8417.67 12151.05 L 8421.17 12152.8 L 8424.67 12151.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8501.12 12094.17 L 8860.33 12094.17 L 8860.33 13099.17 L 8480.33 13099.17 L 8480.33 13112.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8480.33 13118.05 L 8476.83 13111.05 L 8480.33 13112.8 L 8483.83 13111.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8341.12" y="12069" width="160" height="50" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8343.5,12080.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="139" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 140px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const fiber = nextEffect;</div><div>    const child = fiber.child;</div></div></div></foreignObject></g><path d="M 8421.12 12159 L 8566.12 12179 L 8421.12 12199 L 8276.12 12179 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8278.5,12172.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="265" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 266px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if ((nextEffect.flags &amp; ChildDeletion) !== NoFlags)</div></div></foreignObject></g><path d="M 8421.17 12358.99 L 8421.17 12389.17 L 8419.5 12389.17 L 8419.5 12422.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8419.5 12428.05 L 8416 12421.05 L 8419.5 12422.8 L 8423 12421.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8408.5,12372.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 8421.12 12319 L 8496.12 12339 L 8421.12 12359 L 8346.12 12339 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8366.5,12332.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 110px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (deletions !== null)</div></div></foreignObject></g><path d="M 8419.5 12603.33 L 8420.19 12632.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8420.31 12638.05 L 8416.65 12631.13 L 8420.19 12632.8 L 8423.64 12630.97 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8327 12429 L 8327 12429 L 8696 12429 L 8696 12429" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8327 12429 L 8327 12603 L 8696 12603 L 8696 12429" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8327 12429 L 8696 12429" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="8341.12" y="12451" width="200" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8343.5,12457.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="184" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 185px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  const fiberToDelete = deletions[i];</div><div><span>  nextEffect = fiberToDelete;</span></div></div></div></foreignObject></g><rect x="8341.12" y="12507.88" width="340" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8343.5,12515.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="326" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 327px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   commitPassiveUnmountEffectsInsideOfDeletedTree_begin(</div><div>      fiberToDelete,</div><div>      fiber,</div><div>   );</div></div></div></foreignObject></g><g transform="translate(8332.5,12402.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="198" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">for (let i = 0; i &lt; deletions.length; i++) </div></div></foreignObject></g><path d="M 8420.33 12672.95 L 8420.33 12705.83 L 8418.67 12705.83 L 8418.67 12732.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8418.67 12738.05 L 8415.17 12731.05 L 8418.67 12732.8 L 8422.17 12731.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8331.5,12698.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="174" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">断开 child 和 sibling 的 fiber 指针</div></div></foreignObject></g><path d="M 8420 12639 L 8530 12656 L 8420 12673 L 8310 12656 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8326.5,12649.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="187" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 188px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (deletedTreeCleanUpLevel &gt;= 1)</div></div></foreignObject></g><rect x="8300" y="12739" width="476" height="224" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8302.5,12737.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="474" height="226"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 475px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div style="color: rgb(171 , 178 , 191) ; background-color: rgb(22 , 27 , 34) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; font-size: 14px ; line-height: 136%"><div>  <span style="color: #c678dd">const</span> previousFiber <span style="color: #56b6c2">=</span> fiber<span style="color: #56b6c2">.</span><span style="color: #e06c75">alternate</span>;</div><div>  <span style="color: #c678dd">if</span> (previousFiber <span style="color: #56b6c2">!==</span> <span style="color: #d19a66">null</span>) {</div><div>    <span style="color: #c678dd">let</span> detachedChild <span style="color: #56b6c2">=</span> previousFiber<span style="color: #56b6c2">.</span><span style="color: #e06c75">child</span>;</div><div>    <span style="color: #c678dd">if</span> (detachedChild <span style="color: #56b6c2">!==</span> <span style="color: #d19a66">null</span>) {</div><div>       previousFiber<span style="color: #56b6c2">.</span><span style="color: #e06c75">child</span> <span style="color: #56b6c2">=</span> <span style="color: #d19a66">null</span>;</div><div>       <span style="color: #c678dd">do</span> {</div><div>         <span style="color: #c678dd">const</span> detachedSibling <span style="color: #56b6c2">=</span> detachedChild<span style="color: #56b6c2">.</span><span style="color: #e06c75">sibling</span>;</div><div>         detachedChild<span style="color: #56b6c2">.</span><span style="color: #e06c75">sibling</span> <span style="color: #56b6c2">=</span> <span style="color: #d19a66">null</span>;</div><div>         detachedChild <span style="color: #56b6c2">=</span> detachedSibling;</div><div>       } <span style="color: #c678dd">while</span> (detachedChild <span style="color: #56b6c2">!==</span> <span style="color: #d19a66">null</span>);</div><div>     }</div><div>  }</div></div></div></div></foreignObject></g><rect x="8487" y="13029" width="102" height="34" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8489.5,13039.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="97" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> nextEffect = fiber;</div></div></foreignObject></g><path d="M 8538 12963 L 8538 13022.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8538 13027.88 L 8534.5 13020.88 L 8538 13022.63 L 8541.5 13020.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8668.42 13139.17 L 8772.83 13139.17 L 8772.83 13210.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8772.83 13215.55 L 8769.33 13208.55 L 8772.83 13210.3 L 8776.33 13208.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8480 13119 L 8670 13139 L 8480 13159 L 8290 13139 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8292.5,13132.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="368" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 369px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if ((fiber.subtreeFlags &amp; PassiveMask) !== NoFlags &amp;&amp; child !== null)</div></div></foreignObject></g><rect x="8365" y="13219" width="230" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8367.5,13227.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="216" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 217px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">ensureCorrectReturnPointer(child, fiber);</div></div></foreignObject></g><path d="M 8480 13159 L 8480 13212.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8480 13217.88 L 8476.5 13210.88 L 8480 13212.63 L 8483.5 13210.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8469.5,13182.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><rect x="8650" y="13217" width="246" height="34" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8652.5,13227.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="239" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 240px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  commitPassiveUnmountEffects_complete();</div></div></foreignObject></g><path d="M 9060 13759.17 L 9010.33 13759.17 L 9010.33 13242.5 L 8902.53 13242.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8897.28 13242.5 L 8904.28 13239 L 8902.53 13242.5 L 8904.28 13246 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9060 13189 L 9060 13189 L 9410 13189 L 9410 13189" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9060 13189 L 9060 13789 L 9410 13789 L 9410 13189" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9060 13189 L 9410 13189" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13239 L 9215.33 13259.17 L 9215.33 13262.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13268.05 L 9211.83 13261.05 L 9215.33 13262.8 L 9218.83 13261.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9145" y="13209" width="140" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9147.5,13217.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const fiber = nextEffect;</div></div></foreignObject></g><path d="M 9215.33 13308.94 L 9215.33 13329.17 L 9215.33 13332.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13338.05 L 9211.83 13331.05 L 9215.33 13332.8 L 9218.83 13331.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9204.5,13317.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 9215 13269 L 9325 13289 L 9215 13309 L 9105 13289 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9107.5,13282.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="202" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 203px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((fiber.flags &amp; Passive) !== NoFlags)</div></div></foreignObject></g><path d="M 9215.33 13369 L 9215.33 13389.17 L 9215.33 13392.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13398.05 L 9211.83 13391.05 L 9215.33 13392.8 L 9218.83 13391.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9100" y="13339" width="230" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9102.5,13347.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="211" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 212px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> commitPassiveUnmountOnFiber(fiber);</div></div></foreignObject></g><path d="M 9215.33 13429 L 9215.33 13449.17 L 9215.33 13452.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13458.05 L 9211.83 13451.05 L 9215.33 13452.8 L 9218.83 13451.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9125" y="13399" width="180" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9127.5,13407.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="150" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 151px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const sibling = fiber.sibling;</div></div></foreignObject></g><path d="M 9215.33 13508.86 L 9215.33 13529.17 L 9215.33 13542.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13548.05 L 9211.83 13541.05 L 9215.33 13542.8 L 9218.83 13541.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9204.5,13522.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 9275.33 13484.17 L 9370.33 13484.17 L 9370.33 13669.17 L 9215.33 13669.17 L 9215.33 13702.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13708.05 L 9211.83 13701.05 L 9215.33 13702.8 L 9218.83 13701.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9356.5,13512.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 9215 13459 L 9275 13484 L 9215 13509 L 9155 13484 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9157.5,13477.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="97" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (sibling !== null) </div></div></foreignObject></g><rect x="9070" y="13549" width="290" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9072.5,13555.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="269" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 270px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   ensureCorrectReturnPointer(sibling, fiber.return);</div><div>   nextEffect = sibling;</div></div></div></foreignObject></g><rect x="9192.5" y="13619" width="45" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9194.5,13627.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="34" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 35px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> retutn</div></div></foreignObject></g><path d="M 9215.33 13589 L 9215.33 13609.17 L 9215.33 13599.17 L 9215.33 13612.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13617.88 L 9211.83 13610.88 L 9215.33 13612.63 L 9218.83 13610.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9145" y="13709" width="140" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9147.5,13717.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="131" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 132px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> nextEffect = fiber.return;</div></div></foreignObject></g><path d="M 8896 13234.17 L 8977.83 13234.17 L 8977.83 13230.83 L 9053.13 13230.83" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9058.38 13230.83 L 9051.38 13234.33 L 9053.13 13230.83 L 9051.38 13227.33 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9095.5,13162.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="138" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> while (nextEffect !== null)</div></div></foreignObject></g><path d="M 9330 13354.17 L 9415.33 13354.17 L 9493.97 13354.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9499.22 13354.17 L 9492.22 13357.67 L 9493.97 13354.17 L 9492.22 13350.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9580 13321.5 L 9660 13354 L 9580 13386.5 L 9500 13354 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9510.5,13347.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="138" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 138px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">switch (finishedWork.tag) </div></div></foreignObject></g><g transform="translate(9435.5,13292.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="358" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">function commitPassiveUnmountOnFiber(finishedWork: Fiber): void</div></div></foreignObject></g><rect x="9480" y="13489" width="200" height="90" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9482.5,13499.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="183" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 184px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   commitHookEffectListUnmount(</div><div>      HookPassive | HookHasEffect,</div><div>      finishedWork,</div><div>      finishedWork.return,</div><div>    );</div></div></div></foreignObject></g><path d="M 9580 13386.5 L 9580 13482.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9580 13487.88 L 9576.5 13480.88 L 9580 13482.63 L 9583.5 13480.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9512.5,13405.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="177" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div><span style="font-size: 11px">    case FunctionComponent:</span></div><div><span style="font-size: 11px">    case ForwardRef:</span></div><div><span style="font-size: 11px">    case SimpleMemoComponent:</span></div></div></div></foreignObject></g><g transform="translate(9761.5,13429.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="214" height="68"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>function commitHookEffectListUnmount(</div><div>  flags: HookFlags,</div><div>  finishedWork: Fiber,</div><div>  nearestMountedAncestor: Fiber | null,</div><div>)</div></div></div></foreignObject></g><rect x="9760" y="13515.25" width="540" height="37.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9762.5,13527.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="526" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 527px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const updateQueue: FunctionComponentUpdateQueue | null = (finishedWork.updateQueue: any);</div></div></foreignObject></g><path d="M 9680 13534 L 9753.63 13534" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9758.88 13534 L 9751.88 13537.5 L 9753.63 13534 L 9751.88 13530.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10299.5,13478.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="500" height="110"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><ol class="children expanded" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; list-style-type: none ; padding-left: 12px ; color: rgb(213 , 213 , 213) ; font-family: &quot;consolas&quot; , &quot;lucida console&quot; , &quot;courier new&quot; , monospace"><li class="parent" style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)"><span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; text-align: left">lastEffect</span><span style="color: rgb(213 , 213 , 213) ; text-align: left">: </span><span class="object-value-object value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(213 , 213 , 213) ; text-align: left"><span class="object-properties-preview" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px">{</span></span><br/></span></span></li><li class="parent" style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)">  create</span>: <span class="object-value-function value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic">() =&gt; {…}</span></span></li><li class="parent" style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)">  deps</span>: <span class="object-value-array value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px">[]</span></span></li><li style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)">  destroy</span>: <span class="object-value-undefined value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(161 , 161 , 161)">undefined</span></span></li><li class="parent" style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)">  next</span>: <span class="object-value-object value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px">{<span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)">tag</span>: <span class="object-value-number" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(153 , 128 , 255)">5</span>, <span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)">destroy</span>: <span class="object-value-undefined" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(161 , 161 , 161)">undefined</span>, <span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)">deps</span>: <span class="object-value-array" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px">Array(0)</span>, <span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)">next</span>: <span class="object-value-object" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px">{…}</span>, <span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(169 , 169 , 169)">create</span>: <span class="object-value-function" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; font-style: italic">ƒ</span>}</span></span></li><li tabindex="0" class="selected" style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; outline-width: 0px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><span class="name" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(227 , 110 , 236)">  tag</span>: <span class="object-value-number value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(153 , 128 , 255)">5</span></span></li><li tabindex="0" class="selected" style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; outline-width: 0px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><span class="object-value-number value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; color: rgb(153 , 128 , 255)"><span style="color: rgb(213 , 213 , 213) ; text-align: left">}</span><br/></span></span></li></ol></div></div></foreignObject></g><rect x="9830" y="13624" width="400" height="35" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9832.5,13628.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="381" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 382px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;<br/>// 取到 lastEffect</div></div></foreignObject></g><path d="M 10030 13552.75 L 10030 13617.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10030 13622.88 L 10026.5 13615.88 L 10030 13617.63 L 10033.5 13615.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10030 13699 L 10095 13715.25 L 10030 13731.5 L 9965 13715.25 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9967.5,13708.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="116" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 117px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (lastEffect !== null) </div></div></foreignObject></g><path d="M 10030 13659 L 10030 13692.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10030 13697.88 L 10026.5 13690.88 L 10030 13692.63 L 10033.5 13690.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10030.33 13809 L 10030.33 13849.17 L 10030.33 13882.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10030.33 13888.05 L 10026.83 13881.05 L 10030.33 13882.8 L 10033.83 13881.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9930" y="13769" width="200" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9932.5,13775.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="187" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 188px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const firstEffect = lastEffect.next;</div><div>    let effect = firstEffect;</div></div></div></foreignObject></g><path d="M 10030.33 13731.42 L 10030.33 13751.67 L 10030.33 13749.17 L 10030.33 13762.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10030.33 13767.88 L 10026.83 13760.88 L 10030.33 13762.63 L 10033.83 13760.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9920 13889 L 9920 13889 L 10360 13889 L 10360 13889" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9920 13889 L 9920 14329 L 10360 14329 L 10360 13889" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9920 13889 L 10360 13889" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 10080.33 13948.91 L 10080.33 13969.17 L 10080.33 13982.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10080.33 13988.05 L 10076.83 13981.05 L 10080.33 13982.8 L 10083.83 13981.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10069.5,13962.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 10080 13899 L 10175 13924 L 10080 13949 L 9985 13924 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9987.5,13917.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="168" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 169px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((effect.tag &amp; flags) === flags)</div></div></foreignObject></g><path d="M 10080.33 14029 L 10080.33 14049.17 L 10080.33 14062.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10080.33 14068.05 L 10076.83 14061.05 L 10080.33 14062.8 L 10083.83 14061.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9940" y="13989" width="280" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9942.5,13995.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="262" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 263px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> const destroy = effect.destroy;   // 取到销毁函数<br/> effect.destroy = undefined;       // 将销毁函数置空</div></div></foreignObject></g><path d="M 10165.33 14094.17 L 10320.33 14094.17 L 10320.33 14239.17 L 10080.33 14239.17 L 10080.33 14262.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10080.33 14268.05 L 10076.83 14261.05 L 10080.33 14262.8 L 10083.83 14261.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10308.5,14117.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 10080.33 14118.9 L 10080.33 14144.17 L 10081.17 14144.17 L 10081.17 14161.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10081.17 14167.22 L 10077.67 14160.22 L 10081.17 14161.97 L 10084.67 14160.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10069.5,14137.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 10080 14069 L 10165 14094 L 10080 14119 L 9995 14094 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9997.5,14087.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="137" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 138px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (destroy !== undefined)</div></div></foreignObject></g><path d="M 10082 14210.83 L 10082 14239.17 L 10080.33 14239.17 L 10080.33 14262.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10080.33 14267.88 L 10076.83 14260.88 L 10080.33 14262.63 L 10083.83 14260.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9930" y="14169" width="370" height="40" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(9932.5,14175.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="363" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 364px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> safelyCallDestroy(finishedWork, nearestMountedAncestor, destroy);<br/> // 调用销毁函数</div></div></foreignObject></g><rect x="10010" y="14269" width="140" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(10012.5,14277.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="105" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 106px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> effect = effect.next;</div></div></foreignObject></g><path d="M 9950 14339.17 L 9750.33 14339.17 L 9750.33 13556.67 L 9686.7 13556.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9681.45 13556.67 L 9688.45 13553.17 L 9686.7 13556.67 L 9688.45 13560.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9955.5,14332.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="148" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> while (effect !== firstEffect);</div></div></foreignObject></g><path d="M 9550 13666.67 L 9440.33 13666.67 L 9440.33 13361.67 L 9336.7 13361.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9331.45 13361.67 L 9338.45 13358.17 L 9336.7 13361.67 L 9338.45 13365.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9550" y="13649" width="60" height="35" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9552.5,13660.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="37" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 38px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> break;</div></div></foreignObject></g><path d="M 9580 13579 L 9580 13642.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9580 13647.88 L 9576.5 13640.88 L 9580 13642.63 L 9583.5 13640.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8772.83 13251 L 8772.83 13359.17 L 8200.33 13359.17 L 8200.33 12085 L 8164.2 12085" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8158.95 12085 L 8165.95 12081.5 L 8164.2 12085 L 8165.95 12088.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7930" y="13382.34" width="130" height="44.44" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7932.5,13398.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="124" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 125px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  nextEffect = firstChild;</div></div></foreignObject></g><g transform="translate(7901.5,13291.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="203" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div> function commitPassiveMountEffects(</div><div>  root: FiberRoot,</div><div>  finishedWork: Fiber,</div><div>): void</div></div></div></foreignObject></g><path d="M 8157.5 13519.17 L 8183.67 13519.17 L 8200.63 13519.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8205.88 13519.17 L 8198.88 13522.67 L 8200.63 13519.17 L 8198.88 13515.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7832.5" y="13499" width="325" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7834.5,13512.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="301" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 302px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  commitPassiveMountEffects_begin(finishedWork, root);</div></div></foreignObject></g><path d="M 7995 13426.78 L 7995 13492.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7995 13497.88 L 7991.5 13490.88 L 7995 13492.63 L 7998.5 13490.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8210 13489 L 8210 13489 L 8924 13489 L 8924 13489" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8210 13489 L 8210 13799 L 8924 13799 L 8924 13489" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8210 13489 L 8924 13489" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 8395.33 13555 L 8395.33 13575 L 8395.33 13588.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8395.33 13593.88 L 8391.83 13586.88 L 8395.33 13588.63 L 8398.83 13586.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8384.5,13568.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 8475.12 13530 L 8735.33 13530 L 8735.33 13600.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8735.33 13605.55 L 8731.83 13598.55 L 8735.33 13600.3 L 8738.83 13598.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8723.5,13537.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><rect x="8315.12" y="13505" width="160" height="50" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8317.5,13516.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="139" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 140px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const fiber = nextEffect;</div><div>    const child = fiber.child;</div></div></div></foreignObject></g><path d="M 8395.33 13648.96 L 8395.33 13674.17 L 8395.33 13692.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8395.33 13698.05 L 8391.83 13691.05 L 8395.33 13692.8 L 8398.83 13691.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8384.5,13667.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 8395.12 13595 L 8540.12 13622 L 8395.12 13649 L 8250.12 13622 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8251.5,13608.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="286" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 286px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((fiber.subtreeFlags &amp; PassiveMask) !== NoFlags &amp;&amp; firstChild !== null)</div></div></foreignObject></g><path d="M 8395.33 13729 L 8395.33 13749.17 L 8395.33 13742.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8395.33 13748.05 L 8391.83 13741.05 L 8395.33 13742.8 L 8398.83 13741.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8265.12" y="13699" width="260" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8273.5,13707.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="242" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 242px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> ensureCorrectReturnPointer(firstChild, fiber);</div></div></foreignObject></g><rect x="8315.12" y="13749" width="160" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8332.5,13757.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="124" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 124px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  nextEffect = firstChild;</div></div></foreignObject></g><rect x="8570" y="13607" width="330" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8576.5,13615.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="316" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 318px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  commitPassiveMountEffects_complete(subtreeRoot, root);</div></div></foreignObject></g><g transform="translate(8241.5,12033.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="138" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> while (nextEffect !== null)</div></div></foreignObject></g><g transform="translate(8217.5,13462.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="135" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">while (nextEffect !== null)</div></div></foreignObject></g><path d="M 9085 13869.17 L 8950.33 13869.17 L 8950.33 13629.17 L 8906.7 13629.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8901.45 13629.17 L 8908.45 13625.67 L 8906.7 13629.17 L 8908.45 13632.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9092.5,13862.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="145" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">  while (nextEffect !== null) </div></div></foreignObject></g><path d="M 9040 13889 L 9040 13889 L 9410 13889 L 9410 13889" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9040 13889 L 9040 14849 L 9410 14849 L 9410 13889" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9040 13889 L 9410 13889" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13939 L 9215.33 13959.17 L 9215.33 13962.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 13968.05 L 9211.83 13961.05 L 9215.33 13962.8 L 9218.83 13961.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9145" y="13909" width="140" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9147.5,13917.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="132" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 133px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const fiber = nextEffect;</div></div></foreignObject></g><path d="M 9215.33 14008.94 L 9215.33 14029.17 L 9215.33 14032.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 14038.05 L 9211.83 14031.05 L 9215.33 14032.8 L 9218.83 14031.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215 13969 L 9325 13989 L 9215 14009 L 9105 13989 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9107.5,13982.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="202" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 203px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((fiber.flags &amp; Passive) !== NoFlags)</div></div></foreignObject></g><rect x="9100" y="14039" width="230" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9102.5,14047.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="211" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 212px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> commitPassiveUnmountOnFiber(fiber);</div></div></foreignObject></g><path d="M 9215.33 14519 L 9215.33 14539.17 L 9215.33 14542.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 14548.05 L 9211.83 14541.05 L 9215.33 14542.8 L 9218.83 14541.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9125" y="14489" width="180" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9127.5,14497.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="150" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 151px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const sibling = fiber.sibling;</div></div></foreignObject></g><path d="M 9215.33 14598.86 L 9215.33 14619.17 L 9215.33 14632.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 14638.05 L 9211.83 14631.05 L 9215.33 14632.8 L 9218.83 14631.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9204.5,14612.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 9215 14549 L 9275 14574 L 9215 14599 L 9155 14574 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9157.5,14567.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="97" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 98px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (sibling !== null) </div></div></foreignObject></g><rect x="9070" y="14639" width="290" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9072.5,14645.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="269" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 270px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   ensureCorrectReturnPointer(sibling, fiber.return);</div><div>   nextEffect = sibling;</div></div></div></foreignObject></g><rect x="9192.5" y="14709" width="45" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9194.5,14717.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="34" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 35px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> retutn</div></div></foreignObject></g><path d="M 9215.33 14679 L 9215.33 14699.17 L 9215.33 14689.17 L 9215.33 14702.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 14707.88 L 9211.83 14700.88 L 9215.33 14702.63 L 9218.83 14700.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9145" y="14779" width="140" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9147.5,14787.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="131" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 132px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> nextEffect = fiber.return;</div></div></foreignObject></g><path d="M 9290.33 14294.17 L 9370.33 14294.17 L 9370.33 14794.17 L 9291.7 14794.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9286.45 14794.17 L 9293.45 14790.67 L 9291.7 14794.17 L 9293.45 14797.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9311.5,14287.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">false</div></div></foreignObject></g><path d="M 9217.5 14269 L 9290 14294 L 9217.5 14319 L 9145 14294 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9147.5,14280.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="134" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 135px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if (fiber === subtreeRoot)<br/>是否到了 finishedWork</div></div></foreignObject></g><rect x="9162.5" y="14359" width="110" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9164.5,14367.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="89" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 90px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">nextEffect = null;</div></div></foreignObject></g><path d="M 9217.83 14318.89 L 9217.83 14339.17 L 9217.83 14352.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9217.83 14358.05 L 9214.33 14351.05 L 9217.83 14352.8 L 9221.33 14351.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9206.5,14332.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><rect x="9195" y="14419" width="45" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9197.5,14427.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="34" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 35px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> retutn</div></div></foreignObject></g><path d="M 9217.83 14389 L 9217.83 14409.17 L 9217.83 14399.17 L 9217.83 14412.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9217.83 14417.88 L 9214.33 14410.88 L 9217.83 14412.63 L 9221.33 14410.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9235.33 14249.17 L 9217.83 14249.17 L 9217.83 14262.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9217.83 14268.05 L 9214.33 14261.05 L 9217.83 14262.8 L 9221.33 14261.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9340.33 14249 L 9340.33 14469.17 L 9215.33 14469.17 L 9215.33 14482.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9215.33 14487.88 L 9211.83 14480.88 L 9215.33 14482.63 L 9218.83 14480.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9080 14099 L 9080 14099 L 9390 14099 L 9390 14099" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9080 14099 L 9080 14249 L 9390 14249 L 9390 14099" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9080 14099 L 9390 14099" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9097.5,14112.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> try {</div></div></foreignObject></g><g transform="translate(9095.5,14182.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="69" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">catch (error) </div></div></foreignObject></g><rect x="9090" y="14209" width="290" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9098.5,14217.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="272" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 274px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">captureCommitPhaseError(fiber, fiber.return, error);</div></div></foreignObject></g><path d="M 9274.6 14574.17 L 9370.33 14574.17 L 9370.33 14794.17 L 9291.7 14794.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9286.45 14794.17 L 9293.45 14790.67 L 9291.7 14794.17 L 9293.45 14797.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9296.5,14567.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">false</div></div></foreignObject></g><path d="M 8900 13621.67 L 8970.33 13621.67 L 8970.33 13921.67 L 9032.3 13921.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9037.55 13921.67 L 9030.55 13925.17 L 9032.3 13921.67 L 9030.55 13918.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9145 13724.17 L 9070.33 13724.17 L 9070.33 13169.17 L 9083.97 13169.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9089.22 13169.17 L 9082.22 13172.67 L 9083.97 13169.17 L 9082.22 13165.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9145.33 14794.17 L 9060.33 14794.17 L 9060.33 13871.67 L 9079.8 13871.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9085.05 13871.67 L 9078.05 13875.17 L 9079.8 13871.67 L 9078.05 13868.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9555 14431.5 L 9635 14464 L 9555 14496.5 L 9475 14464 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9485.5,14457.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="138" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 138px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">switch (finishedWork.tag) </div></div></foreignObject></g><g transform="translate(9425.5,14402.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="358" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">function commitPassiveUnmountOnFiber(finishedWork: Fiber): void</div></div></foreignObject></g><path d="M 9555.33 14496.36 L 9555.33 14542.5 L 9555.33 14582.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9555.33 14588.05 L 9551.83 14581.05 L 9555.33 14582.8 L 9558.83 14581.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9487.5,14512.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="177" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div><span style="font-size: 11px">    case FunctionComponent:</span></div><div><span style="font-size: 11px">    case ForwardRef:</span></div><div><span style="font-size: 11px">    case SimpleMemoComponent:</span></div></div></div></foreignObject></g><rect x="9525" y="14709" width="60" height="35" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9527.5,14720.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="37" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 38px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> break;</div></div></foreignObject></g><path d="M 9555 14659 L 9555 14702.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9555 14707.88 L 9551.5 14700.88 L 9555 14702.63 L 9558.5 14700.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9650 14624.17 L 9700.33 14624.17 L 9743.97 14624.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9749.22 14624.17 L 9742.22 14627.67 L 9743.97 14624.17 L 9742.22 14620.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9460" y="14589" width="190" height="70" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9462.5,14596.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="176" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 177px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  commitHookEffectListMount(<br/>    HookPassive | HookHasEffect, <br/>    finishedWork<br/>  );</div></div></foreignObject></g><g transform="translate(9735.5,14552.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="379" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">function commitHookEffectListMount(tag: number, finishedWork: Fiber) </div></div></foreignObject></g><path d="M 10020.33 14642.75 L 10020.33 14670.83 L 10020.33 14692.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10020.33 14698.05 L 10016.83 14691.05 L 10020.33 14692.8 L 10023.83 14691.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9750" y="14605.25" width="540" height="37.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9752.5,14617.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="526" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 527px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const updateQueue: FunctionComponentUpdateQueue | null = (finishedWork.updateQueue: any);</div></div></foreignObject></g><rect x="9820" y="14699" width="400" height="35" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9822.5,14703.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="381" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 382px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const lastEffect = updateQueue !== null ? updateQueue.lastEffect : null;<br/>// 取到 lastEffect</div></div></foreignObject></g><path d="M 10020 14774 L 10085 14790.25 L 10020 14806.5 L 9955 14790.25 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9957.5,14783.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="116" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 117px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (lastEffect !== null) </div></div></foreignObject></g><path d="M 10020 14734 L 10020 14767.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10020 14772.88 L 10016.5 14765.88 L 10020 14767.63 L 10023.5 14765.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9920" y="14844" width="200" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9922.5,14850.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="187" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 188px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const firstEffect = lastEffect.next;</div><div>    let effect = firstEffect;</div></div></div></foreignObject></g><path d="M 10020.33 14806.42 L 10020.33 14826.67 L 10020.33 14824.17 L 10020.33 14837.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10020.33 14842.88 L 10016.83 14835.88 L 10020.33 14837.63 L 10023.83 14835.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9910 14964 L 9910 14964 L 10130 14964 L 10130 14964" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9910 14964 L 9910 15259 L 10130 15259 L 10130 14964" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 9910 14964 L 10130 14964" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 10025.33 15028.9 L 10025.33 15049.17 L 10025.33 15062.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10025.33 15068.05 L 10021.83 15061.05 L 10025.33 15062.8 L 10028.83 15061.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10014.5,15042.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><path d="M 10025 14979 L 10107.5 15004 L 10025 15029 L 9942.5 15004 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9944.5,14997.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="150" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 151px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">if ((effect.tag &amp; tag) === tag)</div></div></foreignObject></g><path d="M 10025.33 15094 L 10025.33 15114.17 L 10025.33 15112.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10025.33 15118.05 L 10021.83 15111.05 L 10025.33 15112.8 L 10028.83 15111.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9940" y="15069" width="170" height="25" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9942.5,15075.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="158" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 159px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>   const create = effect.create;</div></div></div></foreignObject></g><rect x="9955" y="15199" width="140" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9957.5,15207.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="105" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 106px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> effect = effect.next;</div></div></foreignObject></g><path d="M 10025.33 15154 L 10025.33 15176.67 L 10025.33 15192.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10025.33 15198.05 L 10021.83 15191.05 L 10025.33 15192.8 L 10028.83 15191.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9950" y="15119" width="150" height="35" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(9952.5,15123.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="137" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 138px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span>  effect.destroy = create();<br/>  // 执行 mount 回调<br/></span></div></div></foreignObject></g><path d="M 10020.33 14884 L 10020.33 14924.17 L 10020.33 14957.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10020.33 14963.05 L 10016.83 14956.05 L 10020.33 14957.8 L 10023.83 14956.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9945 15279.17 L 9740.33 15279.17 L 9740.33 14641.67 L 9656.7 14641.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9651.45 14641.67 L 9658.45 14638.17 L 9656.7 14641.67 L 9658.45 14645.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9950.5,15272.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="148" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"> while (effect !== firstEffect);</div></div></foreignObject></g><g transform="translate(9929.5,14927.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">do {</div></div></foreignObject></g><path d="M 10025 15229 L 10025 15262.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 10025 15267.88 L 10021.5 15260.88 L 10025 15262.63 L 10028.5 15260.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9195 14434.17 L 8950.33 14434.17 L 8950.33 13629.17 L 8906.7 13629.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8901.45 13629.17 L 8908.45 13625.67 L 8906.7 13629.17 L 8908.45 13632.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9192.5 14724.17 L 8950.33 14724.17 L 8950.33 13629.17 L 8906.7 13629.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8901.45 13629.17 L 8908.45 13625.67 L 8906.7 13629.17 L 8908.45 13632.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8735.33 13637 L 8735.33 13839.17 L 8180.33 13839.17 L 8180.33 13529.17 L 8164.2 13529.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8158.95 13529.17 L 8165.95 13525.67 L 8164.2 13529.17 L 8165.95 13532.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670.33 13664 L 7670.33 13706.67 L 7670.33 13742.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7670.33 13748.05 L 7666.83 13741.05 L 7670.33 13742.8 L 7673.83 13741.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="7605" y="13624" width="130" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7607.5,13637.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="119" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 120px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> flushSyncCallbacks();</div></div></foreignObject></g><rect x="7630" y="13749" width="80" height="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7632.5,13762.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="65" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 66px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  return true;</div></div></foreignObject></g><rect x="5615.75" y="13382.34" width="200" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(5618.5,13390.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="171" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 172px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">currentTask = peek(taskQueue);</div></div></foreignObject></g><g transform="translate(5575.5,12559.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="299" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div> while (</div><div>    currentTask !== null &amp;&amp;</div><div>    !(enableSchedulerDebugging &amp;&amp; isSchedulerPaused)</div><div>  ) </div></div></div></foreignObject></g><path d="M 5615.75 13397.5 L 5553.67 13397.5 L 5553.67 12598.33 L 5565.63 12598.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5570.88 12598.33 L 5563.88 12601.83 L 5565.63 12598.33 L 5563.88 12594.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5654" y="13269" width="360.75" height="29.88" fill="#1ba1e2" stroke="#006eaf" pointer-events="none"/><g transform="translate(5656.5,13270.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="348" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 349px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">  const continuationCallback = callback(didUserCallbackTimeout);<br/>  // 开始执行 effect</div></div></foreignObject></g><path d="M 5654 13284.17 L 5490.33 13284.17 L 5490.33 8571.67 L 3270.03 8571.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3264.78 8571.67 L 3271.78 8568.17 L 3270.03 8571.67 L 3271.78 8575.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5529.5,13278.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="167" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">执行 flushPassiveEffects() 回调</div></div></foreignObject></g><path d="M 5705 13529 L 5780 13554 L 5705 13579 L 5630 13554 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5632.5,13547.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="125" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 126px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (currentTask !== null)</div></div></foreignObject></g><path d="M 5667.5 13641.67 L 5460.33 13641.67 L 5460.33 12404.17 L 5360.03 12404.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5354.78 12404.17 L 5361.78 12400.67 L 5360.03 12404.17 L 5361.78 12407.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5667.5" y="13624" width="75" height="35" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(5669.5,13635.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="59" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 60px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">return true;</div></div></foreignObject></g><path d="M 5705 13579 L 5705 13617.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5705 13622.88 L 5701.5 13615.88 L 5705 13617.63 L 5708.5 13615.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5694.5,13595.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><rect x="5790" y="13594" width="415" height="65" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(5792.5,13599.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="401" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 402px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>    const firstTimer = peek(timerQueue);</div><div>    if (firstTimer !== null) {</div><div>      requestHostTimeout(handleTimeout, firstTimer.startTime - currentTime);</div><div>    }</div></div></div></foreignObject></g><path d="M 5779.5 13554.17 L 5997.83 13554.17 L 5997.83 13587.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5997.83 13592.88 L 5994.33 13585.88 L 5997.83 13587.63 L 6001.33 13585.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5951.25 13712.5 L 5460.33 13712.5 L 5460.33 12404.17 L 5360.03 12404.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5354.78 12404.17 L 5361.78 12400.67 L 5360.03 12404.17 L 5361.78 12407.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5951.25" y="13694" width="92.5" height="37.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(5953.5,13706.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="77" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 78px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">    return false;</div></div></foreignObject></g><path d="M 5997.83 13659 L 5997.83 13679.17 L 5997.83 13674.17 L 5997.83 13687.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5997.83 13692.88 L 5994.33 13685.88 L 5997.83 13687.63 L 6001.33 13685.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10370.5,14796.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="12" height="14"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: black; line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><ol class="children expanded" style="box-sizing: border-box ; padding-left: 12px ; min-width: 0px ; min-height: 0px ; color: rgb(213 , 213 , 213) ; font-family: &quot;consolas&quot; , &quot;lucida console&quot; , &quot;courier new&quot; , monospace"><li class="parent" style="box-sizing: border-box ; min-width: 0px ; min-height: 16px ; text-overflow: ellipsis ; position: relative ; display: flex"><span class="name-and-value" style="box-sizing: border-box ; min-width: 0px ; min-height: 0px ; overflow: hidden ; text-overflow: ellipsis ; line-height: 16px"><br/></span></li></ol></div></div></foreignObject></g><g transform="translate(10311.5,14547.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="561" height="124"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; line-height: 156% ; font-size: 11px"><div>  <span style="color: rgb(152 , 195 , 121)">lastEffect</span><span style="color: rgb(86 , 182 , 194)">:</span> {</div><div>    <span style="color: #98c379">create</span><span style="color: #56b6c2">:</span> () <span style="color: #c678dd">=&gt;</span> {…}</div><div>    <span style="color: #98c379">deps</span><span style="color: #56b6c2">:</span> []</div><div>    <span style="color: #98c379">destroy</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">undefined</span></div><div>    <span style="color: #98c379">next</span><span style="color: #56b6c2">:</span> {<span style="color: #98c379">tag</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">5</span>, <span style="color: #98c379">destroy</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">undefined</span>, <span style="color: #98c379">deps</span><span style="color: #56b6c2">:</span> <span style="color: #e5c07b">Array</span>(<span style="color: #d19a66">0</span>), <span style="color: #98c379">next</span><span style="color: #56b6c2">:</span> {…}, <span style="color: #98c379">create</span><span style="color: #56b6c2">:</span> ƒ}</div><div>    <span style="color: #98c379">tag</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">5</span></div><div>  }</div></div></div></div></foreignObject></g><path d="M 3999.5 11537.5 L 3999.5 11558.33 L 3998.67 11558.33 L 3998.67 11572.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3998.67 11578.05 L 3995.17 11571.05 L 3998.67 11572.8 L 4002.17 11571.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3900.13" y="11509" width="199.37" height="28.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3902.5,11516.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="192" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 193px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><font color="#000000">  scheduledHostCallback = callback;</font></div></div></foreignObject></g><path d="M 4115.66 11660 L 4172.83 11660 L 4223.97 11660" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 4229.22 11660 L 4222.22 11663.5 L 4223.97 11660 L 4222.22 11656.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="3879.98" y="11639.16" width="235.68" height="41.5" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(3882.5,11646.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="215" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 216px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div><font color="#000000">    isMessageLoopRunning = true;</font></div><div><font color="#000000">    schedulePerformWorkUntilDeadline();</font></div></div></div></foreignObject></g><g transform="translate(5120.5,12000.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="270" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>scheduledHostCallback 被赋值成 <br/></b>function flushWork(hasTimeRemaining, initialTime)</div></div></foreignObject></g><rect x="5520" y="12382.5" width="195" height="50" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5522.5,12394.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="163" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 164px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  let currentTime = initialTime;</div><div>  advanceTimers(currentTime);</div></div></div></foreignObject></g><path d="M 5617.83 12529.75 L 5617.83 12576.67 L 5628.67 12576.67 L 5628.67 12616.97" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5628.67 12622.22 L 5625.17 12615.22 L 5628.67 12616.97 L 5632.17 12615.22 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5528.75" y="12496" width="177.5" height="33.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5531.5,12506.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="171" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 172px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">currentTask = peek(taskQueue);</div></div></foreignObject></g><path d="M 5617.5 12432.5 L 5617.5 12489.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5617.5 12494.88 L 5614 12487.88 L 5617.5 12489.63 L 5621 12487.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5823" y="12494.88" width="231" height="36" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5825.5,12506.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="221" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 222px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> return heap.length === 0 ? null : heap[0];</div></div></foreignObject></g><path d="M 5706.25 12512.5 L 5764.5 12512.5 L 5816.47 12512.5" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5821.72 12512.5 L 5814.72 12516 L 5816.47 12512.5 L 5814.72 12509 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5704.5 13459.17 L 5704.5 13494.17 L 5705.33 13494.17 L 5705.33 13522.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5705.33 13528.05 L 5701.83 13521.05 L 5705.33 13522.8 L 5708.83 13521.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5541 12623 L 5541 12623 L 6196 12623 L 6196 12623" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5541 12623 L 5541 13459 L 6196 13459 L 6196 12623" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5541 12623 L 6196 12623" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 5716.12 12648 L 5875.12 12686 L 5716.12 12724 L 5557.12 12686 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5559.5,12658.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="254" height="54"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 255px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>  if (</div><div>    currentTask.expirationTime &gt; currentTime &amp;&amp;</div><div>    (!hasTimeRemaining || shouldYieldToHost())</div><div>  )</div></div></div></foreignObject></g><rect x="5599.25" y="12910" width="233" height="51" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5601.5,12922.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="201" height="26"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 202px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const callback = currentTask.callback;<br/>// 取到 callback</div></div></foreignObject></g><path d="M 5875.33 12685.83 L 5897 12685.83 L 5897 12880.83 L 5715.33 12880.83 L 5715.33 12903.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5715.33 12908.88 L 5711.83 12901.88 L 5715.33 12903.63 L 5718.83 12901.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5884.5,12730.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 5715.75 12998 L 5809.5 13021.75 L 5715.75 13045.5 L 5622 13021.75 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5624.5,13015.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="174" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 175px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> if (typeof callback === 'function')</div></div></foreignObject></g><path d="M 5716.17 12961 L 5716.17 12980.83 L 5716.17 12978.33 L 5716.17 12991.74" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5716.17 12996.99 L 5712.67 12989.99 L 5716.17 12991.74 L 5719.67 12989.99 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="5604.25" y="13121" width="442.5" height="70.75" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5606.5,13135.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="427" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 428px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><div>     currentTask.callback = null;</div><div>      currentPriorityLevel = currentTask.priorityLevel;</div><div>      const didUserCallbackTimeout = currentTask.expirationTime &lt;= currentTime;</div></div></div></foreignObject></g><path d="M 5716.17 13045.39 L 5716.17 13083.33 L 5714.5 13083.33 L 5714.5 13114.47" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5714.5 13119.72 L 5711 13112.72 L 5714.5 13114.47 L 5718 13112.72 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5704.5,13076.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><g transform="translate(5824.5,12474.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="148" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">function peek(heap: Heap): </div></div></foreignObject></g><rect x="5605.81" y="12776" width="196.13" height="54" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(5608.5,12782.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="192" height="40"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 192px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">   // This currentTask hasn't expired, and we've reached the deadline.<br/>  break;</div></div></foreignObject></g><path d="M 5716.17 12723.99 L 5716.17 12750 L 5703.67 12750 L 5703.67 12769.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5703.67 12774.88 L 5700.17 12767.88 L 5703.67 12769.63 L 5707.17 12767.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5698.5,12743.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">true</div></div></foreignObject></g><path d="M 3789.68 11524.17 L 3845.33 11524.17 L 3845.33 11523.33 L 3893.76 11523.33" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3899.01 11523.33 L 3892.01 11526.83 L 3893.76 11523.33 L 3892.01 11519.83 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3998.67 11607.97 L 3998.67 11628.33 L 3997.83 11628.33 L 3997.83 11632.79" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 3997.83 11638.04 L 3994.33 11631.04 L 3997.83 11632.79 L 4001.33 11631.04 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(7119.5,11432.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">try {</div></div></foreignObject></g><rect x="7140" y="11589" width="250" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(7142.5,11597.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="229" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 230px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"> setCurrentUpdatePriority(previousPriority);</div></div></foreignObject></g><path d="M 8157.5 12075 L 8197.83 12075 L 8231.13 12075.28" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8236.38 12075.32 L 8229.35 12078.76 L 8231.13 12075.28 L 8229.41 12071.76 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8421.17 12279 L 8421.17 12299.17 L 8421.17 12312.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8421.17 12318.05 L 8417.67 12311.05 L 8421.17 12312.8 L 8424.67 12311.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="8326.68" y="12259" width="188.88" height="20" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8329.5,12262.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="171" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 172px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">const deletions = fiber.deletions;</div></div></foreignObject></g><path d="M 8421.17 12198.99 L 8421.17 12229.17 L 8421.17 12252.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8421.17 12257.88 L 8417.67 12250.88 L 8421.17 12252.63 L 8424.67 12250.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8410.5,12222.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;">true</div></div></foreignObject></g><rect x="8430" y="13289" width="100" height="35" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(8432.5,13300.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="95" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 96px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">nextEffect = child;</div></div></foreignObject></g><path d="M 8480 13249 L 8480 13282.63" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 8480 13287.88 L 8476.5 13280.88 L 8480 13282.63 L 8483.5 13280.88 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(9939.5,13852.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="21" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">do {</div></div></foreignObject></g><path d="M 9370 14154.17 L 9555.33 14154.17 L 9555.33 14425.3" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9555.33 14430.55 L 9551.83 14423.55 L 9555.33 14425.3 L 9558.83 14423.55 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><rect x="9130" y="14139" width="240" height="30" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(9139.5,14147.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="220" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 220px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;">commitPassiveMountOnFiber(root, fiber);</div></div></foreignObject></g><path d="M 9525 14726.67 L 9440.33 14726.67 L 9440.33 14161.67 L 9376.7 14161.67" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 9371.45 14161.67 L 9378.45 14158.17 L 9376.7 14161.67 L 9378.45 14165.17 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8199.5,13432.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="425" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">function commitPassiveMountEffects_begin(subtreeRoot: Fiber, root: FiberRoot)</div></div></foreignObject></g><path d="M 7630 13769.17 L 7490.33 13769.17 L 7490.33 11604.17 L 7396.7 11604.17" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 7391.45 11604.17 L 7398.45 11600.67 L 7396.7 11604.17 L 7398.45 11607.67 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5809.17 13021.67 L 6123.67 13021.67 L 6123.67 13329.17 L 5716.17 13329.17 L 5716.17 13376.13" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5716.17 13381.38 L 5712.67 13374.38 L 5716.17 13376.13 L 5719.67 13374.38 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(5858.5,13013.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="25" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">false</div></div></foreignObject></g><path d="M 5714.5 13191.67 L 5714.5 13230 L 5713.67 13230 L 5713.67 13262.8" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5713.67 13268.05 L 5710.17 13261.05 L 5713.67 13262.8 L 5717.17 13261.05 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5354 12395.83 L 5437 12395.83 L 5437 12395 L 5513.97 12395" fill="none" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><path d="M 5519.22 12395 L 5512.22 12398.5 L 5513.97 12395 L 5512.22 12391.5 Z" fill="#666666" stroke="#666666" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(10321.5,13587.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="561" height="124"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div style="color: rgb(171 , 178 , 191) ; font-family: &quot;fira code light&quot; , &quot;consolas&quot; , &quot;courier new&quot; , monospace ; line-height: 156% ; font-size: 11px"><div>  <span style="color: rgb(152 , 195 , 121)">lastEffect</span><span style="color: rgb(86 , 182 , 194)">:</span> {</div><div>    <span style="color: #98c379">create</span><span style="color: #56b6c2">:</span> () <span style="color: #c678dd">=&gt;</span> {…}</div><div>    <span style="color: #98c379">deps</span><span style="color: #56b6c2">:</span> []</div><div>    <span style="color: #98c379">destroy</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">undefined</span></div><div>    <span style="color: #98c379">next</span><span style="color: #56b6c2">:</span> {<span style="color: #98c379">tag</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">5</span>, <span style="color: #98c379">destroy</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">undefined</span>, <span style="color: #98c379">deps</span><span style="color: #56b6c2">:</span> <span style="color: #e5c07b">Array</span>(<span style="color: #d19a66">0</span>), <span style="color: #98c379">next</span><span style="color: #56b6c2">:</span> {…}, <span style="color: #98c379">create</span><span style="color: #56b6c2">:</span> ƒ}</div><div>    <span style="color: #98c379">tag</span><span style="color: #56b6c2">:</span> <span style="color: #d19a66">5</span></div><div>  }</div></div></div></div></foreignObject></g><rect x="2473" y="4229" width="232" height="135" fill="none" stroke="#000000" pointer-events="none"/><g transform="translate(2475.5,4234.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="228" height="124"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 228px; white-space: nowrap; overflow-wrap: normal; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;white-space:normal;"><div> resetRenderTimer();</div><div> flushSyncCallbacksOnlyInLegacyMode();</div><div>现在刷新同步工作，除非我们已经在工作或在批处理中。这是有意在 scheduleUpdateOnFiber 而不是 scheduleCallbackForFiber 内部， 以保留在不立即刷新回调的情况下安排回调的能力。我们仅对用户启动的更新执行此操作，以保留传统模式的历史行为。<br/></div></div></div></foreignObject></g></g></svg>