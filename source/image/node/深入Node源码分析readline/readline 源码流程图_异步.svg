<?xml version="1.0" standalone="no"?>
<svg style="background: #FFFFFF" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="211px" height="1124px" viewBox="-0.5 -0.5 171 1084"><defs><style>* {margin: 0px; padding: 0px;}</style></defs><g><g transform="translate(42.5,3.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="84" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; vertical-align: top; white-space: nowrap; font-weight: bold; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">异步回调流程图</div></div></foreignObject></g><path d="M 85 113 L 85 154.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 161.88 L 82.67 154.88 L 87.33 154.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 63 L 170 63 L 170 113 L 0 113 L 0 63 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 67.17 L 7.08 108.83 L 7.08 108.83 L 162.92 108.83 L 162.92 67.17 L 7.08 67.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 63 L 170 63 L 170 113 L 0 113 L 0 63 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="90.5">addChunk()</text></g><path d="M 85 213 L 85 259.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 266.88 L 82.67 259.88 L 87.33 259.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 163 L 170 163 L 170 213 L 0 213 L 0 163 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 167.17 L 7.08 208.83 L 7.08 208.83 L 162.92 208.83 L 162.92 167.17 L 7.08 167.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 163 L 170 163 L 170 213 L 0 213 L 0 163 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="190.5">stream.emit('data', chunk);</text></g><path d="M 85 318 L 85 374.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 381.88 L 82.67 374.88 L 87.33 374.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(39.5,343.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="90" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;"><span style="color: rgb(0 , 0 , 0) ; background-color: rgb(248 , 249 , 250)">调 genarate 函数</span></div></div></foreignObject></g><path d="M 0 268 L 170 268 L 170 318 L 0 318 L 0 268 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 272.17 L 7.08 313.83 L 7.08 313.83 L 162.92 313.83 L 162.92 272.17 L 7.08 272.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 268 L 170 268 L 170 318 L 0 318 L 0 268 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="295.5">onData()</text></g><path d="M 85 433 L 85 484.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 491.88 L 82.67 484.88 L 87.33 484.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 383 L 170 383 L 170 433 L 0 433 L 0 383 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 387.17 L 7.08 428.83 L 7.08 428.83 L 162.92 428.83 L 162.92 387.17 L 7.08 387.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 383 L 170 383 L 170 433 L 0 433 L 0 383 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="403.5">stream[ESCAPE_DECODER]</text><text x="83.5" y="417.5">.next(character)</text></g><path d="M 85 543 L 85 594.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 601.88 L 82.67 594.88 L 87.33 594.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 493 L 170 493 L 170 543 L 0 543 L 0 493 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 497.17 L 7.08 538.83 L 7.08 538.83 L 162.92 538.83 L 162.92 497.17 L 7.08 497.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 493 L 170 493 L 170 543 L 0 543 L 0 493 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="520.5">stream.emit('keypress', s, key)</text></g><path d="M 85 653 L 85 694.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 701.88 L 82.67 694.88 L 87.33 694.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 603 L 170 603 L 170 653 L 0 653 L 0 603 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 607.17 L 7.08 648.83 L 7.08 648.83 L 162.92 648.83 L 162.92 607.17 L 7.08 607.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 603 L 170 603 L 170 653 L 0 653 L 0 603 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="630.5">self._ttyWrite(s, key)</text></g><path d="M 85 753 L 85 804.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 811.88 L 82.67 804.88 L 87.33 804.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 703 L 170 703 L 170 753 L 0 753 L 0 703 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 707.17 L 7.08 748.83 L 7.08 748.83 L 162.92 748.83 L 162.92 707.17 L 7.08 707.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 703 L 170 703 L 170 753 L 0 753 L 0 703 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="730.5">this._insertString(lines[i])</text></g><path d="M 85 863 L 85 909.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 916.88 L 82.67 909.88 L 87.33 909.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 813 L 170 813 L 170 863 L 0 863 L 0 813 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 817.17 L 7.08 858.83 L 7.08 858.83 L 162.92 858.83 L 162.92 817.17 L 7.08 817.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 813 L 170 813 L 170 863 L 0 863 L 0 813 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="840.5">this._writeToOutput(c)</text></g><path d="M 85 968 L 85 1024.88" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><path d="M 85 1031.88 L 82.67 1024.88 L 87.33 1024.88 Z" fill="#999999" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(72.5,993.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(153, 153, 153); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;"><font color="#000000">回显</font></div></div></foreignObject></g><path d="M 0 918 L 170 918 L 170 968 L 0 968 L 0 918 Z" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 7.08 922.17 L 7.08 963.83 L 7.08 963.83 L 162.92 963.83 L 162.92 922.17 L 7.08 922.17" fill="#ffcc99" stroke="none" pointer-events="none"/><path d="M 0 918 L 170 918 L 170 968 L 0 968 L 0 918 Z" fill="none" stroke="#999999" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="83.5" y="945.5">this.output.write(stringToWrite)</text></g><rect x="0" y="1033" width="170" height="50" fill="#cccccc" stroke="#999999" stroke-dasharray="3 3" pointer-events="none"/><g transform="translate(48.5,1050.5)"><foreignObject style="overflow:visible;" pointer-events="all" width="72" height="12"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 73px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;white-space:normal;"><span style="white-space: nowrap">等待用户输入</span></div></div></foreignObject></g></g></svg>